A Random Graph Model for Power Law Graphs William Aiello ∗ Fan Chung †‡ Linyuan Lu § ∗ Abstract We propose a random graph model which is a special case of sparse random graphs with given degree sequences which satisfy a power law . This model involves only a small number of parameters , called log - size and log - log growth rate . These parameters capture some universal characteristics of massive graphs . Furthermore , from these parame - ters , various properties of the graph can be derived . For example , for certain ranges of the parameters , we will compute the expected distri - bution of the sizes of the connected components which almost surely occur with high probability . We will illustrate the consistency of our model with the behavior of some massive graphs derived from data in telecommunications . We will also discuss the threshold function , the giant component , and the evolution of random graphs in this model . 1 Introduction Is the World Wide Web completely connected ? If not , how big is the largest component , the second largest component , etc . ? Anyone who has “surfed” the Web for any length of time will undoubtedly come away feeling that if there are disconnected components at all , then they must be small and few in number . Is the Web too large , dynamic and structureless to answer these questions ? Probably yes , if the sizes of the largest components are required to be exact . Recently , however , some structure of the Web has come to light which may enable us to describe graph properties of the Web qualitatively . Kumar et al . [ 13 , 14 ] and Kleinberg et al . [ 12 ] have measured the degree sequences of the Web and shown that it is well approximated by a power law distribution . ∗ AT & T Labs , Florham Park , New Jersey . † University of California , San Diego . ‡ Research supported in part by NSF Grant No . DMS 98 - 01446 § University of Pennsylvania , Philadelphia . 1 That is , the number of nodes , y , of a given degree x is proportional to x − β for some constant β > 0 . This was reported independently by Albert , Barab´asi and Jeong in [ 4 , 6 , 7 ] . The power law distribution of the degree sequence appears to be a very robust property of the Web despite its dynamic nature . In fact , the power law distribution of the degree sequence may be a ubiquitous characteristic , applying to many massive real world graphs . Indeed , Abello et al . [ 1 ] have shown that the degree sequence of so called call graphs is nicely approximated by a power law distribution . Call graphs are graphs of calls handled by some subset of telephony carriers for a speciﬁc time period . In addition , Faloutsos , et al . [ 10 ] have shown that the degree sequence of the Internet router graph also follows a power law . Just as many other real world processes have been eﬀectively modeled by appropriate random models , in this paper we propose a parsimonious random graph model for graphs with a power law degree sequence . We then derive connectivity results which hold with high probability in various regimes of our parameters . And ﬁnally , we compare the results from the model with the exact connectivity structure for some call graphs computed by Abello et al . [ 1 ] . An extended abstract of this paper has appeared in the Proceedings of the Thirtysecond Annual ACM Symposium on Theory of Computing 2000 ( see [ 2 ] ) . In this paper , we have included the complete proofs for the main theorems and several additional theorems focused on the second largest components of power graphs in various ranges . In addition , some recent references are provided ( also see [ 11 ] ) . 1 . 1 Power - Law Random Graphs The study of random graphs dates back to the work of Erd˝os and R´enyi whose seminal papers [ 8 , 9 ] laid the foundation for the theory of random graphs . There are three standard models for what we will call in this paper uniform random graphs [ 5 ] . Each has two parameters . One parameters controls the number of nodes in the graph and one controls the density , or number of edges . For example , the random graph model G ( n , e ) assigns uniform probability to all graphs with n nodes and e edges while in the random graph model G ( n , p ) each edge is chosen with probability p . Our power law random graph model also has two parameters . The two parameters only roughly delineate the size and density but they are natural and convenient for describing a power law degree sequence . The power law random graph model P ( α , β ) is described as follows . Let y be the number of nodes with degree x . P ( α , β ) assigns uniform probability to all graphs with 2 y = e α / x β ( where self loops are allowed ) . Note that α is the intercept and β is the ( negative ) slope when the degree sequence is plotted on a log - log scale . We remark that there is also an alternative power law random graph model analogous to the uniform graph model G ( n , p ) . Instead of having a ﬁxed degree sequence , the random graph has an expected degree sequence distribution . The two models are basically asymptotically equivalent , sub - ject to bounding error estimates of the variances ( which will be further described in a subsequent paper ) . 1 . 2 Our Results Just as for the uniform random graph model where graph properties are studied for certain regimes of the density parameter and shown to hold with high probability asymptotically in the size parameter , in this paper we study the connectivity properties of P ( α , β ) as a function of the power β which hold almost surely for suﬃciently large graphs . Brieﬂy , we show that when β < 1 , the graph is almost surely connected . For 1 < β < 2 there is a giant component , i . e . , a component of size Θ ( n ) . Moreover , all smaller components are of size O ( 1 ) . For 2 < β < β 0 = 3 . 4785 there is a giant component and all smaller components are of size O ( log n ) . For β = 2 the smaller components are of size O ( log n / log log n ) . For β > β 0 the graph almost surely has no giant component . In addition we derive several results on the sizes of the second largest component . For example , we show that for β > 4 the numbers of components of given sizes can be approximated by a power law as well . 1 . 3 Previous Work Strictly speaking our model is a special case of random graphs with a given degree sequence for which there is a large literature . For example , Wormald [ 19 ] studied the connectivity of graphs whose degrees are in an interval [ r , R ] , where r ≥ 3 . HLuczak [ 15 ] considered the asymptotic behavior of the largest component of a random graph with given degree sequence as a function of the number of vertices of degree 2 . His result was further improved by Molloy and Reed [ 16 , 17 ] . They consider a random graph on n vertices with the following degree distribution . The number of vertices of degree 0 , 1 , 2 , . . . are about λ 0 n , λ 1 n , . . . respectively , where the λ ’s sum to 1 . It is shown in [ 16 ] that if Q = (cid:1) i i ( i − 2 ) λ i > 0 and the maximum degree is not too large , then such random graphs have a giant component with probability tending 3 to 1 as n goes to inﬁnity , while if Q < 0 then all components are small with probability tending to 1 as n → ∞ . They also examined the threshold behavior of such graphs . In this paper , we will apply these techniques to deal with the special case that applies to our model . Several other papers have taken a diﬀerent approach to modeling power law graphs than the one taken here [ 3 , 6 , 7 , 12 , 14 ] . The essential idea of these papers is to deﬁne a random process for growing a graph by adding nodes and edges . The intent is to show that the deﬁned processes asymptotically yield graphs with a power law degree sequence with very high probability . While this approach is interesting and important it has several diﬃculties . First , the models are diﬃcult to analyze rigorously since the transition prob - abilities are themselves dependent on the the current state . For example , [ 6 , 7 ] implicitly assume that the probability that a node has a given degree is a continuous function . The authors of [ 12 , 14 ] will oﬀer an improved analysis in an upcoming paper [ 18 ] . Second , while the models may gener - ate graphs with power law degree sequences , it remains to be seen if they generate graphs which duplicate other structural properties of the Web , the Internet , and call graphs . For example , the model in [ 6 , 7 ] cannot generate graphs with a power law other than c / x 3 . Moreover , all the graphs can be decomposed into m disjoint trees , where m is a parameter of the model . The ( α , β ) model in [ 14 ] is able to generate graphs for which the power law for the indegree is diﬀerent than the power law for the outdegree as is the case for the Web . However , to do so , the model requires that there be nodes that have only indegree and no outdegree and visa versa . While this may be appropriate for call graphs ( e . g . , customer service numbers ) it remains to be seen whether it models the Web . Thus , while the random graph gener - ation approach holds the promise of accurately predicting a wide variety a structural properties of many real world massive graphs much work remains to be done . In this paper we take a diﬀerent approach . We do not attempt to answer how a graph comes to have a power law degree sequence . Rather , we take that as a given . In our model , all graphs with a given power law degree sequence are equi - probable . The goal is to derive structural properties which hold with probability asymptotically approaching 1 . Such an approach , while potentially less accurate than the detailed modelling approach above , has the advantage of being robust : the structural properties derived in this model will be true for the vast majority of graphs with the given degree sequence . Thus , we believe that this model will be an important complement to random graph generation models . The power law random graph model will be described in detail in the 4 next section . In Sections 3 and 4 , our results on connectivity will be derived . In section 5 , we discuss the sizes of the second largest components . In section 6 , we compare the results of our model to exact connectivity data for call graphs . 2 A random graph model We consider a random graph with the following degree distribution depend - ing on two given values α and β . Suppose there are y vertices of degree x where x and y satisfy log y = α − β log x In other words , we have | { v | deg ( v ) = x } | = y = e α x β Basically , α is the logarithm of the size of the graph and β can be regarded as the log - log growth rate of the graph . We note that the number of edges should be an integer . To be precise , the above expression for y should be rounded down to (cid:9) e α x β (cid:10) . If we use real numbers instead of rounding down to integers , it may cause some error terms in further computation . However , we will see that the error terms can be easily bounded . For simplicity and convenience , we will use real numbers with the understanding the actual numbers are their integer parts . Another constraint is that the sum of the degrees should be even . This can be assured by adding a vertex of degree 1 if the sum is old if needed . Furthermore , for simplicity , we here assume that there is no isolated vertices . We can deduce the following facts for our graph : ( 1 ) The maximum degree of the graph is e αβ . Note that 0 ≤ log y = α − β log x . ( 2 ) The vertices number n can be computed as follows : By summing y ( x ) for x from 1 to e αβ , we have n = e αβ (cid:2) x = 1 e α x β ≈   ζ ( β ) e α if β > 1 αe α if β = 1 e αβ 1 − β if 0 < β < 1 where ζ ( t ) = (cid:1) ∞ n = 1 1 n t is the Riemann Zeta function . 5 ( 3 ) The number of edges E can be computed as follows : E = 1 2 e αβ (cid:2) x = 1 x e α x β ≈   12 ζ ( β − 1 ) e α if β > 2 14 αe α if β = 2 12 e 2 αβ 2 − β if 0 < β < 2 ( 4 ) The diﬀerences of the real numbers in ( 1 ) - ( 3 ) and their integer parts can be estimated as follows : For the number n of vertices , the error term is at most e αβ . For β ≥ 1 , it is o ( n ) , which is a lower order term . For 0 < β < 1 , the error term for n is relatively large . In this case , we have n ≥ e α β 1 − β − e αβ = βe α β 1 − β Therefore , n has the same magnitude as e αβ 1 − β . The number E of edges can be treated in a similarly way . For β ≥ 2 , the error term of E is o ( E ) , a lower order term . For 0 < β < 2 , E has the same magnitude as in formula of item ( 3 ) . In this paper , we mainly deal with the case β > 2 . The only place that we deal with the case 0 < β < 2 is in the next section where we refer to 2 − β as a constant . By using real numbers instead of rounding down to their integer parts , we simplify the arguments without aﬀecting the conclusions . In order to consider the random graph model , we will need to consider large n . We say that some property almost surely ( a . s . ) happens if the probability that the property holds tends to 1 as the number n of the vertices goes to inﬁnity . Thus we consider α to be large but where β is ﬁxed . We use the following random graph model for a given degree sequence : The model : 1 . Form a set L containing deg ( v ) distinct copies of each vertex v . 2 . Choose a random matching of the elements of L . 3 . For two vertices u and v , the number of edges joining u and v is equal to the number of edges in the matching of L joining copies of u to copies of v . We remark that the graphs that we are considering are in fact multi - graphs , possibly with loops . This model is a natural extension of the model for k - regular graphs , which is formed by combining k random matching . For references and undeﬁned terminology , the reader is referred to [ 5 , 20 ] . We note that this random graph model is slightly diﬀerent from the uniform selection model P ( α , β ) as described in section 1 . 1 . However , by using techniques in Lemma 1 of [ 17 ] , it can be shown that if a random graph 6 with a given degree sequence a . s . has property P under one of these two models , then it a . s . has property P under the other model , provided some general conditions are satisﬁed . 3 The connected components Molloy and Reed [ 16 ] showed that for a random graph with ( λ i + o ( 1 ) ) n vertices of degree i , where λ i are non - negative values which sum to 1 , the giant component emerges when Q = (cid:1) i ≥ 1 i ( i − 2 ) λ i > 0 , provided that the maximum degree less than n 1 / 4 − (cid:8) . They also show that almost surely there is no giant component when Q = (cid:1) i ≥ 1 i ( i − 2 ) λ i < 0 and maximum degree less than n 1 / 8 − (cid:8) . Here we compute Q for our ( α , β ) - graphs . Q = e αβ (cid:2) x = 1 x ( x − 2 ) (cid:9) e α x β (cid:10) ≈ e αβ (cid:2) x = 1 e α x β − 2 − 2 e αβ (cid:2) x = 1 e α x β − 1 ≈ ( ζ ( β − 2 ) − 2 ζ ( β − 1 ) ) e α if β > 3 Hence , we consider the value β 0 = 3 . 47875 . . . , which is a solution to ζ ( β − 2 ) − 2 ζ ( β − 1 ) = 0 If β > β 0 , we have e αβ (cid:2) x = 1 x ( x − 2 ) (cid:9) e α x β (cid:10) < 0 We ﬁrst summarize the results here : 1 . When β > β 0 = 3 . 47875 . . . , the random graph a . s . has no giant component . When β < β 0 = 3 . 47875 . . . , there is a . s . a unique giant component . 2 . When 2 < β < β 0 = 3 . 47875 . . . , the second largest components are a . s . of size Θ ( log n ) . For any 2 ≤ x < Θ ( log n ) , there is almost surely a component of size x . 7 3 . When β = 2 , a . s . the second largest components are of size Θ ( log n loglog n ) . For any 2 ≤ x < Θ ( log n loglog n ) , there is almost surely a component of size x . 4 . When 1 < β < 2 , the second largest components are a . s . of size Θ ( 1 ) . The graph is a . s . not connected . 5 . When 0 < β < 1 , the graph is a . s . connected . 6 . For β = β 0 = 3 . 47875 . . . , this is a very complicated case . It corre - sponds to the double jump of random graph G ( n , p ) with p = 1 n . For β = 1 , there is a nontrivial probability for either cases that the graph is connected or disconnected . We remark that for β > 8 , Molloy and Reed’s result immediately implies that almost surely there is no giant component . When β ≤ 8 , additional analysis is needed to deal with the degree constraints . We will prove in Theorem 2 that almost surely there is no giant component when β > β 0 . In section 5 , we will deal with the range β < β 0 . We will show in Theorem 3 that almost surely there is a unique giant component when β < β 0 . Fur - thermore , we will determine the size of the second largest component within a constant factor . 4 The sizes of connected components in certain ranges for β For β > β 0 = 3 . 47875 . . . , almost surely there is no giant component . This range is of special interest since it is quite useful later for describing the distribution of small components . We will prove the following : Theorem 1 For ( α , β ) - graphs with β > 4 , the distribution of the number of connected components is as follows : 1 . For each vertex v of degree d = Ω ( 1 ) , let τ be the size of connected component containing v . Then P r ( | τ − d c 1 | > 2 λ c 1 (cid:7) dc 2 c 1 ) ≤ 2 λ 2 where λ = d (cid:8) . In other words , the vertex v a . s . belongs to a connected component of size dc 1 + O ( d 12 + (cid:8) ) , where c 1 = 2 − ζ ( β − 2 ) ζ ( β − 1 ) , c 2 = ζ ( β − 3 ) ζ ( β − 1 ) − 8 (cid:8) ζ ( β − 2 ) ζ ( β − 1 ) (cid:9) 2 are two constants , " is an arbitrary small positive number and d is a ( slowly ) increasing function of n . 2 . The number of connected components of size x is a . s . at least ( 1 + o ( 1 ) ) e α c β − 1 1 x β . and at most c 3 e α log β 2 − 1 n x β 2 + 1 where c 3 = 4 1 + β c 2 ( β − 2 ) c 1 + β 1 is a constant only depending on β . 3 . A connected component of the ( α , β ) - graph a . s . has the size at most e 2 α β + 2 α = Θ ( n 2 β + 2 log n ) In our proof we use the second moment whose convergence depends on β > 4 . In fact for β ≤ 4 the second moment diverges as the size of the graph goes to inﬁnity so that our method no longer applies . Theorem 1 strengthens the following result ( which can be derived from Lemma 3 in [ 16 ] ) for the range of β > 4 . Theorem 2 For β > β 0 = 3 . 47875 . . . , a connected component of the ( α , β ) - graph a . s . has the size at most Ce 2 αβ α = Θ ( n 2 β log n ) where C = 16 c 21 is a constant only depending on β . The proof for Theorem 2 is by using branching process method . We here brieﬂy describe the proof since it is needed for the proof of Theorem 1 . Pick any vertex v in our graph , expose its neighbors , and then the neighbors of its neighbors , repeating until the entire component is exposed . We expose only one vertex at each stage . At stage i , let L i be the set of vertices exposed and X i be the random variable that counts the number of vertices in L i . We mark all vertices in L i by either “live” or “dead” . A vertex in L i , whose neighbors have not been all exposed yet , is marked “live” . A vertex , whose neighbors have all been exposed , is marked “dead” . Let O i be the set of live vertices and Y i be the random variable that is the number of vertices 9 in O i . Each step we mark exact one dead vertex , so the total number of dead vertices at i - th step is i . We have X i = Y i + i . Initially we assign L 0 = O 0 = { v } . Then at stage i ≥ 1 , we do the following : 1 . If Y i − 1 = 0 , then we stop and output X i − 1 . 2 . Otherwise , randomly choose a live vertex u from O i − 1 and expose its neighbors in N u . Then mark u dead and mark each vertex live if it is in N u but not in L i − 1 . We have L i = L i − 1 ∪ N u , and O i = ( O i − 1 \ { u } ) ∪ ( N u \ L i − 1 ) . Suppose that v has degree d . Then X 1 = d + 1 , and Y 1 = d . Eventually Y i will hit 0 if i is large enough . Let τ denote the stopping time of Y , namely , Y τ = 0 . Then X τ = Y τ + τ = τ measures the size of the connected component . We ﬁrst compute the expected value of Y i and then use Azuma’s Inequality [ 16 ] to prove Theorem 2 . Suppose that the vertex u is exposed at stage i . Then N u ∩ L i − 1 contains at least one vertex , which was exposed to reach u . However , N u ∩ L i − 1 may contain more than one vertex . We call them “backedges” . We note that “backedges” causes the exploration to stop more quickly , especially when the component is large . However in our case β > β 0 = 3 . 47875 . . . , the contribution of “backedges” is quite small . We denote Z i = # { N u } and W i = # { N u ∩ L i − 1 } − 1 . Z i measures the degree of the vertex exposed at stage i , while W i measures the number of “backedges” . By deﬁnition , we have Y i − Y i − 1 = Z i − 2 − W i . We have E ( Z i ) = (cid:1) e αβ x = 1 x x eαxβ E = e α E (cid:1) e αβ x = 1 x 2 − β = ζ ( β − 2 ) + O ( n 3 β − 1 ) ζ ( β − 1 ) + O ( n 2 β − 1 ) = ζ ( β − 2 ) ζ ( β − 1 ) + O ( n 3 β − 1 ) Now we will bound W i . Suppose that there are m edges exposed at stage i − 1 . Then the probability that a new neighbor is in L i − 1 is at most mE . We have E ( W i ) ≤ ∞ (cid:2) x = 1 x (cid:8) m E (cid:9) x = mE ( 1 − mE ) 2 ( ∗ ) 10 = m E + O ( ( m E ) 2 ) provided mE = o ( 1 ) . When i ≤ Ce 2 αβ α , m is at most ie αβ ≤ Ce 3 αβ α . Hence , m E = O ( n 3 β − 1 log n ) = o ( 1 ) We have E ( Y i ) = Y 1 + i (cid:2) j = 2 E ( Y j − Y j − 1 ) = d + i (cid:2) j = 2 E ( Z j − 2 − W j ) = d + ( i − 1 ) (cid:10) ζ ( β − 2 ) ζ ( β − 1 ) − 2 (cid:11) − iO ( n 3 β − 1 log n ) = d − c 1 ( i − 1 ) + io ( 1 ) Proof of Theorem 2 : Since | Y j − Y j − 1 | ≤ e αβ , by Azuma’s martingale inequality , we have P r ( | Y i − E ( Y i ) | > t ) ≤ 2 e − t 2 2 ie 2 αβ By taking i = 16 c 21 e 2 αβ log n , and t = c 1 2 i . Since E ( Y i ) + t = d − c 1 ( i − 1 ) + io ( 1 ) + c 1 2 i = − c 1 2 i + d + c 1 + io ( 1 ) < 0 We have P r ( τ > 16 c 21 e αβ log n ) = P r ( τ > i ) ≤ P r ( Y i ≥ 0 ) ≤ P r ( Y i > E ( Y i ) + t ) ≤ 2 e − t 2 2 ie 2 αβ = 2 n 2 Hence , the probability that there exists a vertex v such that v lies in a component of size greater than 16 c 21 e 2 αβ log n is at most n 2 n 2 = 2 n = o ( 1 ) . (cid:1) 11 The proof of Theorem 1 uses the methodology above as a starting point while introducing the calculation of the variance of the above random vari - ables . Proof of Theorem 1 We follow the notation and previous results of Section 4 . Under the assumption β > 4 , we consider the following : V ar ( Z i ) = e αβ (cid:2) x = 1 x 2 x e α x β E − E ( Z i ) 2 = e α E e αβ (cid:2) x = 1 x 3 − β − E ( Z i ) 2 = ζ ( β − 3 ) + O ( n 4 β − 1 ) ζ ( β − 1 ) + O ( n 2 β − 1 ) − (cid:10) ζ ( β − 2 ) ζ ( β − 1 ) (cid:11) 2 + O ( n 3 β − 1 ) = ζ ( β − 3 ) ζ ( β − 1 ) − (cid:10) ζ ( β − 2 ) ζ ( β − 1 ) (cid:11) 2 + O ( n 4 β − 1 ) = c 2 + o ( 1 ) since β > 4 . We need to compute the covariants . There are models for random graphs in which the edges are in dependently chosen . Then , Z i and Z j are indepen - dent . However , in the model based on random matchings , there is a small correlation . For example , Z i = x slightly eﬀects the probability of Z j = y . Namely , Z j = x has slightly less chance , while Z j = y (cid:17) = x has slightly more chance . Both diﬀerences can be bounded by 1 E − 1 − 1 E ≤ 2 E 2 Hence CoV ar ( Z i , Z j ) ≤ E ( Z i ) E 2 E 2 = O ( 1 n ) if i (cid:17) = j . Now we will bound W i . Suppose that there are m edges exposed at stage i − 1 . Then the probability that a new neighbor is in L i − 1 is at most mE . We have V ar ( W i ) ≤ ∞ (cid:2) x = 1 x 3 (cid:8) m E (cid:9) x − E ( W i ) 2 = mE ( mE + 1 ) ( 1 − mE ) 3 − O ( ( m E ) 2 ) 12 = m E + O ( ( m E ) 2 ) CoV ar ( W i , W j ) ≤ (cid:12) V ar ( W i ) V ar ( W j ) ≤ m E + O ( ( m E ) 2 ) CoV ar ( Z i , W j ) ≤ (cid:12) V ar ( Z i ) V ar ( W j ) = O ( (cid:7) m E ) When i = O ( e αβ ) , m ≤ ie αβ = O ( e 2 αβ ) , we have E ( Y i ) = d + ( i − 1 ) (cid:10) ζ ( β − 2 ) ζ ( β − 1 ) − 2 (cid:11) + iO ( n 3 β − 1 ) + imE = d − ( i − 1 ) c 1 + O ( n 4 β − 1 ) = d − ( i − 1 ) c 1 + o ( 1 ) V ar ( Y i ) = V ar ( d + i (cid:2) j = 2 ( Y j − Y j − 1 ) ) = V ar ( i (cid:2) j = 2 ( Z j − W j ) ) = i (cid:2) j = 2 ( V ar ( Z j ) + V ar ( W j ) ) + (cid:2) 2 ≤ j (cid:9) = k ≤ i ( CoV ar ( Z j , Z k ) − CoV ar ( Z j , W k ) + CoV ar ( W j , W k ) ) = ic 2 + io ( 1 ) + i 2 ( O ( 1 n ) + O ( (cid:12) e ( 2 β − 1 ) α ) + O ( e ( 2 β − 1 ) α ) ) = ic 2 + io ( 1 ) + i ( O ( e ( 2 β − 12 ) α ) + O ( e ( 3 β − 1 ) α ) ) = ic 2 + io ( 1 ) Chebyshev’s inequality gives P r ( | Y i − E ( Y i ) | > λσ ) < 1 λ 2 where σ is the standard deviation of Y i , σ = √ ic 2 + o ( √ i ) Let i 1 = (cid:9) dc 1 − 2 λc 1 (cid:12) dc 2 c 1 (cid:10) and i 2 = (cid:19) dc 1 + 2 λc 1 (cid:12) dc 2 c 1 (cid:20) . We have E ( Y i 1 ) − λσ = d − ( i 1 − 1 ) c 1 + o ( 1 ) − (cid:13) λ √ c 2 i 1 + o ( √ i 1 ) (cid:14) 13 ≥ 2 λ (cid:7) dc 2 c 1 − λ (cid:7) c 2 d c 1 − o ( √ d ) = λ (cid:7) dc 2 c 1 − o ( √ d ) > 0 Hence , P r ( τ < i 1 ) ≤ P r ( Y i 1 ≤ 0 ) ≤ P r ( Y i 1 < E ( Y i 1 ) − λσ ) ≤ 1 λ 2 Similarly , E ( Y i 2 ) + λσ = d − ( i 2 − 1 ) c 1 + o ( 1 ) + (cid:13) λ √ c 2 i 2 + o ( √ i 2 ) (cid:14) ≥ − 2 λ (cid:7) dc 2 c 1 + λ (cid:7) c 2 d c 1 + o ( √ d ) = − λ (cid:7) dc 2 c 1 + o ( √ d ) < 0 Hence , P r ( τ > i 2 ) ≤ P r ( Y i 2 > 0 ) ≤ P r ( Y i 2 > E ( Y i 2 ) + λσ ) ≤ 1 λ 2 Therefore P r ( | τ − d c 1 | > 2 λ c 1 (cid:7) dc 2 c 1 ) ≤ 2 λ 2 For a ﬁxed v and λ a slowly increasing function to inﬁnity , above inequality implies that almost surely we have τ = dc 1 + O ( λ √ d ) . We note that almost all components generated by vertices of degree x is about the size of d c 1 . One such component can have at most about 1 c 1 vertices of degree d . Hence , the number of component of size dc 1 is at least c 1 e αβ d β . Let d = c 1 x . Then the number of components of size x is at least e αβ c β − 1 1 x β ( 1 + o ( 1 ) ) The above proof actually gives the following result . The size of every com - ponent , whose vertices have degree at most d 0 , is almost surely Cd 20 log n where C = 16 c 21 is the same constant as in Theorem 2 . Let x = Cd 2 0 log n and 14 consider the number of components of size x . A component of size x almost surely contains at least one vertex of degree greater than d 0 . For each vertex v with degree d ≥ d 0 , by part 1 , we have P r (cid:15) | τ − d c 1 | > 2 λ d c 1 (cid:7) dc 2 c 1 (cid:16) ≤ 2 λ 2 d Let λ d = c 1 Cd 20 log n 4 (cid:12) c 1 c 2 d , we have P r ( τ ≥ Cd 2 0 log n ) ≤ P r (cid:15) τ > d c 1 + 2 λ d c 1 (cid:7) dc 2 c 1 (cid:16) ≤ C 3 d d 40 log 2 n where C 3 = 32 c 2 c 31 C 2 = c 1 c 2 8 is constant depending only on β . Since there are only e α d β vertices of degree d , the number of components of size at least x is at most e αβ (cid:2) d = d 0 e α d β C 3 d d 40 log 2 n ≤ C 3 e α d 40 log 2 n ∞ (cid:2) d = d 0 1 d β − 1 ≤ C 3 e α d 40 log 2 n 2 β − 2 1 d β − 2 0 = 2 C 3 e α ( β − 2 ) d β + 2 0 log 2 n = c 3 e α log β 2 − 1 n x β 2 + 1 where c 3 = 2 C 3 ( β − 2 ) C 1 + β 2 = 4 1 + β c 2 ( β − 2 ) c 1 + β 1 . For x = e 2 α β + 2 α , the above inequality implies that the number of components of size at least x is at most o ( 1 ) . In other words , almost surely no component has size greater than e 2 α β + 2 α . This completes the proof of Theorem 1 . 5 On the size of the second largest component For β < β 0 = 3 . 47875 . . . , we consider the giant component as well as the size of the second largest component . 15 Theorem 3 For ( α , β ) - graphs with β < β 0 = 3 . 47875 . . . , the following holds : 1 . There is a unique giant component of size Θ ( n ) . 2 . When 2 < β < β 0 , almost surely the size of the second largest compo - nent is Θ ( log n ) . 3 . When β = 2 , almost surely the size of the second largest component is Θ ( log n loglog n ) . 4 . When 1 ≤ β < 2 , almost surely the size of the second largest component is Θ ( 1 ) . 5 . When 0 < β < 1 , almost surely the ( α , β ) - graph is connected . Proof : When β < β 0 , the branching process method is no longer feasible when vertices of large degrees are involved . Thus , we can not apply Azuma’s martingale inequality for bounding Y i as in the proofs of the previous sec - tions . We will modify the branching process method as follows . 1 . Choose a number x β ( to be speciﬁed later depending on β ) . 2 . Start with Y ∗ 0 live vertices and Y ∗ 0 ≥ C log n . All other vertices are unmarked . 3 . At the i - th step , we choose one live vertex u and exposed its neighbors . If the degree of u is less than or equal to x β , we proceed as in section 4 , by marking u dead and all vertices v ∈ N ( u ) live ( provided v is not marked before ) . If the degree of u is greater than x β , we will mark exactly one vertex v ∈ N ( u ) live and others dead , provided v is unmarked . In both case u is marked dead . The main idea is to show that Y ∗ i , a truncated version of Y i , is well - concentrated around E ( Y ∗ i ) . Although it is diﬃcult to directly derive such result for Y i because of vertices of large degrees , we will be able to bound the distribution Y ∗ i . Indeed , we will show that the set of marked vertices ( live or dead ) grows to a giant component if Y ∗ 0 exceeds a certain bound . We consider the following three ranges of β . Case 1 : 2 < β < β 0 . We consider Q = 1 E (cid:1) e αβ x = 1 x ( x − 2 ) (cid:9) e α x β (cid:10) . ( Note that Q is a positive constant . ) There is a constant integer x 0 satisfying 1 E (cid:1) x 0 x = 1 x ( x − 2 ) (cid:9) e α x β (cid:10) > Q 2 . We choose δ satisfying : δ ( 1 − δ ) 2 = Q 4 . 16 If the component has more than δE edges , it must have Θ ( n ) vertices since β > 2 . So it is a giant component and we are done . We may assume that the component has no more than δE edges . We now choose x β = x 0 and apply the modiﬁed branching process . Then , Y ∗ i satisﬁes the following : • Y ∗ 0 ≥ (cid:19) C log n (cid:20) , where C = 130 x 20 Q is a constant only depending on β . • − 1 ≤ Y ∗ i − Y ∗ i − 1 ≤ x 0 . • Let W i be the number of “backedges” as deﬁned in section 4 . By inequality ( * ) and the assumption that the number of edges m in the component is at most δn , we have E ( W i ) ≤ δ ( 1 − δ ) 2 = Q 4 . Hence , we have E ( Y ∗ i − Y ∗ i − 1 ) ≈ 1 E x 0 (cid:2) x = 1 x ( x − 2 ) (cid:9) e α x β (cid:10) − E ( W i ) ≥ Q 2 − Q 4 = Q 4 . By Azuma’s martingale inequality , we have P r ( Y ∗ i ≤ Qi 8 ) ≤ P r ( Y ∗ i − E ( Y ∗ i ) ≤ − Qi 8 ) < e − ( Qi / 8 ) 2 2 ix 20 = o ( n − 1 ) provided i > C log n . The above inequality implies that with probability at least 1 − o ( n − 1 ) , Y ∗ i > Qi 8 > 0 when i > (cid:19) C log n (cid:20) . Since Y ∗ i decreases at most by 1 at each step , Y ∗ i can not be zero if i ≤ (cid:19) C log n (cid:20) . So Y ∗ i > 0 for all i . In other words , a . s . the branching process will not stop . However , it is impossible to have Y ∗ n > 0 , that is a contradiction . Thus we conclude that the component must have at least δn edges . So it is a giant component . We note that if a component has more than (cid:19) C log n (cid:20) edges exposed , then almost surely it is a giant component . In particular , any vertex with degree more than (cid:19) C log n (cid:20) is almost surely in the giant component . Hence , the second component have size of at most Θ ( log n ) . Next , we will show that the second largest has size at least Θ ( log n ) . We consider the vertices v of degree x = cα , where c is some constant . There is a positive probability that all neighboring vertices of v have degree 1 . 17 In this case , we get a connected component of size x + 1 = Θ ( log n ) . The probability of this is about ( 1 ζ ( β − 1 ) ) cα Since there are e α ( cα ) β vertices of degree x , the probability that none of them has the above property is about ( 1 − 1 ζ ( β − 1 ) cα ) eα ( cα ) β ≈ e − 1 ζ ( β − 1 ) cα eα ( cα ) β = e − ( e ζ ( β − 1 ) c ) α ( cα ) β = o ( 1 ) where we have c = (cid:17) 1 if β ≥ 3 1 − 2log ( β − 2 ) if 3 > β > 2 In other words , a . s . there is a component of size cα + 1 = Θ ( log n ) . Therefore , the second largest component has size Θ ( log n ) . Moreover , the above argument holds if we replace cα by any small number . Hence , small components exhibit a continuous behavior . Case 2 : β = 2 . We choose x β = 10 α . We note that a component with more than 2 E / 3 edges must be unique . We will prove that almost surely the unique component contains all vertices with degree greater than 101 α 2 . So it contains ( 1 − o ( 1 ) ) E edges and it is the giant component . We further modify the branching process by starting from Y ∗ 0 ≥ (cid:19) 101 α 2 (cid:20) vertices . If the component has more than 2 E / 3 edges , we are done . Other - wise , the expected number of backeges is small . E ( W i ) ≤ 2 / 3 ( 1 − 2 / 3 ) 2 = 6 from inequality ( * ) . Hence , Y ∗ i satisﬁes : • Y ∗ 0 ≥ (cid:19) 101 α 2 (cid:20) . • − 1 ≤ Y ∗ i − Y ∗ i − 1 ≤ 10 α . • E ( Y ∗ i − Y ∗ i − 1 ) ≈ 1 E (cid:1) 10 α x = 1 x ( x − 2 ) (cid:9) e α x β (cid:10) − E ( W i ) > 10 − 2 − 6 = 2 18 By Azuma’s martingale inequality , we have P r ( Y ∗ i ≤ i ) ≤ P r ( Y ∗ i − E ( Y ∗ i ) ≤ − i < e − i 2 i ( 10 α ) 2 = o ( n − 1 ) provided i ≥ 101 α 2 . The above inequality implies that with proability at least 1 − o ( n − 1 ) , Y ∗ i ≥ i > 0 when i > (cid:19) 101 α 2 (cid:20) . Since Y ∗ i decreases at most by 1 at each step , Y ∗ i can not be zero if i ≤ (cid:19) 101 α 2 (cid:20) . So Y ∗ i > 0 for all i . In other words , a . s . the branching process will not stop . However , it is impossible to have Y ∗ n > 0 , that is a contradiction . Thus we conclude that the component must have at least 23 E edges . We note that a . s . all vertices with degree more than (cid:19) 101 α 2 (cid:20) are in the unique component with at least 23 E edges , hence the giant component . The probability that a random vertex is in the giant component is at most 1 E 101 α 2 (cid:2) x = 1 xe α x 2 ≈ 2 log α α The probability that there are 2 . 1 α log α vertices not in the giant component is at most ( 2 log α α ) 2 . 1 α log α = e − ( 2 . 1 + o ( 1 ) ) α = o ( n − 2 ) . Since there is at most n connected components , we conclude that a . s . a connected component of size greater that 2 . 1 α log α = Θ ( log n loglog n ) must be the giant component . Now we ﬁnd a vertex v of degree x and x ≤ 0 . 9 α log α . The probability that all its neighbors are of degree 1 is ( 1 α ) x . The probability that no such vertex exists is at most ( 1 − ( 1 α ) x ) eαx 2 ≈ e − ( 1 α ) x eαx 2 = e − e 0 . 1 α x 2 = o ( 1 ) Hence , a . s . there is a vertex of degree x ≤ 0 . 9 α log α , which forms a connected component of size x + 1 . This proves that a . s . the second largest component has size Θ ( log n loglog n ) . Case 3 : 0 < β < 2 . We use the modiﬁed branching process by choosing x β = e ( 5 − 2 β ) α ( 6 − 2 β ) β . If a component has more than 2 E / 3 edges , it is the unqiue giant component and we are done . Otherwise , we have E ( W i ) ≤ 2 / 3 ( 1 − 2 / 3 ) 2 = 6 . 19 Hence , Y ∗ i satisﬁes : • Y ∗ 0 ≥ 5 C 2 e ( 2 − β ) α ( 3 − β ) β . • − 1 ≤ Y ∗ i − Y ∗ i − 1 ≤ e ( 5 − 2 β ) α ( 6 − 2 β ) β . • E ( Y ∗ i − Y ∗ i − 1 ) ≈ 1 E (cid:1) e ( 5 − 2 β ) α ( 6 − 2 β ) β x = 1 x ( x − 2 ) (cid:9) e α x β (cid:10) − E ( W i ) ≈ Ce α 2 β Here C is a constant depending only on β . By Azuma’s martingale inequality , we have P r ( Y ∗ i ≤ 1 2 Ce α 2 β i ) < P r ( Y ∗ i − E ( Y ∗ i ) ≤ − 1 2 Ce α 2 β i ) < e − ( 12 Ce α 2 β i ) 2 i ( e ( ( 5 − 2 β ) α ) / ( ( 6 − 2 β ) β ) ) 2 = o ( n − 1 ) provided i ≥ 5 C 2 e ( 2 − β ) α ( 3 − β ) β . The above inequality shows that with probability at least 1 − o ( n − 1 ) , Y ∗ i > 12 Ce α 2 β i > 0 provided i > 5 C 2 e ( 2 − β ) α ( 3 − β ) β . Since Y ∗ i decreases at most by 1 at each step , Y ∗ i can not be zero if i ≤ 5 C 2 e ( 2 − β ) α ( 3 − β ) β . So Y ∗ i > 0 for all i . In othe words , a . s . the branching processing will not stop . However , it is impossible to have Y ∗ n > 0 , that is a contradiction . So , a . s . all vertices with degree more than 5 C 2 e ( 2 − β ) α ( 3 − β ) β are in the giant component . The probability that a random vertex in the giant component is at most 1 E 5 C 2 e ( 2 − β ) α ( 3 − β ) β (cid:2) x = 1 x e α x β = Θ ( e − ( 2 − β ) α ( 3 − β ) β ) The probability that all 2 (cid:9) 3 − β 2 − β (cid:10) + 1 vertices are not in the giant vertex is at most ( Θ ( e − ( 2 − β ) α ( 3 − β ) β ) ) 2 (cid:10) 3 − β 2 − β (cid:11) + 1 = o ( n − 2 ) . Since there is at most n connected component , we conclude that a . s . a connected component of size greater that 2 (cid:9) 3 − β 2 − β (cid:10) = Θ ( 1 ) must be the giant component . For 1 < β < 2 , we ﬁx a vertex v of degree 1 . The probability that the other vertex that connects to v is also of degree 1 is Θ ( e α e 2 αβ ) 20 Therefore the probability that no component has size of 2 is at most ( 1 − Θ ( e α e 2 αβ ) ) e α ≈ e − Θ ( e 2 α − 2 αβ ) ≈ o ( 1 ) In other words , the graph a . s . has at least one component of size 2 . For 0 < β < 1 , we want to show that the random graph is a . s . con - nected . Since the size of the possible second largest component is bounded by a constant M , all vertices of degree ≥ M are almost surely in the giant component . We only need to show the probability that there is an edge connecting two small degree vertices is small . There are only M (cid:2) x = 1 x (cid:9) e α x β (cid:10) ≈ Ce α vertices with degree less than M . For any random pair of vertices ( u , v ) , the probability that there is an edges connecting them is about 1 E = Θ ( e − 2 αβ ) Hence the probability that there is edge connecting two small degree vertices is at most (cid:2) u , v 1 E = ( Ce α ) 2 Θ ( e 2 αβ ) = o ( 1 ) Hence , every vertex is a . s . connected to a vertex with degree ≥ M , which a . s . belongs to the giant exponent . Hence , the random graph is a . s . connected . (cid:1) 6 Comparisons with realistic massive graphs Our ( α , β ) - random graph model was originally derived from massive graphs generated by long distance telephone calls . These so - called call graphs are taken over diﬀerent time intervals . For the sake of simplicity , we consider all the calls made in one day . Every completed phone call is an edge in the graph . Every phone number which either originates or receives a call is a node in the graph . When a node originates a call , the edge is directed out of the node and contributes to that node’s outdegree . Likewise , when a node receives a call , the edge is directed into the node and contributes to that node’s indegree . 21 In Figure 2 , we plot the number of vertices versus the indegree for the call graph of a particular day . Let y ( i ) be the number of vertices with indegree i . For each i such that y ( i ) > 0 , a × is marked at the coordinate ( i , y ( i ) ) . As similar plot is shown in Figure 1 for the outdegree . Plots of the number of vertices versus the indegree or outdegree for the call graphs of other days are very similar . For the same call graph in Figure 3 we plot the number of connected components for each possible size . The degree sequence of the call graph does not obey perfectly the ( α , β ) - graph model . The number of vertices of a given degree does not even monotonically decrease with increasing degree . Moreover , the call graph is directed , i . e . , for each edge there is a node that originates the call and a node that receives the call . The indegree and outdegree of a node need not be the same . Clearly the ( α , β ) - random graph model does not capture all of the random behavior of the real world call graph . Nonetheless , our model does capture some of the behavior of the call graph . To see this we ﬁrst estimate α and β of Figure 2 . Recall that for an ( α , β ) - graph , the number of vertices as a function of degree is given by log y = α − β log x . By approximating Figure 2 by a straight line , β can be estimated using the slope of the line to be approximately 2 . 1 . The value of e α for Figure 2 is approximately 30 × 10 6 . The total number of nodes in the call graph can be estimated by ζ ( 2 . 1 ) ∗ e α = 1 . 56 ∗ e α ≈ 47 × 10 6 For β between 2 and β 0 , the ( α , β ) - graph will have a giant component of size Θ ( n ) . In addition , a . s . , all other components are of size O ( log n ) . Moreover , for any 2 ≥ x ≥ O ( log n ) , a component of size x exists . This is qualitatively true of the distribution of component sizes of the call graph in Figure 3 1 . The one giant component contains nearly all of the nodes . The maximum size of the next largest component is indeed exponentially smaller than the size of the giant component . Also , a component of nearly every size below this maximum exists . Interestingly , the distribution of the number of components of size smaller than the giant component is nearly log - log linear . This suggests that after removing the giant component , one is left with an ( α , β ) - graph with β > 4 ( Theorem 1 yields a log - log linear relation between number of components and component size for β > 4 . ) This intuitively seems true since the greater the degree , the fewer nodes of that degree we expect to remain after deleting the giant component . This will increase the value of β for the resulting graph . 1 This data was compiled by J . Abello and A . Buchsbaum of AT & T Labs from raw phone call records using , in part , the external memory algorithm of Abello , Buchsbaum , and Westbrook [ 1 ] for computing connected components of massive graphs . 22 There are numerous questions that remain to be studied . For example , what is the eﬀect of time scaling ? How does it correspond with the evolution of β ? What are the structural behaviors of the call graphs ? What are the correlations between the directed and undirected graphs ? It is of interest to understand the phase transition of the giant component in the realistic graph . In the other direction , the number of tiny components of size 1 is leading to many interesting questions as well . Clearly , there is much work to be done in our understanding of massive graphs . Acknowledgments . We are grateful to J . Feigenbaum , J . Abello , A . Buchs - baum , J . Reeds , and J . Westbrook for their assistance in preparing the ﬁgures and for many interesting discussions on call graphs . We are very thankful to the anonymous referees for their invaluable comments . References [ 1 ] J . Abello , A . Buchsbaum , and J . Westbrook , A functional approach to external graph algorithms , Proc . 6th European Symposium on Algorithms , pp . 332 – 343 , 1998 . [ 2 ] W . Aiello , F . Chung , L . Lu , A random graph model for massive graphs , Pro - ceedings of the Thirtysecond Annual ACM Symposium on Theory of Comput - ing , ( 2000 ) , to appear . [ 3 ] W . Aiello , F . Chung , L . Lu , Random evolution of power law graphs , manu - script . [ 4 ] R . Albert , H . Jeong and A . Barab´asi , Diameter of the World Wide Web , Nature , 401 , September 9 , 1999 . [ 5 ] N . Alon and J . H . Spencer , The Probabilistic Method , Wiley and Sons , New York , 1992 . [ 6 ] A . Barab´asi , and R . Albert , Emergence of scaling in random networks , Science , 286 , October 15 , 1999 . [ 7 ] A . Barab´asi , R . Albert , and H . Jeong Scale - free characteristics of random networks : the topology of the world wide web , Elsevier Preprint August 6 , 1999 . [ 8 ] P . Erd˝os and A . R´enyi , On the evolution of random graphs , Publ . Math . Inst . Hung . Acad . Sci . 5 ( 1960 ) , 17 – 61 . [ 9 ] P . Erd˝os and A . R´enyi , On the strength of connectedness of random graphs , Acta Math . Acad . Sci . Hungar . 12 ( 1961 ) , 261 - 267 . 23 [ 10 ] M . Faloutsos , P . Faloutsos , and C . Faloutsos , On power - law relationships of the internet topology , Proceedings of the ACM SIGCOM Conference , Cambridge , MA , 1999 . [ 11 ] Brian Hayes , Graph theory in practice : Part II , American Scientists , 88 , ( March - April , 2000 ) , 104 - 109 . [ 12 ] J . Kleinberg , S . R . Kumar , P . Raphavan , S . Rajagopalan and A . Tomkins , The web as a graph : Measurements , models and methods , Proceedings of the International Conference on Combinatorics and Computing , July 26 – 28 , 1999 . [ 13 ] S . R . Kumar , P . Raphavan , S . Rajagopalan and A . Tomkins , Trawling the web for emerging cyber communities , Proceedings of the 8th World Wide Web Conference , Edinburgh , Scotland , May 15 – 19 , 1999 . [ 14 ] S . R . Kumar , P . Raghavan , S . Rajagopalan and A . Tomkins , Extracting large - scale knowledge bases from the web , Proceedings of the 25th VLDB Conference , Edinburgh , Scotland , September 7 – 10 , 1999 . [ 15 ] Tomasz HLuczak , Sparse random graphs with a given degree sequence , Random Graphs , vol 2 ( Pozna´n , 1989 ) , 165 - 182 , Wiley , New York , 1992 . [ 16 ] Michael Molloy and Bruce Reed , A critical point for random graphs with a given degree sequence . Random Structures and Algorithms , Vol . 6 , no . 2 and 3 ( 1995 ) . 161 - 179 . [ 17 ] Michael Molloy and Bruce Reed , The size of the giant component of a random graph with a given degree sequence , Combin . Probab . Comput . 7 , no . ( 1998 ) , 295 - 305 . [ 18 ] P . Raghavan , personal communication . [ 19 ] N . C . Wormald , The asymptotic connectivity of labelled regular graphs , J . Comb . Theory ( B ) 31 ( 1981 ) , 156 - 167 . [ 20 ] N . C . Wormald , Models of random regular graphs , Surveys in Combinatorics , 1999 ( LMS Lecture Note Series 267 , Eds J . D . Lamb and D . A . Preece ) , 239 – 298 . [ 21 ] 24 1e + 00 1e + 01 1e + 02 1e + 03 1e + 04 1e + 05 Outdegree 1e + 00 1e + 01 1e + 02 1e + 03 1e + 04 1e + 05 1e + 06 1e + 07 N u m b er o f v er t i ce s 8 / 10 / 98 1e + 00 1e + 01 1e + 02 1e + 03 1e + 04 1e + 05 Indegree 1e + 00 1e + 01 1e + 02 1e + 03 1e + 04 1e + 05 1e + 06 1e + 07 N u m b er o f v er t i ce s 8 / 10 / 98 Figure 1 : The number of vertices for each possible outdegree for the call graph of a typical day . Figure 2 : The number of vertices for each possible indegree for the call graph of a typical day . 1e + 00 1e + 01 1e + 02 1e + 03 1e + 04 1e + 05 1e + 06 1e + 07 Component size 1e + 00 1e + 01 1e + 02 1e + 03 1e + 04 1e + 05 1e + 06 N u m b er o f c o m p o n e n t s 8 / 10 / 98 Figure 3 : The number of connected components for each possible component size for the call graph of a typical day . 25