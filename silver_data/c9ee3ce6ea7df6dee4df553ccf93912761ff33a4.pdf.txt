International conference on Graphic Engineering June 19 th â€“ 21 st , 2013 Madrid , Spain INGEGRAF â€“ ADM â€“ AIP PRIMECA A g raph - based approach to CAD modeling : a digital pattern application to the sizing and modeling of manual transverse gearboxes A . , Lanzotti ( a ) , S . , Patalano ( a ) , F . , Vitolo ( a ) ( a ) DII Dept . , University of Naples Federico II , P . le Tecchio 80 , Naples , Italy Article Information Keywords : Mechanical design Graph theory Digital pattern CAD modeling Corresponding author : Stanislao Patalano Tel . : + 390817682457 Fax . : + 390817682466 e - mail : patalano @ unina . it Address : DII Dept , P . le Tecchio 80 , Naples , Italy Abstract Purpose : The paper proves that the representation of assembly / product dependencies based on graphs and represented through three levels of detail simplifies both the design of assembly / product and the development of tools dedicated to the design activities . Result : The comparison of directed - graphs ( digraphs ) related to two different manual gearboxes highlights the usefulness of a graph - based approach for CAD modeling and its use in the development of a related Graphical User Interfaces ( GUI ) . Discussion & Conclusion : One key issue for reduction the time to market of a mechanical product , of a software tool or any other product is the knowledge reuse . In such a context , a graph - based approach helps in those cases where a digital pattern setting is recommended . The approach and the software tool are useful both for designers and companies that want to customize and improve such reuse activity . Therefore , the paper presents the architecture of a three shafts gearbox and compare it with a classical architecture of a two shafts gearbox . The analysis of the differences existing between the two architectures are carried out by using a graph - based approach . Then , the comparison is used to set up a software tool useful for both gearbox architectures . Finally , the generation of a GUI , developed in MatLABÂ® environment , allows to easily generate the preliminary CAD models of different gearboxes , related to each architecture . 1 Introduction Nowadays , the activities of engineering design and software development are increasingly linked . In particular , many large companies have a team dedicated to Information and Communication Technology ( ICT ) or a department for developing and customizing software tools according to the needs coming from collaborative development environments [ 4 ] . The design and development activities , within the product life cycle , could determine the largest profit losses [ 12 ] . Therefore , these activities need for a greater computer support , aimed to complex product design for lead - time reduction [ 1 ] , as in case of means of transportation . To reduce the time of the design process ( which detail activities are described in [ 6 ] ) we can use knowledge - based system [ 7 ] . In fact , such design activity never starts from scratch but it starts and grows up from the reuse of product knowledge and old experiences . Sometime , the degree of reuse depends from the specific designer who has acquired the experience . To make more objective the reuse of product knowledge , it could be useful a methodology able to detect , in automatic way , the common parts ( i . e the differences ) existing in mechanical assemblies , in order to reuse , for example , the common features for an assembly operation or the common source code for a software tool . Large companies manage and distribute engineering knowledge by means of structured work teams [ 11 ] . In such a context , it is important to individuate user - defined features , assembly features , procedures and methodologies that could be reuse during a new product / assembly design development . In fact , the difficulty in reusing product knowledge is often linked to the difficult searching of the correspondence between what you are doing and what has been done in the past . To individuate one or more common features , existing between two or more mechanical assemblies , is not a trivial operation . Sometimes , the design of the architecture for a new product starts again from a scratch , just because it is not easy to identify such common features . In such a context , we believe that software tools aimed to support the design tasks must adopt Knowledge Based Engineering ( KBE ) to capture and reuse knowledge [ 12 ] , in automatic way , during design activities , acquiring it from each expert designer . In fact , Sandeberg [ 15 ] define KBE as â€œ the use of advanced software techniques to capture and re - use product and process knowledge in an integrated way â€ . Lin et al . [ 10 ] claim that the current KBE systems exhibit difficulties in managing the whole design process and they wish for a CAD - based environment , able to control the whole design process . KBE is a useful practice for all companies that perform repetitive tasks or focus on the design of similar products . Several researchers worked on the re - use of product and process knowledge . To meet the need of reuse product and process knowledge , within CAD - CAE environment , it is important the generation of a parametric CAD model [ 5 ] , [ 9 ] . It is also Lanzotti et al . A graph - based approach to CAD modeling June 19 h â€“ 21 th , 2013 , Madrid , Spain Congress INGEGRAF - ADM - AIP PRIMECA possible to choose additional knowledge - based modules that make easier the design tasks for mechanical parts or assemblies [ 18 ] . All software , modules and support systems need to communicate and to share information . The Digital Pattern ( DP ) concept for product and process development , used in the present paper , is the mean to improve quality and reduce time and costs for product development , through a massive re - use of knowledge and the extensive integration of software tools . A very useful tool that fits the needs of capturing and reusing knowledge is graph theory [ 13 ] , [ 13 ] . Graphs , in fact , provide the right abstraction from the model while preserving the accuracy of the dependencies and then the interconnections [ 2 ] , [ 3 ] . In [ 7 ] a way to associate a design methodology to graph theory is proposed . An editable transfer function graph - based is realized to control the dependencies among parameters to design a two shafts gearbox . The present paper applies the approach proposed in [ 7 ] to a three shafts - gearbox architecture with a particular focus on the identification of common design features belonging to different gearbox architectures , in order to accomplish the geometric modeling of mechanical assembly and supporting the preliminary phase of dimensioning as well as the updating during the reuse of consolidated CAD models . In particular , the use of directed graphs improves the management of company know - how according to a KBE point of view and allows the creation of an easy - to use graphical interface based on directed graphs . The paper is arranged as follows . Section 2 and Section 3 summarizes the approach proposed in [ 7 ] and the architecture of a three shaft - gearbox , respectively . Section 4 provides the application of the approach to the case of the gearbox ; in Section 5 the contraposition of two manual transverse gearbox are presented ; section 6 deals with the implemented GUI . Finally , Section 7 draws conclusions . 2 Approach overview Patalano et al . [ 7 ] propose an approach to CAD modeling dealing with three different levels , within the geometric modeling of assemblies . The three levels are : âˆ’ Functional level ( Level 1 ) where functional groups are defined ( as for example , product architecture , company constraints , standards ) ; âˆ’ Logical level ( Level 2 ) where datum , parameters and control rules for dimensioning are defined ( as for example geometrical datum and control function ) ; âˆ’ Geometrical level ( Level 3 ) where the geometries of parts , that compose the assembly , are modeled . This approach also aims to define an editable transfer function , based on directed graphs , that allows designer to directly edit the relations among parameters . The graph is accomplished by associating vertices to parameters and , then , expressing the existing relations by directed edges . This association can be expressed through a matrix representation , in order to use it for a software tool implementation . Such a representation of the product allows you to lift up the issue , clearing it from the shape concepts and focusing only on existing dependencies . 3 Three shafts gearbox 3SG - 6G The present section describes architecture and functionality of an automotive manual transverse gearbox with three shafts and six gears [ 6 ] called â€œ3SG - 6Gâ€ . As shown in fig . 1 , the gearbox is composed by three shafts and the differential . It has got a main shaft ( M ) that engages with others two transmission shafts ( transmission shaft ( T ) and transmission shaft auxiliary ( T aux ) ) . The gears on the two transmission shafts are alternated : 1 ) 1 th , 3 th , 5 th and 6 th gear on transmission shaft ; 2 ) reverse , 2 th and 4 th gear on auxiliary transmission shaft . Both transmission shafts are engaged with differential gear with the same speed ratio . Fig . 1 Simplified model of 3SG - 6G gearbox ( pitch diameters ) The above mentioned architecture is mainly realized to reduce the axial dimensions even if it could increase the transverse dimensions . To define and to constraint the position of axes it is useful to identify two subsystems : the reverse and the differential subsystems composed by wheels aimed to realize the reverse and rear - axle ratio , respectively . The first subsystem consists of three gears which are constrained by tangent conditions . Its axes have a triangular layout depicted in fig . 2 . Fig . 2 Reverse subsystem The second subsystem ( fig . 3 ) is constituted by two wheels engaged with the differential wheel with same speed ratio . Therefore , the two pinion gears and the axles base are equal . In this subsystem the axles base always assume an isosceles triangular layout . This reduces the Lanzotti et al . A graph - based approach to CAD modeling June 19 h â€“ 21 th , 2013 , Madrid , Spain Congress INGEGRAF - ADM - AIP PRIMECA numbers of control parameters because the axle base T - T aux is equal to the other two axles base . Fig . 3 Differential subsystem The condition of concentricity for the gears ( on the transmission shafts ) imposes the location of two subsystems in the final gearbox layout ( fig . 4 ) . The remaining DOFs are constrained by assuming that : - the origin of the reference system coincides with the axis of the main shaft ; - the x - axis is oriented along the joining line between the axes M and T aux . T - T aux axle base dimension is obtained by speed ratio in the reverse subsystem . Fig . 4 Final gearbox layout . 4 Graph representation In [ 7 ] the graph theory is applied to describe a product into three levels of detail , in order to represent and control the dependencies . In this paper the same approach is applied to the gearbox 3SG - 6G , described above . As proposed in [ 7 ] , to accomplish the complete modeling of the gearbox , the functional , the logical and the geometrical levels were defined . For more details , related to elements to be included within each level , see [ 7 ] . 4 . 1 Functional level To accomplish the designing of a family of gearboxes , a set of functional parameters was taken into account ( tab . 1 ) , according to the know - how of a European automotive group . Materials for gears Mat G Materials for shafts Mat S Costs Cs Number of shafts Ns Number of gears N G Teeth Modulus m Tab . 1 - Functional parameters The bounding volume of the assembly is a significant requirement in gearbox design as it deals with the characteristics of layout engine compartment . Often , similar gearboxes have to be assembled within different engine compartments and this induces several changes to the whole architecture of gearbox as for the dimensions of gears , the speed ratios , the distances between shafts . As the same 3D bounding volumes could be accomplished through different combination of functional or datum parameters , the 3D bounding volumes were not settled as functional parameters but they were used as inspection parameter during re - design activities . 4 . 2 Logical level At this level , the equations ( see Appendix ) that control the correctness of geometry and the datum scheme that controls the layout of gearbox ( as a skeleton [ 5 ] ) are introduced ; furthermore , the assembly digraph and gears digraph are placed . Datum set is characterized by four axes ; one of such axis is referred only to the differential ring gear . The other three axes are related to the main shaft , the transmission shaft and the transmission auxiliary shaft , respectively . The datum set is located by means of three parameters ( fig . 6 ) : âˆ’ Axel base main - transmission ( ğ¼ ! ) = distance between the axis of the main shaft and the axis of transmission shaft ; âˆ’ Axel base main - transmission aux ( ğ¼ ! ) = distance between the main axis and the transmission auxiliary shaft ; âˆ’ Axle base transmission - differential ( ğ¼ ! ) = distance between the axis of the transmission shafts and the axis of the differential gear . 4 . 2 . 1 Digraph representation The digraph , depicted in fig . 6 , shows the association parameters - vertices and the association relations - edges , for each gear . The digraph [ 13 ] for the reverse gear reflects the presence of three wheels . As the reverse gear has spur gears , the main difference in the digraph , is the lack of the parameter ğ›½ and all parameters directly related to it ( ğ›½ = 0 ) . Therefore , the digraph of gearbox ( fig . 7 ) is composed by a reverse digraph , a differential digraph and by a number of subgraphs equal to the number of gear belonging to gearbox . To characterize the gearbox with a different number of gears , it is possible to add or delete the sub - graph depicted in fig . 6 . Lanzotti et al . A graph - based approach to CAD modeling June 19 h â€“ 21 th , 2013 , Madrid , Spain Congress INGEGRAF - ADM - AIP PRIMECA Fig . 5 Datum set of the 3SG - 6G gearbox . Fig . 6 Sub - graph for helical toothed gear . Fig . 7 Digraph for 3AG - 6G gearbox . 4 . 3 Geometrical level Fig . 9 depicts the 3D model of 3SG - 6G gearbox corresponding to the geometrical level . At this level , the independent parameters i . e . the ones that are not included in the digraph could be updated . Fig . 8 3D CAD model of 3SG - 6G gearbox at geometrical level . 5 Contraposition of CMT - 6M and 3SG - 6G In this section we are going to compare the three levels of two different manual transverse gearbox architecture : 3SG - 6G vs . CMT - 6M in order to evaluate the existing differences and similarities . The identification of similarities makes it much easier to implement the new architecture within the tool already developed ; in fact , the only differences will be implemented , in order to generate even the geometric models of 3SG - 6G gearbox . 5 . 1 . 1 Gearbox CMT - 6M The CMT - 6M is a manual transverse gearbox with two shafts ( main and transmission ) depicted in fig . 9 . It also has got a little shaft to realize the reverse and the differential ring gear which , fixed on differential carrier , transmits the motion at the live axles of a single wheel . Fig . 9 3D CAD model of CMT - 6M gearbox at geometrical level . 5 . 1 . 2 Comparison Comparing the datum sets of two gearboxes ( fig . 10 ) , it is possible to identify the existing differences . At the functional level there are no difference . Few differences at the logical level can be noticed . The first difference is the reduction of the number of control parameters from four to three . This is due to the presence of more geometric constraints on 3SG - 6G gearbox . The double engagement of the differential ring Lanzotti et al . A graph - based approach to CAD modeling June 19 h â€“ 21 th , 2013 , Madrid , Spain Congress INGEGRAF - ADM - AIP PRIMECA gear and the concentricity of the two pinions on the transmission and transmission auxiliary shafts respectively , are the additional constraints which identify the differential axis position . Fig . 10 Contraposition of the 3SG - 6G ( left ) and CMT - 6M ( right ) datum set . The existing geometric constraints simplifies the computational tasks . The positioning of the reverse gear is the same , while the positioning of the differential is simplified because the angle for its positioning is already defined by the isosceles triangular layout . Other small differences in the gearbox digraphs can be appreciated . In fig . 11 the changes in the dependencies , by means of digraphs and due to the distribution of the gears on more shafts , are shown . Fig . 11 Comparison of the CMT - 6M ( up ) and 3SG - 6G ( down ) digraph . At geometrical level the two architectures seem so distant . However , the digraph representation has proven to be very similar . 6 GUI implementation A Graphical User Interface ( GUI ) , developed in MatLAB environment , was released in order to support the design of two automotive manual transverse gearboxes presented above . The source code is very basic and is made only in order to validate the approach used . The study of graph representation figured out how minimize the changes in the GUI to include a new architecture . The first step was to revise the interface appearance ( fig . 12 ) to make it more user - friendly . Fig . 12 GUI for gearbox modeling The greatest effort in the implementation dealed with the location of the source code and the functions to be reused and generalized . By setting of the â€œGearbox typeâ€ parameter , the choice of the gearbox type , that must be dimensioned , was introduced . The selection allows designer to load only the differences , in order to reuse all the common source code related to different gearboxes , and , therefore , to reuse existing knowledge . The designer can set the number of gears , belonging to the gearbox , up to a maximum of six , even if it is possible to extend the number of gears with no limits , of course foreseeing the possible architectures . The computational results are currently displayed in a dedicated environment . By clicking on â€œPlotâ€ command , the characteristic surfaces of toothing i . e . head , sides and foot of helical - toothed gears are displayed on screen ( fig . 13 ) . In this environment it is also possible to change the mesh degree ( fig . 13 ) and to accomplish the desired accuracy of geometries . Then , it is possible to export the points of meshes , related to the geometry of whole assembly , by using a text format to generate the 3D model in any CAD environment . Lanzotti et al . A graph - based approach to CAD modeling June 19 h â€“ 21 th , 2013 , Madrid , Spain Congress INGEGRAF - ADM - AIP PRIMECA Fig . 13 Environment for display of the surfaces . Fig . 14 a ) minimum degree mesh : 2 elements for edge ; b ) maximum degree mesh : 50 elements for edge 7 Conclusion The paper presents the study of two different architectures of manual transverse gearboxes by using a graph - based approach , aimed to CAD modeling . The main focus of the paper is the individuation of common and , vice - versa , different features belonging , respectively , to the functional , logical and geometrical level . The identification of common features existing between different gearboxes , through a graph - based approach , is the start point to perform the re - use of company knowledge and to reduct time and costs , according to a DP point of view . All focused common features , in fact , were used to release a new software tool for the sizing and the preliminary CAD modeling of the examined gearboxes . The present approach fits with the design of products / components , whose geometrical and design features are fixed . Of course , the definition of the functional , logical and geometrical levels is a time consuming activity and it requires a careful and thorough study of the product or component under consideration . For this reason , in the present paper , the greatest part of a previous digraph , in the definition of the logical level of a different gearbox architecture , was re - used . Otherwise , when designers tackle with a product / component whose geometrical and design features are not fixed , a series of relations are not known . The lack of a fixed architecture or specific equations , for example , could bring to the partial definition of the logical level . In such cases , the use of a digraph , related to a different level of detail , could improve and accelerate the processes aimed to the definition of geometrical and design features . Appendix Tab . 2 summarizes the general equations for gear sizing . Tab . 3 and tab . 4 show the additional equations for spur and helical toothed gears sizing , respectively . For the sizing of modular toothing the classic theory for gears [ 16 ] , Errore . L ' origine riferimento non Ã¨ stata trovata . was used . Minimum number of teeth ğ‘§ ! " # $ = 2 1 + 1 âˆ’ Ï„ 2 âˆ’ Ï„ sin ! Ï‘ 2 âˆ’ Ï„ sin ! Ï‘ Gear ratio ğœ = ğ‘§ ! ğ‘§ ! Tooth width ğ‘ = ğœ† âˆ— ğ‘š Pitch diameter ğ· ! = ğ‘š âˆ— ğ‘§ Outside diameter ğ·ğ‘’ = ğ· ! + 2 ğ‘š Max size ğ¼ğ‘›ğ‘” = ğ· ğ‘’ ! + ğ· ğ‘’ ! Tab . 2 General equations for external gears Bending ğ‘š ! = ğ¶ âˆ— ğ‘€ ğœ† âˆ— ğ‘§ ! âˆ— ğ¾ ! âˆ— ğœ ! " " ! Wear ğ‘š ! = ğ¶ âˆ— ğ‘€ ğœ† âˆ— ğ‘ ! " " ! ! Tab . 3 Additional equations to characterize straight - toothed gears Bending ğ‘š ! = ğ¶ âˆ— ğ‘€ ğœ† âˆ— ğ‘§ ! " âˆ— ğ¾ ! âˆ— ğ‘§ ! âˆ— ğœ ! " " ! Wear ğ‘š ! = ğ¶ ! " âˆ— ğ‘€ ğœ† âˆ— ğ‘ ! " " ! ! Number of teeth dummy ğ‘§ ! " = ğ‘§ ! cos ! ğ›½ Gear width ğ¿ = ğ‘ âˆ— cos ğ›½ Tab . 4 Additional equations to characterize helical - toothed gears Acknowledgement The present paper was developed with the economic support of MIUR ( Italian Ministry of University and Research ) performing the activities of the project PON01 _ 01268 â€œDigital pattern product development : a pattern driven approach for industrial product designâ€ . References [ 1 ] J . Li , Y . B . Yang , F . Y . Wei . Knowledge based engineering in complicated product desgin . Advanced Materials Research 466 - 467 , ( 2012 ) pp . 1135 - 1139 . [ 2 ] P . Franciosa , S . Gerbino , A . Lanzotti , S . Patalano . Automatic evaluation of variational parameters for tolerance analysis of rigid parts based on graphs . International Journal of Interactive Design and Manufacturing ( 2012 ) , ISSN 1955 - 2513 , Springer Paris , DOI 10 . 1007 / s12008 - 012 - 0178 - 4 . [ 3 ] P . Franciosa , S . Patalano , A . Riviere . 3D tolerance specification : an approach for the analysis of the global consistency based on graphs . International Journal of Interactive Design and Manufacturing 4 , 1 ( 2010 ) pp . 1 - 10 . [ 4 ] F . Lanubile , C . Ebert , R . Prikladnicki , A . Vizcaino . Collaboration tools for global software engineering . IEEE Software 27 , 2 ( 2010 ) pp . 52 - 55 . [ 5 ] Y . E . Nahm , H . Ishikawa . A new 3D - CAD system for set - based parametric design . International Journal of Advanced a ) b ) Lanzotti et al . A graph - based approach to CAD modeling June 19 h â€“ 21 th , 2013 , Madrid , Spain Congress INGEGRAF - ADM - AIP PRIMECA Manufacturing Technology 29 , 1 - 2 ( 2006 ) pp . 137 - 150 . [ 6 ] N . Alexios , P . Company , M . Contero . Integrated modeling with top - down approach in subsidiary industries . Computers in Industry 53 , ( 2004 ) pp . 97 - 116 . [ 7 ] S . Patalano , F . Vitolo , A . Lanzotti . A graph - based software tool for the CAD modeling of mechanical assemblies . Procedings of 8 th international conference on computer graphics theory and applications , Barcelona 2013 , pp . 60 - 69 . [ 8 ] L . Chujun . The design of process oriented knowledge - based CAD system . International conference on Automatic Control and Artificial Intelligence ( ACAI 2012 ) , ( 2012 ) , pp . 2099 - 2102 . [ 9 ] E . Mermoz , J . M . Linares , A . Bernard . Benefits and limitations of parametric design implementation in helicopter gearbox designphase . CIRP Annals - Manufacturing Technology 60 , 1 ( 2011 ) pp . 199 - 202 . [ 10 ] P . W . Lin , P . Xi , R . Chen , B . Zhang . The research of process - oriented knowledge - based CAD system . International Conference on Consumers Electronics , Communications and Networks CECNet 2011 , pp . 4548 - 4551 . [ 11 ] M . Sharmin , B . P . Bailey , C . Coats , K . Hamilton . Understanding knowledge management practices for early design activity and its implications for reuse . CHI Proceedings of the 27 th international conference on human factors in computing systems 2009 , pp . 2367 - 2376 . [ 12 ] J . Mohammed , J . May , A . Alavi . Application of computer aided design ( CAD ) in knowledge based engineering . Proceedings of the 2008 LAJC - IJME International Conference . ISBN 978 - 1 - 60643 - 379 - 9 . [ 13 ] J . A . Bondy , U . S . R . Murty . Graph theory , Springer 2008 . [ 14 ] N . Deo . Graph theory with applications to engineering and computer science , PHI Learning 2004 . New Delphi . [ 15 ] M . Sandeberg . Knowledge based engineering â€“ in product development . Lulea University of Technology , Sweden , 2003 . ISSN : 1402 - 1536 . [ 16 ] R . C . Juvinall , K . M . Marshek . Fondamenti della progettazione dei componenti delle macchine , ETS 1994 . [ 17 ] W . Charchut , A . K . Thomas . Ingranaggi , Tecniche Nuove 1972 . Milano . [ 18 ] Sham Tickoo . CATIA V5R19 for engineers and designers , Dreamtech Press 2010 .