SubmittedtotheAnnalsofAppliedStatistics SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA WITH ANALYSIS OF PREFERENCES IN SOCIAL NETWORKS B Y J IAQI G U 1 AND P HILIP L . H . Y U 2 , * 1 Department of Statistics and Actuarial Science , The University of Hong Kong , u3005743 @ hku . hk 2 Department of Mathematics and Information Technology , The Education University of Hong Kong , * plhyu @ eduhk . hk In the National Longitudinal Study of Adolescent to Adult Health ( Add Health ) in the United States during the 1994 - 95 school year , sampled high school students were asked to rank 17 romantic relationship activities in ideal chronological order , and to nominate up to 5 male and 5 female best friends within the school . It is natural to see that the students’ rank - order progres - sion of social , romantic and sexual relationships may be influenced strongly by their peers or friends . So far , traditional ranking models do not account for such social network dependency . In this article , we introduce a new class of models called social order statistics ( SOS ) models to learn ranking data in social networks . The new models combine the order statistics models and spatial autoregressive models to account for social dependencies among the individuals . A flexible formulation of weight matrices in the spatial model is adopted to provide diverse network effects among the individuals for differ - ent items . Efficient and scalable MCMC algorithms are developed to perform Bayesian inference in a parallel manner for large networks with even a few thousand nodes . Analysis of the Add Health dataset reveals that social net - work effects are different for students’ preferences towards different activities in a relationship . In particular , students’ preferences on romantic and sexual events generally have stronger peer effects than those on social events , and opinions of close friends of the same gender tend to have a larger impact on the preferences on sexual events . 1 . Introduction . To assess the physical and mental health issues from adolescence to young adulthood , the National Longitudinal Study of Adolescent to Adult Health ( Add Health ) surveyed adolescents who were in grades 7 - 12 during the 1994 - 95 school year . In this study , a sample of 80 high schools in the United States with at least 30 students in grade 11 were drawn by using stratified sampling based on schools’ features , including regions , urbanicity , school size and type , etc . In each school , sampled students were asked to finish a questionnaire to report their physical and mental health issues as well as demographic fea - tures , which are all recorded in the Add Health dataset . In the survey , students were asked to rank k = 17 romantic relationship activities in ideal chronological order , which reflects their vision of love . These 17 activities include social , romantic and sexual events frequently seen in romantic relationships . Although individual vision of love is likely to form according to the adolescents’ growth background and social relations , the quantitative impact of these factors remains mysterious and warrants investigation . With demographic features , including grade , race and gender , and in - school friendships answered by each student in the survey , we would like to investigate the following questions . • How personal background and the opinions of peers would influence one’s vision of love ? • Would students’ preferences for different activities be influenced by different friendship networks ? If so , what are the patterns of the friendship networks for different activities , particularly for those sensitive romantic events ? Keywords and phrases : Ranking data , Social Network , MCMC , Order Statistics Models . 1 2 More details of the Add Health dataset are described in Section 2 . In the analysis of ranking data , many statistical models and methods have been developed over the years ( Marden , 1996 ; Alvo and Yu , 2014 ; Yu , Gu and Xu , 2019 ) . Among them , the class of order statistics models ( Thurstone , 1927 ; Yu , 2000 ) is the most widely used . It ba - sically assumes that in ranking a set of items , an individual ( or judge ) assigns latent utility scores to the items according to his / her own taste , and the relative ordering of these utilities then determines the individual’s ranking . Two famous models of this class are the Plackett – Luce model ( Luce , 1959 ; Plackett , 1975 ) and the Thurstone model ( Thurstone , 1927 ; Hall and Miller , 2010 ) , where the utilities follow independent Gumbel distributions and normal distributions respectively . In the literature , various extensions of order statistics models have been studied . By accommodating covariates ( e . g . demographic features of each student in the Add Health dataset ) in the Plackett – Luce model under a multinomial logistic structure , Haus - man and Ruud ( 1987 ) developed the rank - order logit model where the expectation of latent utility scores of different individuals are determined by a linear function of covariates . Sim - ilarly , the multivariate normal order statistics ( MVNOS ) model ( Yu , 2000 ; Yu , Lam and Lo , 2005 ) incorporate the Thurstone model with a linear model of covariates where correlation structure among the latent utility scores of the items are studied . Since preference heterogene - ity among individuals usually observe in practice , the mixture of experts model ( Jacobs et al . , 1991 ; Jordan and Jacobs , 1994 ; Gormley and Murphy , 2008 ) is developed as a combination of mixture models and order statistics models . On the basis of mixture of experts model , the grade of membership model is developed ( Gormley and Murphy , 2009 ; Wang , Matsueda and Erosheva , 2017 ) to allow mixed membership while Gormley and Murphy ( 2010 ) incorporate socio - demographic covariates into the mixture of experts model under a generalized linear model . See also Caron , Teh and Murphy ( 2014 ) . Other ranking data models include paired comparison models ( Bradley and Terry , 1952 ; Huang , Weng and Lin , 2006 ) , distance - based models ( Mallows , 1957 ; Diaconis , 1989 ; Vitelli et al . , 2018 ) and its variants ( Fligner and Verducci , 1988 ; Meil˘a and Bao , 2008 , 2010 ; Lee and Yu , 2012 ; Deng et al . , 2014 ; Yu and Xu , 2019 ) and multistage models ( Doignon , Pekec and Regenwetter , 2004 ; Biernacki and Jacques , 2013 ) . However , all the above - mentioned models for ranking data assume that rankings given by different individuals are independent ( conditional on covariates if exists ) and thus are not di - rectly applicable to our problems , where social interactions among students ( i . e . , friendships ) brought correlations of their rankings . Consider that social networks can be represented as graphs in topological spaces , it is natural to borrow existing spatial models to depict social dependencies among rankings . In this article , we develop the social order statistics ( SOS ) models by combining the normal order statistics models ( Yu , 2000 ) and spatial autoregressive ( SAR ) models ( LeSage , 2008 ) to incorporate the social dependencies among the preferences of individuals . Similar to the spatial probit model ( Holloway , Shankar and Rahmanb , 2002 ) , autoregressive terms are introduced in the SOS model for the underlying latent utilities of activities in romantic relationships for students . To account for the diversity of social net - work effects , we follow the idea of Debarsy and LeSage ( 2018 ) to adopt a separate convex combination of weight matrices for each item to provide flexible social dependencies among the students on different events . Under such setting , the patterns of social network effects vary across different events and are estimable . Efficient MCMC algorithms are developed to perform Bayesian inference and applied to the analysis of the Add Health dataset . The remainder of this article is organized as follows . In Section 2 , we describe the Add Health dataset in greater details . Section 3 introduces our social order statistics ( SOS ) models for ranking data in a social network with flexible network dependencies structure . We develop in Section 4 efficient MCMC algorithms to perform Bayesian inference for our SOS mod - els with strategies to improve computational efficiency . We also evaluate the computational SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 3 T ABLE 1 Mean ranks of 17 events in relationships Category Index Activities Responses Mean rank Social 1 Go out together in a group 1070 6 . 005 2 Meet my partner’s parents . 1134 6 . 410 3 See less of my other friends . 565 11 . 681 4 Go out together alone . 1198 5 . 450 Romantic 5 Tell other people that we were a couple . 1165 6 . 034 6 Hold hands . 1224 4 . 849 7 Give my partner a present . 1178 7 . 970 8 My partner gives me a present . 1180 8 . 207 9 Tell my partner that I loved him or her . 1142 8 . 390 10 My partner tells me that he or she loved me . 1203 8 . 154 11 Think of ourselves as a couple . 1211 5 . 556 Sexual 12 Kiss . 1227 7 . 043 13 Talk about contraception or STDs . 900 11 . 499 14 Touch each other under or without our clothes . 702 12 . 836 15 Have sex . 653 13 . 620 16 My partner or I would get pregnant . 188 14 . 860 17 Get married . 369 14 . 437 T ABLE 2 Frequency distributions of exogenous variables ( reference level are marked with " * " ) Grade Race Gender Level Proportion Level Proportion Level Proportion 10 * 35 . 0 % White * 39 . 6 % Male * 51 . 0 % 11 34 . 3 % Black 18 . 6 % Female 49 . 0 % 12 30 . 7 % Asian 33 . 0 % Others 8 . 8 % efficiency and inference performance of our method on simulated data sets . Our method is applied back to the Add Health dataset in Section 5 , showing the existence of social network effects on students’ vision of love , especially for romantic and sexual events . Conclusions and discussions are given in Section 6 . 2 . Add Health Dataset . As only in - school friendships are recorded in the Add Health dataset , we consider the data obtained from the school with the largest number of responded students ( n = 1280 ) in the Wave I of the Add Health dataset . We use students’ rankings of k = 17 activities in their ideal romantic relationships in chronological order to reflect their vision of love . As listed in Table 1 , these activities cover social , romantic and sexual events frequently seen in romantic relationships . Since some events like pregnancy ( Event 16 ) were not ranked by some students , our dataset consists of 123 complete rankings and 1 , 157 incomplete rankings with only those events occurred earlier in ideal relationship ranked . The average number of ranked events per student is 12 . 8 ( S . D . = 2 . 6 ) . Table 1 shows the number of ranked responses and the mean ranks of these 17 events . It is clear that most of the students have taken social and romantic events into consideration when they are planning their relationships , while only a fraction have thought of sexual events . Students’ demographic features including their grades , races and gender are summarized in Table 2 . As all these features are categorical , the first category of each feature is chosen as the reference level and dummy indicator variables are then constructed for our analysis . 4 F IG 1 . Graphical illustration of the social network among students in the Add Health dataset . Students were also asked to nominate up to 5 male and 5 female best friends from the same school in the order that better friends are nominated earlier . As a result , the social network formed by nominated friendships is sparse ( average degree = 4 . 2 ) and directed ( from nominee to the nominator ) with heterogeneous links . The sub - network among 500 students with the largest degrees is visualized in Figure 1 , where they are also grouped by their gender and grade . It is seen that most of friends nominated are in the same grade of the nominator while friendships between students from different grades are less frequently reported . Within the same grade , the social network is slightly denser among students of the same gender . 3 . Social Order Statistics ( SOS ) Models . 3 . 1 . Model Specification . Consider n judges ( or individuals ) indexed by 1 , . . . , n in a social network . Each judge is asked to rank k items with labels 1 , . . . , k according to his / her own taste with the convention that more preferred items are assigned with lower ranks . The ranking of these k items given by judge j ( j = 1 , . . . , n ) is presented by a vector π j = ( π 1 j , . . . , π kj ) ′ , where π ij is the rank of item i given by judge j . Let u ij be the la - tent utility score of item i assigned by judge j . Under the order statistics models , the ranking π j is obtained by sorting the latent utilities u 1 j , . . . , u kj in descending order . That is , the item with the largest utility has rank 1 , the item with the second largest utility has rank 2 , and so on . Given judge - specific covariates s j = ( s j 0 , s j 1 , . . . , s jp ) ′ and item - judge - specific covariates c ij = ( c ij 1 , . . . , c ijq ) ′ ( j = 1 , . . . , n ) , we consider the normal order statistics model for U = { u ij : j = 1 , . . . , n ; i = 1 , . . . , k } as follows : ( 1 ) u ij = s ′ j η i + c ′ ij θ + e ij , ( i = 1 , . . . , k ; j = 1 , . . . , n ) SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 5 where e ij ’s are independent standard normal errors , η i = ( η i 0 , . . . , η ip ) ′ ∈ R p + 1 ( i = 1 , . . . , k ) and θ = ( θ 1 , . . . , θ q ) ′ ∈ R q are unknown parameters . Without loss of generality , we fix s j 0 = 1 ( j = 1 , . . . , n ) so that η i 0 ’s represent the item - specific intercepts . In practice , judge - specific covariates are features of judges , such as age and gender , while the item - judge - specific covariates are features that describe the judges’ personal experience on each item . One example of item - judge - specific covariate is the time spent by taking a travel mode from home to work for a person in a travel - mode choice study . To model social dependencies among ranking data , we follow the spatial probit model ( Holloway , Shankar and Rahmanb , 2002 ) and extend the model ( 1 ) by introducing autore - gressive terms as ( 2 ) u ij = ρ (cid:88) j ′ ̸ = j w jj ′ u ij ′ + s ′ j η i + c ′ ij θ + e ij . ( i = 1 , . . . , k ; j = 1 , . . . , n ) With w jj = 0 ( j = 1 , . . . , n ) , the matrix W = ( w jj ′ ) n × n is a weight matrix capturing the dependency structure between " neighboring " judges such as friends or relatives . Typically , the weight matrix W is obtained by row - normalizing an adjacency matrix and thus we have (cid:80) j ′ ̸ = j w jj ′ = 1 ( j = 1 , . . . , n ) . In this article , the range of autoregressive coefficient ρ is set to be ( − 1 , 1 ) to ensure that the inverse of ( I − ρ W ) exists . Under such spatial specification , ρ measures the strength of peer effect . A positive ρ represents a positive correlation between a judge’s utility and his / her peers’ utility for the same item , and vice versa for a negative ρ . Such correlation would be stronger for a larger magnitude of ρ . We call model ( 2 ) as the Social Order Statistics ( SOS ) model . Let u i = ( u i 1 , . . . , u in ) ′ denotes the vector of latent utilities for item i given by all the n judges . The SOS model ( 2 ) can be written in matrix form ( 3 ) u i = ρ Wu i + X i β + e i , ( i = 1 , . . . , k ) where β = ( η ′ 1 , . . . , η ′ k , θ ′ ) ′ and X i = [ 0 n × ( i − 1 ) p , S , 0 n × ( k − i ) p , C i ] is a n × ( kp + q ) matrix of covariates with respect to item i , with S = ( s 1 , . . . , s n ) ′ , C i = ( c i 1 , . . . , c in ) ′ and e i = ( e i 1 , . . . , e in ) ′ ∼ N ( 0 , I n ) . For simplicity , we refer model ( 3 ) as the basic SOS model . To guar - antee the parameter identifiability in the presence of item - specific intercepts , we fix η 10 = 0 and thus the first column of all X i can be deleted . 3 . 2 . Diversity in Social Network Effects . So far the SOS model postulates that the social network effects on latent utilities ( thus rankings ) can be captured by a single weight matrix W and an autoregressive coefficient ρ . However , this model may suffer from several limitations . Firstly , it may be unrealistic to assume that the social network effects are common to all the items . For example , when a student is planning a romantic event for a date , his / her preference on the event is likely to be influenced by his / her friends . However , when it comes to intimate a sexual event , what his / her preference on the event might be mainly affected by his / her close friends only . Therefore , diversity in social network effects for different items should be considered . To do so , we need to extend the basic SOS model to allow different weight matrices W i and autoregressive coefficients ρ i for different items ( i = 1 , . . . , k ) . Secondly , the specification of weight matrices W 1 , . . . , W k for different items could be challenging . Although it is easy to compute a number of weight matrices from various social networks such as networks of friendship , family relations , or community memberships , it is still difficult to select the appropriate weight matrix for each item . A wrong choice of W i ’s may lead to a biased inference of the model parameters . To tackle this problem , various meth - ods have been proposed in the literature . One popular approach is to consider a set of weight matrix candidates for each W i and select the ones that best fit the data or possess the largest posterior probability ( LeSage and Pace , 2009 ) . Another approach is to add some constraints 6 on elements of weight matrices and make inference under such constraints . However , both approaches are infeasible in our context . In the first approach , the candidate set of weight matrices is finite and thus is unlikely to cover correctly all actual weight matrices . Although the matrices can be estimated with the second approach , the constrained likelihood inference on the weight matrices for the items would be complicated . Notice that in the Add Health dataset , students were also asked to list out up to five friends of both genders . As a result , the friendships nominated in the social network of the Add Health dataset are heterogeneous and we can construct different weight matrices for different types of friendships . Inspired by Debarsy and LeSage ( 2018 ) , we extend the SOS model ( 3 ) to incorporate item - specific autoregressive coefficients and weight matrices { ρ i , W i : i = 1 , . . . , k } . In this article , we assume that the parameter space ( C W ) of a row - normalized weight matrix is ( 4 ) C W = (cid:40) m (cid:88) l = 1 δ l W ( l ) (cid:12)(cid:12)(cid:12)(cid:12)(cid:12) m (cid:88) l = 1 δ l = 1 and 0 ≤ δ l ≤ 1 , l = 1 , . . . , m (cid:41) , where W ( 1 ) , . . . , W ( m ) are m row - normalized basic weight matrices obtained from different types of friendships in the social network , with w ( l ) jj = 0 , w ( l ) jj ′ ≥ 0 and (cid:80) j ′ ̸ = j w ( l ) jj ′ = 1 ( j = 1 , . . . , n ; l = 1 , . . . , m ) . In other words , the weight matrices for the k items under the extended model are W i = (cid:80) ml = 1 δ il W ( l ) , i = 1 , . . . , k . In practice , the number ( m ) and the value of weight matrices W ( 1 ) , . . . , W ( m ) are usually determined by the available social networks in the way that each type of relationships corresponds to one basic weight matrix . Let δ i = ( δ i 1 , . . . , δ im ) ′ with (cid:80) ml = 1 δ il = 1 and 0 ≤ δ il ≤ 1 and ρ i ∈ ( − 1 , 1 ) . We propose the SOS model with item - specific social network effects as ( 5 ) u i = ρ i (cid:32) m (cid:88) l = 1 δ il W ( l ) (cid:33) u i + X i β + e i . ( i = 1 , . . . , k ) Without loss of generality , we only discuss the Bayesian inference of model ( 5 ) in the next section . 4 . Bayesian Inference of the SOS Model . 4 . 1 . Computational Implementation . 4 . 1 . 1 . Markov Chain Monte Carlo . Notice that under the SOS model ( 5 ) , the ranking data Π = { π 1 , . . . , π n } is assumed to be determined by sorting the correlated latent utilities U = { u ij } on these k items , denoted by R ( U ) = Π . Therefore , the likelihood function of the SOS model would involve a high dimensional integral and estimation by direct maximizing the likelihood function is thus computationally infeasible . Given the hierarchical structure of the SOS model , we suggest performing Bayesian inference via Markov Chain Monte Carlo ( MCMC ) methods . Assigning flat prior distributions to the model parameters β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , i . e . , f ( β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k ) ∝ 1 , and augmenting with the latent utilities U = { u ij } in the Gibbs sampling , the joint posterior density of β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , U is given by ( 6 ) f ( β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , U | Π ) ∝ 1 { R ( U ) = Π } k (cid:89) i = 1 f ( u i | β , ρ i , δ i ) . As shown in Appendix A , the full conditional distribution of β is a multivariate normal distribution and that of the latent utility u ij is a truncated normal distribution . Hence , both β SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 7 F IG 2 . ACF plots of δ il without ( top ) and with ( bottom ) blocking strategy . ( Number of repetitions in Step 1 : M = 10 ) and u ij can be directly sampled . Although the full conditional distributions of the ρ i ’s are not standard , they can be sampled easily via the Griddy Gibbs sampler ( Ritter and Tanner , 1992 ) in their domain ( − 1 , 1 ) . Finally , the full conditional distribution of { δ 1 , . . . , δ k } is given by ( 7 ) f ( δ 1 , . . . , δ k | β , ρ 1 , . . . , ρ k , U ) = k (cid:89) i = 1 f ( δ i | β , ρ i , u i ) , f ( δ i | β , ρ i , u i ) ∝ | A ( ρ i , δ i ) | exp (cid:40) − (cid:2) A ( ρ i , δ i ) u i − 2 X i β (cid:3) ′ A ( ρ i , δ i ) u i 2 (cid:41) where A ( ρ i , δ i ) = I − ρ i (cid:80) ml = 1 δ il W ( l ) . Note that this is clearly a non - standard distribution and we adopt the Metropolis – Hasting procedure for sampling { δ 1 , . . . , δ k } . As suggested by Gelman , Roberts and Gilks ( 1996 ) , an appropriate proposal distribution should be cho - sen such that the acceptance rate lies between 20 % and 40 % . To fully explore the parameter space , we adopt the Adaptive Metropolis Algorithm proposed by Haario , Saksman and Tam - minen ( 2001 ) to continuously update the proposal distribution for each δ i so that its mode is approaching iteratively to the corresponding posterior mode and the associated acceptance rate is under control . The details in specification of the proposal distributions for the δ i ’s is described in Appendix B . 4 . 1 . 2 . Blocking Strategy . The top panel of Figure 2 shows the ACF plots of three δ il ’s based on the above - mentioned Gibbs sampling on a simulated sample of size n = 100 with the same setting stated in Section 4 . 2 . It can be seen that direct implementation of the Gibbs sampling would lead to high autocorrelations in the samples of the δ il ’s , resulting in a slow convergence of the MCMC chain . Given that a majority of computational costs ( 70 % - 91 % ) lies on updating latent utili - ties U while we care more about the parameters β , { ρ 1 , . . . , ρ k } and { δ 1 , . . . , δ k } , there would be a huge waste of computational resources if only one set of parameters { β , ρ 1 , . . . , 8 ρ k , δ 1 , . . . , δ k } is sampled for each set of latent utilities U . To enhance the efficiency of our MCMC algorithm , we suggest utilizing the blocking strategy ( Liu , Wong and Kong , 1994 ) to sample parameters { β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k } as a whole for multiple times within each iter - ation . The MCMC algorithm with block structure is presented in Table 3 . It is clear that the first step is equivalent to jointly sampling multiple copies of { β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k } from f ( β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k | U ) for each sample of U . Therefore , for the same length of time , more posterior samples of parameters { β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k } are drawn . Here , we apply the R function geweke . diag . mv ( Geweke , 1992 ) to detect the convergence of the MCMC in which a Hotelling - type two - sample test is used to jointly test whether the means of all pa - rameters β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k in the first and the last parts ( by default the first 10 % and the last 50 % ) of the MCMC samples after removing burn - in samples are the same . In our implementation , the MCMC is said to converge if the p - value computed by the R function geweke . diag . mv is larger than 0 . 05 . T ABLE 3 Modified version of MCMC algorithm Step Action 0 Initialize all the parameters and unobserved utilities so that they are consistent with the observed ranking data Π . 1 Repeat for multiple times : - Draw δ 1 ∼ f ( δ 1 | ρ 1 , . . . , ρ k , δ 2 , . . . , δ k , U ) using Metropolis – Hastings with adaptive proposal ; - Draw ρ 1 ∼ f ( ρ 1 | ρ 2 , . . . , ρ k , δ 1 , . . . , δ k , U ) ; . . . - Draw δ k ∼ f ( δ k | ρ 1 , . . . , ρ k , δ 1 , . . . , δ k − 1 , U ) using Metropolis – Hastings with adaptive proposal ; - Draw ρ k ∼ f ( ρ k | ρ 1 , . . . , ρ k − 1 , δ 1 , . . . , δ k , U ) ; - Draw β ∼ f ( β | ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , U ) . 2 update the latent utilities U = { u ij } in sequence . 3 Return to Step 1 until the desired number of posterior samples has been simulated after the convergence is detected . T ABLE 4 Times needed for convergence of MCMC algorithm with and without blocking Data size n = 100 , k = 10 n = 500 , k = 10 With blocking strategy ? Yes No Yes No Time to convergence ( in seconds ) 607 1 , 693 4 , 330 15 , 979 No . of updating U to convergence 13 , 870 30 , 120 18 , 890 41 , 560 To demonstrate the advantage of blocking strategy , we conduct a simulation study to com - pare the performance of our MCMC algorithm with and without blocking , where the number of repetitions in each block is set as 10 . Figure 2 shows the ACF plots of three δ il ’s based on our algorithm without ( top panel ) and with ( bottom panel ) blocking . It is clear that the autocorrelations decay much faster when blocking strategy is adopted . We record the times needed for convergence of the algorithm with and without blocking in our simulation and the results are shown in Table 4 . It is found that the time required for our algorithm with block - ing strategy to converge is found to be much shorter . In addition , it is found that the blocking strategy is able to increase the average effective sample size of parameters β , { ρ 1 , . . . , ρ k } and { δ 1 , . . . , δ k } by 144 % , 260 % and 115 % respectively , suggesting the improvement of statistical efficiency . SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 9 T ABLE 5 Overview of MCMC approximate algorithm Step Action 0 Initialize all the parameters and unobserved utilities so that they are consistent with the observed ranking data Π . 1 Partition the judges { 1 , . . . , n } into S groups G 1 , . . . , G S on the basis of social network data . Denote the latent utilities corresponding to judges in Group G s as U ( s ) . 2 Repeat for multiple times : - Draw δ 1 ∼ f ( δ 1 | ρ 1 , . . . , ρ k , δ 2 , . . . , δ k , U ) using Metropolis – Hastings with adaptive proposal ; - Draw ρ 1 ∼ f ( ρ 1 | ρ 2 , . . . , ρ k , δ 1 , . . . , δ k , U ) ; . . . - Draw δ k ∼ f ( δ k | ρ 1 , . . . , ρ k , δ 1 , . . . , δ k − 1 , U ) using Metropolis – Hastings with adaptive proposal ; - Draw ρ k ∼ f ( ρ k | ρ 1 , . . . , ρ k − 1 , δ 1 , . . . , δ k , U ) ; - Draw β ∼ f ( β | ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , U ) . 3 . 1 If the number of iterations is a multiple of a pre - specified number , M ( M = 10 in this article ) , update the latent utilities U = { u ij } in sequence . 3 . 2 Otherwise , distribute the latent utilities U ( s ) ( s = 1 , . . . , S ) to S processors and update U ( s ) ∼ f (cid:2) U ( s ) | β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , Π , U \ U ( s ) (cid:3) in sequence . 4 Reunion U = ∪ s U ( s ) . 5 Return to Step 2 until the desired number of posterior samples has been simulated after the convergence is detected . T ABLE 6 Computational efficiency under different data sizes Data size n = 2000 , k = 10 n = 4000 , k = 10 Parallel computation ? No Yes No Yes Average time ( in seconds ) elapsed in updating { β , ρ 1 , . . . , ρ k } 4 . 730 5 . 578 39 . 185 40 . 061 Average time ( in seconds ) elapsed in updating U 7 . 681 3 . 815 45 . 224 17 . 914 Time needed to convergence ( in 1000 seconds ) 62 47 232 147 Note : The value of S for parallel computation is 5 . 4 . 1 . 3 . Approximate Algorithm with Parallel Computation . A major drawback of our modified MCMC algorithm stated in Table 3 is that within each iteration , all the unobserved utilities { u ij : i = 1 , . . . , n ; j = 1 , . . . , k } are correlated and thus each of them has to be sim - ulated sequentially conditioning on the others . In a dataset of n judges examining k items , there are a total of n × k truncated normal distributed utilities and such sequential simulations require intensive computation . This problem becomes more prominent when the number of judges n is extremely large as in most recommendation applications . Moreover , since the un - observed utilities u ij ’s are not statistically independent , existing parallelization methods like embarrassing parallel MCMC method ( Neiswanger , Wang and Xing , 2014 ) are not available . Hamiltonian Monte Carlo ( HMC ) method ( Pakman and Paninski , 2014 ) could not provide us computational benefit either due to the high dimensional truncation implied by rankings . Therefore , we need to develop an efficient algorithm for large size data with moderate com - putational cost . Inspired by the work of Terenin , Simpson and Draper ( 2020 ) , we develop an approxi - mate algorithm outlined in Table 5 for parallel computation based on an asynchronous Gibbs sampling strategy . By partitioning the set of judges in step 1 , the approximate algorithm is in fact approximating the conditional posterior density f ( U | β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , Π ) . As 10 suggested by Terenin , Simpson and Draper ( 2020 ) , the approximate algorithm would give a good approximation to the exact posterior density if the following conditions hold : - The dependency between subsets of judges is weak ; - The number of subsets ( S ) is much smaller than the dimensionality ; - All updates within each subset follow the standard Gibbs sampling . It is clear from Table 5 that the last two conditions are met . Thus , to ensure a good approxima - tion , the partitioning in step 1 should be implemented so that the dependency among different subsets of judges is weak . Such partitioning of judges is equivalent to the clustering in social networks , where extensive spectral clustering algorithms have been developed ( Shi and Ma - lik , 2000 ; Ng , Jordan and Weiss , 2002 ; White and Smyth , 2005 ; Newman , 2006 ; Spielman and Teng , 2007 ; Raju , Hameed and Sravanthi , 2015 ; Xu et al . , 2018 ) . With step 3 . 1 in the approximate algorithm , it is clear that the stationary distribution remains unchanged no mat - ter which clustering algorithm is used . Hence , applying different clustering algorithms would only lead to different computational efficiency while the resulting statistical inference would not change . In this article , we employ the normalized spectral clustering algorithm developed by Shi and Malik ( 2000 ) on the matrix (cid:80) ml = 1 W ( l ) which minimizes the relative weight of cross - subset links with respect to intra - subset links . As a result , correlations between differ - ent subsets of latent utility scores U ( 1 ) , . . . , U ( s ) compared to the correlations within each subset are minimized , leading to greater improvement of computational efficiency . Assuming that n > > k and the largest size of a group of judges is n max = o ( n ) , the approximate algorithm would in fact reduce the time complexity of an iteration from O ( kn 3 ) to O ( kn 2 ) . This efficiency can be evidenced from our simulation result ( with the same setting used before ) shown in Table 6 that the time needed to detect convergence is reduced by 24 % and 37 % for n = 2000 and 4000 respectively . 4 . 2 . Inference Performance . To evaluate the parameter estimation performance of our SOS model , we conduct a simulation study by generating 100 datasets , each of which con - tains n = 100 , 500 or 2000 judges’ rankings of k = 10 items randomly drawn from our SOS model ( 5 ) where X i = [ 0 n × ( i − 1 ) , 1 n × 1 , 0 n × ( 10 − i ) , C i ] for i = 1 , . . . , 10 , with C i being an n × 5 matrix of covariates randomly drawn from N ( 0 , 1 ) , and β = ( η 1 , . . . , η 10 , θ ′ ) ′ with ( η 1 , . . . , η 10 ) ′ = ( 0 , 0 . 6 , 1 . 8 , − 1 . 2 , 2 . 4 , 3 , 0 , 0 . 6 , 1 . 8 , − 1 . 2 ) ′ and θ = ( 1 , − 2 , − 3 , 4 , 0 ) ′ . We as - sume that the social network effects are governed by m = 3 row - normalized basic weight matrices W ( 1 ) , W ( 2 ) , W ( 3 ) generated as follows . For each pair of judges j and j ′ , their con - nection z jj ′ is simulated from a multinomial distribution where z jj ′ = z j ′ j =    No connect , with probability 9 / 10 , Type 1 , with probability 1 / 30 , Type 2 , with probability 1 / 30 , Type 3 , with probability 1 / 30 , and finally the basic weight matrices are computed as follows ( 8 ) W ( l ) = (cid:0) w ( l ) jj ′ (cid:1) n × n = (cid:32) 1 z jj ′ = Type l (cid:80) j ′ ̸ = j 1 z jj ′ = Type l (cid:33) n × n . ( l = 1 , 2 , 3 ) Let ρ il = ρ i δ il for i = 1 , . . . , k and l = 1 , . . . , m , the true values of autoregressive coefficients are displayed in Table 7 . Given the observed rankings π j ( j = 1 , . . . , n ) , we apply our Bayesian MCMC algorithm to fit the SOS model and estimate the model parameters by their posterior means . We use the exact algorithm given by Table 3 for n = 100 and 500 and the parallel algorithm given by SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 11 T ABLE 7 Parameter estimates of ρ i 1 , ρ i 2 , ρ i 3 ( i = 1 , . . . , 10 ) of the model n i 1 2 3 4 5 6 7 8 9 10 Exact algorithm 100 ρ i 1 True 0 . 3 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 Mean 0 . 286 0 . 114 0 . 193 0 . 288 0 . 191 0 . 290 0 . 116 0 . 106 0 . 296 0 . 197 S . D . 0 . 059 0 . 052 0 . 058 0 . 066 0 . 063 0 . 069 0 . 050 0 . 043 0 . 061 0 . 065 C . P . 0 . 94 0 . 92 0 . 96 0 . 98 0 . 95 0 . 95 0 . 96 0 . 94 0 . 95 0 . 94 ρ i 2 True 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 Mean 0 . 199 0 . 295 0 . 108 0 . 103 0 . 294 0 . 192 0 . 287 0 . 195 0 . 107 0 . 109 S . D . 0 . 061 0 . 055 0 . 043 0 . 048 0 . 057 0 . 062 0 . 060 0 . 055 0 . 042 0 . 049 C . P . 0 . 95 0 . 96 0 . 96 0 . 97 0 . 93 0 . 95 0 . 92 0 . 96 0 . 95 0 . 95 ρ i 3 True 0 . 1 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 Mean 0 . 099 0 . 187 0 . 291 0 . 194 0 . 113 0 . 120 0 . 199 0 . 300 0 . 202 0 . 287 S . D . 0 . 044 0 . 056 0 . 063 0 . 059 0 . 053 0 . 064 0 . 061 0 . 060 0 . 054 0 . 065 C . P . 0 . 94 0 . 95 0 . 95 0 . 96 0 . 95 0 . 96 0 . 95 0 . 96 0 . 95 0 . 93 500 ρ i 1 True 0 . 3 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 Mean 0 . 296 0 . 105 0 . 200 0 . 286 0 . 193 0 . 285 0 . 102 0 . 108 0 . 283 0 . 185 S . D . 0 . 072 0 . 044 0 . 061 0 . 064 0 . 067 0 . 078 0 . 041 0 . 048 0 . 071 0 . 068 C . P . 0 . 95 0 . 95 0 . 93 0 . 94 0 . 95 0 . 97 0 . 94 0 . 94 0 . 96 0 . 94 ρ i 2 True 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 Mean 0 . 223 0 . 295 0 . 112 0 . 111 0 . 277 0 . 191 0 . 291 0 . 194 0 . 104 0 . 107 S . D . 0 . 065 0 . 072 0 . 052 0 . 047 0 . 065 0 . 064 0 . 063 0 . 057 0 . 045 0 . 045 C . P . 0 . 96 0 . 95 0 . 94 0 . 96 0 . 97 0 . 96 0 . 96 0 . 96 0 . 95 0 . 92 ρ i 3 True 0 . 1 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 Mean 0 . 122 0 . 202 0 . 278 0 . 186 0 . 112 0 . 111 0 . 186 0 . 294 0 . 191 0 . 279 S . D . 0 . 050 0 . 063 0 . 067 0 . 063 0 . 051 0 . 045 0 . 063 0 . 056 0 . 057 0 . 066 C . P . 0 . 95 0 . 96 0 . 96 0 . 96 0 . 94 0 . 94 0 . 97 0 . 96 0 . 93 0 . 96 Parallel algorithm 500 ρ i 1 True 0 . 3 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 Mean 0 . 284 0 . 099 0 . 188 0 . 292 0 . 193 0 . 285 0 . 096 0 . 096 0 . 295 0 . 200 S . D . 0 . 093 0 . 031 0 . 064 0 . 064 0 . 063 0 . 071 0 . 044 0 . 032 0 . 057 0 . 061 C . P . 0 . 95 0 . 94 0 . 96 0 . 93 0 . 96 0 . 96 0 . 94 0 . 96 0 . 96 0 . 96 ρ i 2 True 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 Mean 0 . 197 0 . 289 0 . 101 0 . 098 0 . 297 0 . 182 0 . 296 0 . 192 0 . 109 0 . 100 S . D . 0 . 056 0 . 058 0 . 042 0 . 046 0 . 077 0 . 045 0 . 08 0 . 056 0 . 063 0 . 053 C . P . 0 . 95 0 . 95 0 . 94 0 . 97 0 . 96 0 . 95 0 . 97 0 . 95 0 . 97 0 . 95 ρ i 3 True 0 . 1 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 Mean 0 . 097 0 . 194 0 . 294 0 . 185 0 . 096 0 . 110 0 . 196 0 . 294 0 . 194 0 . 294 S . D . 0 . 032 0 . 053 0 . 057 0 . 063 0 . 047 0 . 062 0 . 061 0 . 079 0 . 068 0 . 055 C . P . 0 . 94 0 . 94 0 . 96 0 . 95 0 . 95 0 . 95 0 . 94 0 . 94 0 . 95 0 . 95 2000 ρ i 1 True 0 . 3 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 Mean 0 . 305 0 . 103 0 . 203 0 . 306 0 . 197 0 . 294 0 . 099 0 . 102 0 . 297 0 . 196 S . D . 0 . 035 0 . 020 0 . 017 0 . 028 0 . 026 0 . 019 0 . 009 0 . 016 0 . 017 0 . 021 C . P . 0 . 95 0 . 93 0 . 95 0 . 95 0 . 94 0 . 95 0 . 93 0 . 95 0 . 94 0 . 95 ρ i 2 True 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 Mean 0 . 217 0 . 294 0 . 102 0 . 108 0 . 294 0 . 194 0 . 301 0 . 201 0 . 106 0 . 107 S . D . 0 . 028 0 . 021 0 . 015 0 . 023 0 . 016 0 . 024 0 . 023 0 . 021 0 . 017 0 . 018 C . P . 0 . 96 0 . 95 0 . 98 0 . 97 0 . 94 0 . 96 0 . 93 0 . 96 0 . 94 0 . 95 ρ i 3 True 0 . 1 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 Mean 0 . 115 0 . 200 0 . 288 0 . 204 0 . 105 0 . 105 0 . 190 0 . 294 0 . 199 0 . 292 S . D . 0 . 020 0 . 016 0 . 019 0 . 020 0 . 015 0 . 014 0 . 018 0 . 021 0 . 015 0 . 021 C . P . 0 . 95 0 . 93 0 . 96 0 . 97 0 . 97 0 . 96 0 . 95 0 . 95 0 . 95 0 . 96 12 F IG 3 . Parameter estimates of β in the SOS model Table 5 for n = 500 and 2000 . The starting values of the parameters β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k are set as 0 while the starting values of the latent utilities U are sampled from the trun - cated normal distribution f ( U ) ∝ (cid:81) i , j ϕ ( u ij ) 1 { R ( U ) = Π } , where ϕ ( · ) is the standard normal density . The average of 100 posterior means for each parameter in β and ρ il ( i = 1 , . . . , k ; l = 1 , . . . , m ) , the corresponding standard deviation ( S . D . ) and the coverage probability of the corresponding 95 % credible interval ( C . P . ) for the ρ il ’s are summarized in Figure 3 and Table 7 . It can be seen that all the posterior means are close to their true values , the S . D . generally decreases as n increases with stable coverage probabilities ( 0 . 90 ∼ 0 . 95 ) . Under the same data generation setting ( n = 500 ) , the parallel algorithm performs similarly to the exact algorithm , suggesting its effectiveness in parameter estimation . We also conduct simu - lation experiments of k = 20 items as detailed in Appendix C . Similar results are obtained , indicating that the joint posterior distribution concentrates around the true parameter values and our MCMC algorithms are able to uncover the true settings underlying the generated data . Apart from parameter estimation , we also evaluate the robustness of our SOS model to the mis - specification on the number of weighted matrices ( m ) and investigate the impact of social network structure on the estimation performance of the SOS model via simulations detailed in Appendix D . 4 . 3 . Extension : Prediction on Incomplete Rankings . Apart from estimating the model parameters based on the posterior samples drawn by our MCMC algorithms , predicting the missing ranks in incomplete rankings is another important task as incomplete rankings are frequently collected in many situations where the number of items ( k ) is large and judges may find it difficult to rank all the items . In Appendix E , we detail the use of SOS models in rank prediction with applications on movie ratings datasets . 5 . Analysis of Ideal Romantic Relationship Activities in the Add Health Dataset . We analyze the Add Health dataset introduced in Section 1 using the SOS models . Notice that in the Add Health study , students were asked to list out up to five friends of both genders in the order of intimacy ( see Figure 1 ) , we use their lists of friends to investigate how friends in school influence students’ preference of events in their ideal romantic relationships . We here construct m = 6 basic weight matrices by row - normalizing the following adjacency ma - trices which represent the mutually exclusive relationships from the best friends , the second best friends , and the other best friends of the same and opposite genders . SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 13 F IG 4 . Parameter estimates of the autoregressive coefficients ρ il = ρ i δ il for Add Health data 1 . W ( 1 ) = ( w ( 1 ) jj ′ ) n × n where w ( 1 ) jj ′ equals one if student j ′ is the best friend of student j of same gender . 2 . W ( 2 ) = ( w ( 2 ) jj ′ ) n × n where w ( 2 ) jj ′ equals one if student j ′ is the second best friend of student j of same gender . 3 . W ( 3 ) = ( w ( 3 ) jj ′ ) n × n where w ( 3 ) jj ′ is nonzero if student j ′ is the third to fifth best friend of student j of same gender . 4 . W ( 4 ) = ( w ( 4 ) jj ′ ) n × n where w ( 4 ) jj ′ equals one if student j ′ is the best friend of student j of opposite gender . 5 . W ( 5 ) = ( w ( 5 ) jj ′ ) n × n where w ( 5 ) jj ′ equals one if student j ′ is the second best friend of student j of opposite gender . 6 . W ( 6 ) = ( w ( 6 ) jj ′ ) n × n where w ( 6 ) jj ′ is nonzero if student j ′ is the third to fifth best friend of student j of opposite gender . Note that W ( 1 ) , W ( 2 ) and W ( 3 ) represent relationships of the same gender whereas W ( 4 ) , W ( 5 ) and W ( 6 ) represent relationships of the opposite gender . We fit our SOS model ( 5 ) to the Add Health dataset via the Bayesian MCMC algorithm given in Table 5 . In running MCMC chains , the first 5 , 000 burn - in iterations are discarded . After the convergence is detected , we draw 1 , 000 more posterior samples per chain for Bayesian inference . The posterior means of the autoregressive coefficients and item - specific coefficients respect to all judge - specific exogenous variables are shown in Figure 4 and Table 8 , respectively . The parameter estimates shown in Figure 4 and Table 8 reveal that students’ demographic features and social network effects have significant impact on their ideal chronological order of romantic relationships . With reference to Table 1 , it can be seen that black students tend to perceive sexual experience ( events 14 - 15 ) earlier than students of other races , while female students are more conservative on these events . It is interesting to see that grade 11 students tend to be most favorable to these events and grade 12 students are in turn more favorable than grade 10 students . This is possibly because grade 10 students are the youngest and less mature , and grade 12 is the final year at high school and might spend more time to take public examinations for college or university admission . With the inclusion of six basic weight matrices , we could investigate how strong the social network effects are in different events . As displayed in Figure 4 , the social network effects for two romantic events 9 ( " Tell my partner that I loved him or her . " ) and 10 ( " My partner tells me that he or she loved me . " ) are usually found to be the strongest , and all six weight 14 T ABLE 8 Parameter estimates of the judge - specific exogenous variables for Add Health data Event Intercept 11 grade 12 grade Other Black Asian Female 1 0 ( 0 ) 0 . 53 ( 0 . 11 ) 0 . 39 ( 0 . 08 ) − 0 . 27 ( 0 . 12 ) − 0 . 03 ( 0 . 14 ) 0 . 03 ( 0 . 08 ) 0 . 87 ( 0 . 08 ) 2 − 0 . 06 ( 0 . 08 ) 0 . 75 ( 0 . 11 ) 0 . 43 ( 0 . 09 ) 0 . 33 ( 0 . 13 ) 0 . 78 ( 0 . 14 ) 0 . 03 ( 0 . 10 ) 0 . 23 ( 0 . 07 ) 3 − 0 . 92 ( 0 . 07 ) 0 . 50 ( 0 . 11 ) 0 . 23 ( 0 . 09 ) − 0 . 34 ( 0 . 12 ) 0 . 16 ( 0 . 14 ) 0 . 07 ( 0 . 10 ) − 0 . 35 ( 0 . 07 ) 4 0 . 14 ( 0 . 08 ) 0 . 81 ( 0 . 12 ) 0 . 49 ( 0 . 10 ) 0 . 02 ( 0 . 13 ) 0 . 38 ( 0 . 14 ) 0 . 13 ( 0 . 10 ) 0 . 23 ( 0 . 08 ) 5 0 . 02 ( 0 . 08 ) 0 . 70 ( 0 . 12 ) 0 . 23 ( 0 . 09 ) − 0 . 18 ( 0 . 13 ) 0 . 39 ( 0 . 14 ) 0 . 13 ( 0 . 10 ) 0 . 47 ( 0 . 07 ) 6 0 . 44 ( 0 . 08 ) 0 . 65 ( 0 . 11 ) 0 . 39 ( 0 . 09 ) − 0 . 17 ( 0 . 12 ) 0 . 06 ( 0 . 14 ) − 0 . 01 ( 0 . 10 ) 0 . 32 ( 0 . 07 ) 7 − 0 . 18 ( 0 . 07 ) 0 . 62 ( 0 . 11 ) 0 . 32 ( 0 . 09 ) − 0 . 03 ( 0 . 12 ) 0 . 01 ( 0 . 14 ) 0 . 25 ( 0 . 10 ) − 0 . 10 ( 0 . 07 ) 8 − 0 . 44 ( 0 . 08 ) 0 . 71 ( 0 . 11 ) 0 . 32 ( 0 . 09 ) 0 . 02 ( 0 . 13 ) 0 . 25 ( 0 . 14 ) 0 . 21 ( 0 . 10 ) 0 . 18 ( 0 . 07 ) 9 − 0 . 23 ( 0 . 08 ) 0 . 57 ( 0 . 11 ) 0 . 17 ( 0 . 09 ) − 0 . 28 ( 0 . 12 ) − 0 . 15 ( 0 . 13 ) 0 . 31 ( 0 . 10 ) − 0 . 03 ( 0 . 07 ) 10 − 0 . 27 ( 0 . 07 ) 0 . 58 ( 0 . 10 ) 0 . 18 ( 0 . 09 ) − 0 . 25 ( 0 . 12 ) − 0 . 08 ( 0 . 13 ) 0 . 31 ( 0 . 09 ) 0 . 12 ( 0 . 07 ) 11 0 . 15 ( 0 . 08 ) 0 . 58 ( 0 . 11 ) 0 . 21 ( 0 . 09 ) − 0 . 28 ( 0 . 13 ) 0 . 46 ( 0 . 14 ) 0 . 20 ( 0 . 10 ) 0 . 47 ( 0 . 07 ) 12 0 . 01 ( 0 . 08 ) 0 . 62 ( 0 . 11 ) 0 . 27 ( 0 . 09 ) − 0 . 17 ( 0 . 13 ) 0 . 13 ( 0 . 14 ) − 0 . 09 ( 0 . 10 ) 0 . 16 ( 0 . 07 ) 13 − 1 . 09 ( 0 . 07 ) 0 . 45 ( 0 . 11 ) 0 . 19 ( 0 . 09 ) − 0 . 20 ( 0 . 12 ) 0 . 42 ( 0 . 13 ) 0 . 25 ( 0 . 10 ) 0 . 09 ( 0 . 07 ) 14 − 1 . 25 ( 0 . 09 ) 0 . 47 ( 0 . 11 ) 0 . 20 ( 0 . 10 ) − 0 . 11 ( 0 . 13 ) 0 . 43 ( 0 . 14 ) 0 . 09 ( 0 . 10 ) − 0 . 44 ( 0 . 09 ) 15 − 1 . 45 ( 0 . 09 ) 0 . 37 ( 0 . 11 ) 0 . 16 ( 0 . 10 ) − 0 . 19 ( 0 . 15 ) 0 . 46 ( 0 . 14 ) 0 . 04 ( 0 . 10 ) − 0 . 49 ( 0 . 09 ) 16 − 2 . 54 ( 0 . 12 ) 0 . 39 ( 0 . 14 ) 0 . 10 ( 0 . 13 ) − 0 . 45 ( 0 . 20 ) 0 . 22 ( 0 . 15 ) 0 . 23 ( 0 . 12 ) 0 . 04 ( 0 . 10 ) 17 − 2 . 28 ( 0 . 11 ) 0 . 51 ( 0 . 13 ) 0 . 22 ( 0 . 11 ) − 0 . 52 ( 0 . 17 ) − 0 . 04 ( 0 . 15 ) 0 . 14 ( 0 . 12 ) 0 . 28 ( 0 . 09 ) Note : The intercept of event 1 is fixed as 0 . matrices carry similar social network effects to these two events . This indicates that both male and female friends generally have strong influence on one’s thought on these two romantic events . It is reasonable to see that sexual event 16 ( getting pregnant ) can be very stressful to students and they would possibly ask for advice from their very best friends of the same gender only . The top plot of Figure 5 displays the estimated social network of students on Event 9 generated by combining the six weight matrices with the size and color of a student node representing respectively its degrees and actual rank ( or not colored if unranked ) on Event 9 . It is clear that the network mainly shows three communities of students . Among them , the bottom left community mainly consist of students who assigned lower rank to Event 9 , while most students in bottom right community assigned much higher rank . Note that Event 10 also shows similar results . Similarly , we obtain the estimated social network of students on Event 16 as shown in the bottom plot of Figure 5 but nodes are colored according to their gender if event 16 is ranked ; otherwise , it is displayed as a hollow circle . We can see that there exist several small clusters of students who give actual ranks to event 16 with some influential female students at their centers . It suggests that students’ consideration of pregnancy in a relationship mainly depends on influential female students . If one’s female friend are conservative to talk about pregnancy , it is more likely for him / her not to consider this topic . 6 . Conclusions and Discussions . As social interactions among individuals are more fre - quent in the era of social media , the impact of peer on personal preference might get stronger . Motivated by the ranking data and the social network information provided in the Add Health dataset , we introduced the Social Order Statistics ( SOS ) model for ranking data that accounts for social network dependence among individuals in this article . By introducing autoregres - sive terms on the latent utilities , the SOS model depicts how one’s preference behaviors on an item are influenced by his / her friends’ views on the item . Item - specific weight matrices and autoregressive coefficients in terms of basic weight matrices allow for different peer effects for different items . Compared to the spatial probit model where weight matrices are given in SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 15 F IG 5 . Estimated social networks of students on Event 9 ( top ) and 16 ( bottom ) for the Add Heath Data 16 advance ( Holloway , Shankar and Rahmanb , 2002 ; Wang , Iglesias and Wooldridge , 2013 ) , the SOS model specifies weight matrices in a parametric way , offering greater flexibility and less bias in figuring out peer effects with little additional computational cost . In fitting the SOS model , Metropolis - within - Gibbs algorithms were developed to make Bayesian inference on ranking data . To deal with high autocorrelation and low acceptance rate when static proposals are used to sample the autoregressive coefficients , we adopted a set of strategies , including blocking and Adaptive Metropolis Algorithm , to improve the computational efficiency of our MCMC method . We further extended our Bayesian method to implement parallel compu - tation for large networks with a few thousand nodes . Numerical experiments on simulated datasets confirmed the effectiveness and efficiency of our MCMC algorithms in recovering the true parameters of the SOS model . The SOS model was then used to investigate the so - cial network effect on high school students’ vision of love , which is presented by their ideal chronological order of activities in romantic relationships . With the developed computational tools , we fitted the SOS model with the Add Health dataset and uncovered the patterns and strengths of peer effect on relationship activities . It is revealed that students’ preferences on romantic and sexual events generally have stronger peer effects than those on social events , and opinions of close friends of the same gender tend to have a larger impact on the prefer - ences on sexual events . There are still some directions in which we can further develop our work . First , social network data is incorporated as exogenous information in the SOS model . That is to say , ranking data are fitted under a model with an implicit assumption that rankings are formed after the social network . This is not always true because in some cases , the structure of social network of individuals may also depend on their rank - order preferences . It is thus of interest to develop a joint model of social network data and ranking data to depict the mutual dependency between individual preference and social connections of individuals . Secondly , it can be observed from our empirical experiments that not all covariates have significant impact on individual preferences and it may be better to remove those close - to - zero covariates for better interpretation . It could be done by substituting a flat prior with spike - and - slab prior ( Mitchell and Beauchamp , 1988 ) in Bayesian analysis . Finally , as mentioned in Alvo and Yu ( 2014 ) , there are two main classes of order statistics models for ranking data , and they are the logit - based models with Gumbel distributed latent utilities and the probit - based models with normal distributed latent utilities . In many applications , logit - based models are often used due to the closed form of its likelihood function . So far , our SOS model is probit - based , the development of its logit - based version and the associated Bayesian inference procedures will be deferred to future work . Acknowledgements . The authors would like to thank the editor , the associate editor and the two reviewers for making useful suggestions which improved the manuscript . This re - search uses data from Add Health , a program project designed by J . Richard Udry , Peter S . Bearman , and Kathleen Mullan Harris , and funded by grant P01 - HD31921 from the Eunice Kennedy Shriver National Institute of Child Health and Human Development , with cooper - ative funding from 17 other agencies . Special acknowledgement is due Ronald R . Rindfuss and Barbara Entwisle for assistance in the original design . Persons interested in obtaining Data Files from Add Health should contact Add Health , The University of North Carolina at Chapel Hill , Carolina Population Center , Carolina Square , Suite 210 , 123 W . Franklin Street , Chapel Hill , NC 27516 - 2524 ( addhealth _ contracts @ unc . edu ) . No direct support was received from grant P01 - HD31921 for this analysis . The research of Philip L . H . Yu was sup - ported by a General Research Fund from the Research Grants Council of the Hong Kong Special Administrative Region , China ( Project Number 17307119 ) and this work was also partially supported by the TCL Innovative Research Fund for Science 80th Anniversary . SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 17 APPENDIX A : FULL CONDITIONAL DENSITIES To derive the full conditional densities of θ ≡ { β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k } , we first augment the data Π by the latent utilities U such that the complete likelihood f ( U , Π | θ ) is known , and f ( Π | U ) can easily be computed . Then the posterior density f ( θ | Π ) is obtained by collapsing f ( θ , U | Π ) through integrating out U . Note that f ( U , Π | θ ) = f ( U | θ ) which is multivariate normal density and f ( Π | U ) = 1 { R ( U ) = Π } . Assigning flat prior to θ , i . e . , f ( θ ) ∝ 1 , it is easy to write down f ( θ , U | Π ) as : ( 9 ) f ( θ , U | Π ) ∝ f ( Π | U ) f ( U | θ ) f ( θ ) ∝ 1 { R ( U ) = Π } k (cid:89) i = 1 f ( u i | β , ρ i , δ i ) , where f ( u i | β , ρ i , δ i ) ∝ | A ( ρ i , δ i ) | exp (cid:110) − 12 (cid:2) A ( ρ i , δ i ) u i − X i β (cid:3) ′ (cid:2) A ( ρ i , δ i ) u i − X i β (cid:3)(cid:111) , and A ( ρ i , δ i ) = I − ρ i (cid:16)(cid:80) ml = 1 δ il W ( l ) (cid:17) . Using ( 9 ) , the full conditional densities can be obtained : ( a ) f ( β (cid:12)(cid:12)(cid:12) ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , U , Π ) ∝ f ( β (cid:12)(cid:12)(cid:12) ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , U ) ∝ f ( U | θ ) and hence it can be shown that the full conditional density of β follows N (cid:110) ( k (cid:88) i = 1 X ′ i X i ) − 1 (cid:104) k (cid:88) i = 1 X ′ i A ( ρ i , δ i ) u i (cid:105) , ( k (cid:88) i = 1 X ′ i X i ) − 1 (cid:111) . ( b ) f ( δ 1 , . . . , δ k | β , ρ 1 , . . . , ρ k , U , Π ) = (cid:81) ki = 1 f ( δ i | β , ρ i , u i ) , with f ( δ i | β , ρ i , u i ) ∝ | A ( ρ i , δ i ) | exp (cid:110) − 1 2 (cid:2) A ( ρ i , δ i ) u i − X i β (cid:3) ′ (cid:2) A ( ρ i , δ i ) u i − X i β (cid:3)(cid:111) . This is clearly a non - standard distribution and we adopt the Adaptive Metropolis Algo - rithm proposed by Haario , Saksman and Tamminen ( 2001 ) to continuously update the proposal distribution for each δ i so that its mode is approaching iteratively to the corre - sponding posterior mode and the associated acceptance rate is under control . See Section S2 for the details . ( c ) f ( ρ 1 , . . . , ρ k | β , δ 1 , . . . , δ k , U , Π ) = (cid:81) ki = 1 f ( ρ i | β , δ i , u i ) , with f ( ρ i | β , δ i , u i ) ∝ | A ( ρ i , δ i ) | exp (cid:110) − 1 2 (cid:2) A ( ρ i , δ i ) u i − X i β (cid:3) ′ (cid:2) A ( ρ i , δ i ) u i − X i β (cid:3)(cid:111) . Although the full conditional distributions of the ρ i ’s are not standard , they can be sampled easily via the Griddy Gibbs sampler ( Ritter and Tanner , 1992 ) in their domain ( − 1 , 1 ) . ( d ) It is easy to see that u ij | U \ { u ij } , β , ρ 1 , . . . , ρ k , δ 1 , . . . , δ k , Π follows a truncated normal distribution with mean m ij and variance τ 2 ij over the region : max π i ′ j > π ij u i ′ j < u ij < min π i ′ j < π ij u i ′ j , where τ 2 ij = z − 1 i , jj , m ij = z − 1 i , jj (cid:2) x ′ ij β − (cid:80) j ′ ̸ = j ( z i , jj ′ u ij ′ + (cid:80) ml = 1 ρ i δ il w ( l ) jj ′ x ′ ij ′ β ) (cid:3) , and Z i = ( z i , jj ′ ) n × n = [ A ( ρ i , δ i ) ] ′ A ( ρ i , δ i ) , for i = 1 , . . . , k and j = 1 , . . . , n . APPENDIX B : ADAPTIVE METROPOLIS ALGORITHM FOR SAMPLING { δ 1 , . . . , δ k } Recall that for i = 1 , . . . , k , the entries of δ i = ( δ i 1 , . . . , δ im ) ′ are constrained to be greater than zero and to sum to one , i . e . , δ il > 0 and (cid:80) ml = 1 δ il = 1 , l = 1 , . . . , m . To sample δ i from its full conditional distribution , we adopt the Adaptive Metropolis Algorithm with adaptive 18 proposal q i from a Dirichlet distribution with parameters α i 1 , . . . , α il > 0 having a density function given by q i ( δ ∗ i ; α i 1 , . . . , α il ) ∝ m (cid:89) l = 1 (cid:0) δ ∗ il (cid:1) a il − 1 , δ il > 0 and m (cid:88) l = 1 δ il = 1 . The parameters α i 1 , . . . , α im in the proposal distribution must be tuned adaptively to keep the mode of q i as close to the marginal posterior mode of δ i as possible and the acceptance rate controlled between 20 % and 40 % in order to fully explore the parameter space . Our tuning strategy is as follows : ( a ) Re - parametrize α il = τ i υ il ( i = 1 , . . . , k ; l = 1 , . . . , m ) , where τ i and υ il ’s are used to control the scale and mode of q i . ( b ) Update α il ( i = 1 , . . . , k ; l = 1 , . . . , m ) in every G = 100 MCMC iterations : at the t th iteration with t being a multiple of G , - increase ( decrease ) τ ( t ) i by a small fraction , say 5 % , if the acceptance rate of δ i is below 20 % ( above 40 % ) ; - Update υ ( t ) il based on the past G MCMC samples on δ il : υ ( t ) il = 1 G G − 1 (cid:88) g = 0 δ ( t − g ) il ; - Update α ( t ) il = τ ( t ) i υ ( t ) il , i = 1 , . . . , k ; l = 1 , . . . , m . APPENDIX C : PARAMETER ESTIMATION PERFORMANCE WITH k = 20 ITEMS To study how the number of items affect the estimation performance of our method , we generate 100 datasets , each of which contains n = 500 or 2000 judges’ rankings of k = 20 items randomly drawn from our SOS model ( 5 ) where X i = [ 0 n × ( i − 1 ) , 1 n × 1 , 0 n × ( 10 − i ) , C i ] for i = 1 , . . . , 20 , with C i being an n × 5 matrix of covariates randomly drawn from N ( 0 , 1 ) , and β = ( η 1 , . . . , η 20 , θ ′ ) ′ with ( η 1 , . . . , η 20 ) ′ = 0 . 6 × ( 0 , 0 , 1 , 1 , 3 , 3 , − 2 , − 2 , 4 , 4 , 5 , 5 , 0 , 0 , 1 , 1 , 3 , 3 , − 2 , − 2 ) ′ and θ = ( 1 , − 2 , − 3 , 4 , 0 ) ′ . With the same generating mechanism of social network in Section 4 . 2 , the average of 100 posterior means in β and ρ il ( i = 1 , . . . , k ; l = 1 , . . . , m ) , the corre - sponding standard deviation ( S . D . ) and the coverage probability of the corresponding 95 % credible interval ( C . P . ) for the ρ il ’s are summarized in Figure 6 and Table 9 . APPENDIX D : ROBUSTNESS TO THE NUMBER OF WEIGHT MATRICES AND SOCIAL NETWORK STRUCTURES To evaluate the robustness of our SOS model to the mis - specification on the number of weighted matrices ( m ) , we generate 100 datasets with n = 500 under the same mechanism stated in Section 4 . 2 . For each dataset , we fit the SOS model with W ( 1 ) and W ( 2 ) to inves - tigate the impact of excluding an important weight matrix on its performance of parameter estimation . To investigate the impact of including a redundant weight matrix , we simulate the connection z jj ′ for each pair of judges j and j ′ from a multinomial distribution , where z jj ′ = z j ′ j =    No connect , with probability 13 / 15 , Type 1 , with probability 1 / 30 , Type 2 , with probability 1 / 30 , Type 3 , with probability 1 / 30 , Type 4 , with probability 1 / 30 , SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 19 T ABLE 9 Parameter estimates of ρ i 1 , ρ i 2 , ρ i 3 ( i = 1 , . . . , 20 ) of the model ρ i 1 ρ i 2 ρ i 2 i True Mean S . D . C . P . True Mean S . D . C . P . True Mean S . D . C . P . n = 500 ( Exact algorithm ) 1 0 . 3 0 . 308 0 . 031 0 . 94 0 . 2 0 . 192 0 . 055 0 . 95 0 . 1 0 . 112 0 . 045 0 . 95 2 0 . 1 0 . 080 0 . 041 0 . 93 0 . 3 0 . 296 0 . 052 0 . 93 0 . 2 0 . 201 0 . 061 0 . 92 3 0 . 2 0 . 193 0 . 060 0 . 95 0 . 1 0 . 115 0 . 053 0 . 96 0 . 3 0 . 275 0 . 053 0 . 95 4 0 . 3 0 . 311 0 . 053 0 . 96 0 . 1 0 . 091 0 . 036 0 . 96 0 . 2 0 . 198 0 . 061 0 . 95 5 0 . 2 0 . 214 0 . 046 0 . 96 0 . 3 0 . 291 0 . 063 0 . 95 0 . 1 0 . 117 0 . 047 0 . 95 6 0 . 3 0 . 315 0 . 054 0 . 96 0 . 2 0 . 187 0 . 048 0 . 95 0 . 1 0 . 113 0 . 049 0 . 97 7 0 . 1 0 . 112 0 . 054 0 . 94 0 . 3 0 . 296 0 . 047 0 . 93 0 . 2 0 . 186 0 . 048 0 . 94 8 0 . 1 0 . 110 0 . 057 0 . 96 0 . 2 0 . 183 0 . 062 0 . 95 0 . 3 0 . 298 0 . 058 0 . 96 9 0 . 3 0 . 286 0 . 062 0 . 93 0 . 1 0 . 120 0 . 051 0 . 95 0 . 2 0 . 192 0 . 066 0 . 93 10 0 . 2 0 . 172 0 . 051 0 . 97 0 . 1 0 . 107 0 . 052 0 . 95 0 . 3 0 . 316 0 . 052 0 . 95 11 0 . 3 0 . 288 0 . 058 0 . 94 0 . 2 0 . 188 0 . 048 0 . 96 0 . 1 0 . 112 0 . 050 0 . 96 12 0 . 1 0 . 104 0 . 049 0 . 96 0 . 3 0 . 287 0 . 055 0 . 96 0 . 2 0 . 220 0 . 074 0 . 95 13 0 . 2 0 . 186 0 . 057 0 . 95 0 . 1 0 . 101 0 . 059 0 . 95 0 . 3 0 . 281 0 . 047 0 . 96 14 0 . 3 0 . 313 0 . 044 0 . 97 0 . 1 0 . 102 0 . 037 0 . 94 0 . 2 0 . 183 0 . 064 0 . 95 15 0 . 2 0 . 204 0 . 059 0 . 94 0 . 3 0 . 305 0 . 043 0 . 96 0 . 1 0 . 109 0 . 041 0 . 94 16 0 . 3 0 . 283 0 . 057 0 . 98 0 . 2 0 . 194 0 . 053 0 . 95 0 . 1 0 . 085 0 . 030 0 . 96 17 0 . 1 0 . 103 0 . 041 0 . 95 0 . 3 0 . 301 0 . 046 0 . 94 0 . 2 0 . 196 0 . 062 0 . 94 18 0 . 1 0 . 106 0 . 043 0 . 96 0 . 2 0 . 205 0 . 051 0 . 97 0 . 3 0 . 290 0 . 055 0 . 96 19 0 . 3 0 . 293 0 . 056 0 . 96 0 . 1 0 . 106 0 . 039 0 . 95 0 . 2 0 . 177 0 . 047 0 . 96 20 0 . 2 0 . 192 0 . 057 0 . 95 0 . 1 0 . 106 0 . 039 0 . 92 0 . 3 0 . 284 0 . 057 0 . 96 n = 500 ( Parallel algorithm ) 1 0 . 3 0 . 317 0 . 031 0 . 95 0 . 2 0 . 195 0 . 061 0 . 95 0 . 1 0 . 091 0 . 037 0 . 94 2 0 . 1 0 . 120 0 . 034 0 . 94 0 . 3 0 . 286 0 . 060 0 . 95 0 . 2 0 . 216 0 . 077 0 . 94 3 0 . 2 0 . 192 0 . 052 0 . 95 0 . 1 0 . 105 0 . 035 0 . 96 0 . 3 0 . 312 0 . 060 0 . 95 4 0 . 3 0 . 272 0 . 050 0 . 96 0 . 1 0 . 104 0 . 046 0 . 96 0 . 2 0 . 204 0 . 080 0 . 96 5 0 . 2 0 . 211 0 . 051 0 . 96 0 . 3 0 . 320 0 . 077 0 . 95 0 . 1 0 . 078 0 . 047 0 . 97 6 0 . 3 0 . 270 0 . 059 0 . 95 0 . 2 0 . 177 0 . 049 0 . 95 0 . 1 0 . 090 0 . 034 0 . 95 7 0 . 1 0 . 071 0 . 058 0 . 93 0 . 3 0 . 296 0 . 030 0 . 93 0 . 2 0 . 207 0 . 045 0 . 94 8 0 . 1 0 . 112 0 . 061 0 . 95 0 . 2 0 . 162 0 . 056 0 . 95 0 . 3 0 . 294 0 . 061 0 . 95 9 0 . 3 0 . 316 0 . 074 0 . 96 0 . 1 0 . 114 0 . 056 0 . 93 0 . 2 0 . 188 0 . 059 0 . 93 10 0 . 2 0 . 196 0 . 047 0 . 95 0 . 1 0 . 094 0 . 057 0 . 94 0 . 3 0 . 337 0 . 060 0 . 93 11 0 . 3 0 . 287 0 . 053 0 . 96 0 . 2 0 . 189 0 . 034 0 . 94 0 . 1 0 . 104 0 . 059 0 . 96 12 0 . 1 0 . 111 0 . 064 0 . 94 0 . 3 0 . 290 0 . 055 0 . 96 0 . 2 0 . 187 0 . 072 0 . 97 13 0 . 2 0 . 200 0 . 054 0 . 95 0 . 1 0 . 106 0 . 076 0 . 96 0 . 3 0 . 268 0 . 050 0 . 97 14 0 . 3 0 . 330 0 . 046 0 . 93 0 . 1 0 . 098 0 . 033 0 . 95 0 . 2 0 . 215 0 . 062 0 . 95 15 0 . 2 0 . 202 0 . 050 0 . 95 0 . 3 0 . 286 0 . 035 0 . 94 0 . 1 0 . 087 0 . 036 0 . 95 16 0 . 3 0 . 301 0 . 070 0 . 95 0 . 2 0 . 195 0 . 070 0 . 96 0 . 1 0 . 125 0 . 033 0 . 96 17 0 . 1 0 . 096 0 . 042 0 . 94 0 . 3 0 . 281 0 . 038 0 . 94 0 . 2 0 . 198 0 . 052 0 . 94 18 0 . 1 0 . 102 0 . 043 0 . 93 0 . 2 0 . 202 0 . 044 0 . 95 0 . 3 0 . 282 0 . 068 0 . 96 19 0 . 3 0 . 301 0 . 061 0 . 94 0 . 1 0 . 131 0 . 037 0 . 95 0 . 2 0 . 234 0 . 056 0 . 95 20 0 . 2 0 . 205 0 . 047 0 . 97 0 . 1 0 . 106 0 . 039 0 . 94 0 . 3 0 . 312 0 . 054 0 . 96 n = 2000 ( Parallel algorithm ) 1 0 . 3 0 . 318 0 . 028 0 . 97 0 . 1 0 . 147 0 . 027 0 . 95 0 . 1 0 . 125 0 . 024 0 . 96 2 0 . 1 0 . 104 0 . 015 0 . 94 0 . 3 0 . 304 0 . 014 0 . 95 0 . 1 0 . 127 0 . 015 0 . 95 3 0 . 1 0 . 131 0 . 026 0 . 95 0 . 1 0 . 099 0 . 013 0 . 97 0 . 3 0 . 302 0 . 021 0 . 96 4 0 . 3 0 . 296 0 . 018 0 . 95 0 . 1 0 . 099 0 . 016 0 . 94 0 . 1 0 . 127 0 . 015 0 . 95 5 0 . 1 0 . 128 0 . 019 0 . 95 0 . 3 0 . 299 0 . 021 0 . 95 0 . 1 0 . 101 0 . 011 0 . 93 6 0 . 3 0 . 293 0 . 018 0 . 96 0 . 1 0 . 133 0 . 023 0 . 93 0 . 1 0 . 100 0 . 011 0 . 96 7 0 . 1 0 . 098 0 . 011 0 . 95 0 . 3 0 . 294 0 . 017 0 . 97 0 . 1 0 . 126 0 . 017 0 . 94 8 0 . 1 0 . 105 0 . 013 0 . 95 0 . 1 0 . 128 0 . 013 0 . 96 0 . 3 0 . 292 0 . 019 0 . 95 9 0 . 3 0 . 297 0 . 017 0 . 95 0 . 1 0 . 104 0 . 018 0 . 95 0 . 1 0 . 127 0 . 014 0 . 97 10 0 . 1 0 . 137 0 . 023 0 . 94 0 . 1 0 . 100 0 . 012 0 . 97 0 . 3 0 . 297 0 . 020 0 . 95 11 0 . 3 0 . 304 0 . 019 0 . 94 0 . 1 0 . 137 0 . 019 0 . 95 0 . 1 0 . 112 0 . 014 0 . 93 12 0 . 1 0 . 100 0 . 013 0 . 95 0 . 3 0 . 292 0 . 013 0 . 98 0 . 1 0 . 129 0 . 018 0 . 94 13 0 . 1 0 . 126 0 . 016 0 . 96 0 . 1 0 . 101 0 . 015 0 . 95 0 . 3 0 . 297 0 . 017 0 . 94 14 0 . 3 0 . 291 0 . 018 0 . 95 0 . 1 0 . 101 0 . 011 0 . 98 0 . 1 0 . 126 0 . 023 0 . 96 15 0 . 1 0 . 142 0 . 023 0 . 94 0 . 3 0 . 299 0 . 018 0 . 94 0 . 1 0 . 100 0 . 014 0 . 94 16 0 . 3 0 . 298 0 . 018 0 . 97 0 . 1 0 . 123 0 . 021 0 . 94 0 . 1 0 . 101 0 . 015 0 . 95 17 0 . 1 0 . 098 0 . 017 0 . 94 0 . 3 0 . 299 0 . 021 0 . 98 0 . 1 0 . 128 0 . 017 0 . 94 18 0 . 1 0 . 101 0 . 014 0 . 96 0 . 1 0 . 121 0 . 013 0 . 93 0 . 3 0 . 295 0 . 017 0 . 94 19 0 . 3 0 . 297 0 . 013 0 . 96 0 . 1 0 . 098 0 . 012 0 . 93 0 . 1 0 . 136 0 . 025 0 . 96 20 0 . 1 0 . 138 0 . 019 0 . 97 0 . 1 0 . 104 0 . 017 0 . 95 0 . 3 0 . 297 0 . 023 0 . 96 20 F IG 6 . Parameter estimates of β in the SOS model and compute the row - normalized basic weight matrices W ( 1 ) , W ( 2 ) , W ( 3 ) and W ( 4 ) as Equa - tion ( 8 ) in each dataset . As before , we generate 100 datasets with n = 500 and matrices W ( 1 ) , W ( 2 ) , W ( 3 ) as in Section 4 . 2 . In other words , the true values of ρ i 4 s are all 0 . We fit the SOS model with W ( 1 ) , W ( 2 ) , W ( 3 ) and W ( 4 ) . The average of 100 posterior means for each param - eter in β and ρ il ’s , the corresponding standard deviation ( S . D . ) and the coverage probability of the corresponding 95 % credible interval ( C . P . ) for the ρ il ’s are tabulated in Figure 7 and Table 10 . It can be seen that when W ( 3 ) is missing , the posterior means of ρ il s ( l = 1 , 2 ) are close to the corresponding true value . If an irrelevant weight matrix ( W ( 4 ) ) is included , posterior means still provide a good estimation of ρ il ( l = 1 , 2 , 3 ) . However , as compared to Figure 3 , our Bayes estimators for β tend to have a relatively larger standard deviation when m is mis - specified , particularly in the case of under - specification . This implies that the mis - specification on the number of weighted matrices ( m ) would reduce the estimation efficiency of the posterior means . We also investigate the impact of social network structure on the estimation performance of the SOS model . Considering two different generating mechanisms of basic weight matrices W ( 1 ) , W ( 2 ) , W ( 3 ) as follows : ( a ) For each pair of judges j and j ′ , their connection z jj ′ is simulated from a multinomial distribution where z jj ′ = z j ′ j =   No connect , with probability 19 / 20 , Type 1 , with probability 1 / 60 , Type 2 , with probability 1 / 60 , Type 3 , with probability 1 / 60 , and finally the basic weight matrices are computed as Equation ( 8 ) . ( b ) We simulate all connections z jj ′ under the stochastic block model ( Snijders and Now - icki , 1997 ) where g j , the group membership of judge j , follows a uniform distribution in { 1 , 2 , 3 , 4 } . Given memberships g j and g j ′ , the connection z jj ′ is simulated from a multi - SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 21 F IG 7 . Parameter estimates of β in the SOS model when the number of weight matrices is misspecified . T ABLE 10 Parameter estimates of ρ i 1 , . . . , ρ im ( i = 1 , . . . , 10 ) of the model when the number of weight matrices is misspecified . m i 1 2 3 4 5 6 7 8 9 10 2 ρ i 1 True 0 . 3 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 Mean 0 . 303 0 . 116 0 . 203 0 . 279 0 . 206 0 . 271 0 . 119 0 . 137 0 . 292 0 . 198 S . D . 0 . 060 0 . 044 0 . 055 0 . 056 0 . 070 0 . 055 0 . 042 0 . 069 0 . 061 0 . 059 C . P . 0 . 95 0 . 97 0 . 94 0 . 95 0 . 92 0 . 97 0 . 95 0 . 97 0 . 95 0 . 95 ρ i 2 True 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 Mean 0 . 190 0 . 296 0 . 100 0 . 105 0 . 286 0 . 189 0 . 302 0 . 219 0 . 096 0 . 101 S . D . 0 . 054 0 . 066 0 . 044 0 . 036 0 . 065 0 . 074 0 . 059 0 . 046 0 . 038 0 . 038 C . P . 0 . 95 0 . 94 0 . 95 0 . 94 0 . 94 0 . 94 0 . 95 0 . 96 0 . 95 0 . 94 4 ρ i 1 True 0 . 3 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 Mean 0 . 306 0 . 098 0 . 191 0 . 291 0 . 198 0 . 284 0 . 079 0 . 099 0 . 254 0 . 156 S . D . 0 . 061 0 . 039 0 . 074 0 . 078 0 . 058 0 . 068 0 . 031 0 . 035 0 . 042 0 . 051 C . P . 0 . 95 0 . 95 0 . 96 0 . 93 0 . 95 0 . 94 0 . 95 0 . 95 0 . 98 0 . 96 ρ i 2 True 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 Mean 0 . 197 0 . 285 0 . 105 0 . 101 0 . 286 0 . 171 0 . 291 0 . 187 0 . 102 0 . 089 S . D . 0 . 066 0 . 060 0 . 051 0 . 037 0 . 064 0 . 065 0 . 074 0 . 054 0 . 043 0 . 041 C . P . 0 . 97 0 . 95 0 . 95 0 . 96 0 . 93 0 . 96 0 . 95 0 . 95 0 . 98 0 . 93 ρ i 3 True 0 . 1 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 Mean 0 . 125 0 . 163 0 . 274 0 . 185 0 . 106 0 . 103 0 . 182 0 . 295 0 . 199 0 . 281 S . D . 0 . 053 0 . 067 0 . 058 0 . 056 0 . 041 0 . 047 0 . 069 0 . 060 0 . 063 0 . 052 C . P . 0 . 95 0 . 97 0 . 96 0 . 95 0 . 95 0 . 93 0 . 95 0 . 94 0 . 95 0 . 94 ρ i 4 True 0 0 0 0 0 0 0 0 0 0 Mean 0 . 013 − 0 . 008 0 . 006 0 . 010 − 0 . 016 − 0 . 013 0 . 005 0 . 009 0 . 018 − 0 . 023 S . D . 0 . 026 0 . 027 0 . 020 0 . 022 0 . 031 0 . 020 0 . 016 0 . 019 0 . 018 0 . 043 C . P . 0 . 96 0 . 96 0 . 97 0 . 96 0 . 94 0 . 95 0 . 94 0 . 97 0 . 95 0 . 96 22 F IG 8 . Graphical illustration of a example social network generated under the stochastic block model . nomial distribution where z jj ′ = z j ′ j =   No connect , with probability 0 . 92 + 0 . 02 I [ g j + g j ′ ∈ { 4 , 5 , 6 } ] , Type 1 , with probability 0 . 01 + 0 . 04 I [ g j = g j ′ ] , Type 2 , with probability 0 . 01 + 0 . 04 I [ g j + g j ′ ∈ { 3 , 7 } ] , Type 3 , with probability 0 . 02 + 0 . 02 I [ g j + g j ′ ∈ { 4 , 5 , 6 } ] × I [ g j ̸ = g j ′ ] , and finally the basic weight matrices are computed as Equation ( 8 ) . An example network generated under the stochastic block model is visualized as Figure 8 . By generating 100 datasets with n = 500 under the above two mechanisms of social net - work data and the same generating mechanism of ranking data in Section 4 . 2 , we fit the SOS model for parameter estimation . The average of 100 posterior means for each parameter , the corresponding standard deviation ( S . D . ) and the coverage probability of the corresponding 95 % credible interval ( C . P . ) are summarized in Figure 9 and Table 11 . The results are close to results in Section 4 . 2 , suggesting that our method is robust to different social network structures . APPENDIX E : PREDICTION ON INCOMPLETE RANKINGS Top - q rankings , subset rankings and rankings with ties are three common types of incomplete rankings ( denoted by vectors π ∗ j = ( π ∗ 1 j , . . . , π ∗ kj ) ′ ) . For a top - q ranking , the rank of item i ( π ∗ ij ) is explicitly given if it is one of the first q preferred items assigned by judge j and is given as q + 1 otherwise . For a subset ranking , the judge ranks a subset of items only while his / her ranking of the set of remaining items is unknown . As a result , the ranked items are assigned to their corresponding ranks in the subset and the unranked items are assigned with SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 23 F IG 9 . Parameter estimates of β in the SOS model under different network data generating mechanisms . T ABLE 11 Parameter estimates of ρ i 1 , . . . , ρ im ( i = 1 , . . . , 10 ) of the model under different network data generating mechanisms . m i 1 2 3 4 5 6 7 8 9 10 ( a ) ρ i 1 True 0 . 3 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 Mean 0 . 298 0 . 104 0 . 19 0 . 3 0 . 189 0 . 291 0 . 099 0 . 098 0 . 298 0 . 188 S . D . 0 . 054 0 . 040 0 . 050 0 . 049 0 . 054 0 . 062 0 . 042 0 . 038 0 . 048 0 . 046 C . P . 0 . 95 0 . 95 0 . 95 0 . 96 0 . 95 0 . 95 0 . 92 0 . 96 0 . 96 0 . 93 ρ i 2 True 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 Mean 0 . 194 0 . 298 0 . 100 0 . 102 0 . 283 0 . 187 0 . 300 0 . 201 0 . 105 0 . 114 S . D . 0 . 049 0 . 045 0 . 035 0 . 041 0 . 047 0 . 053 0 . 049 0 . 047 0 . 044 0 . 044 C . P . 0 . 95 0 . 96 0 . 94 0 . 94 0 . 94 0 . 95 0 . 95 0 . 96 0 . 96 0 . 95 ρ i 3 True 0 . 1 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 Mean 0 . 104 0 . 190 0 . 297 0 . 200 0 . 107 0 . 108 0 . 201 0 . 289 0 . 194 0 . 293 S . D . 0 . 039 0 . 045 0 . 053 0 . 050 0 . 044 0 . 040 0 . 047 0 . 045 0 . 053 0 . 050 C . P . 0 . 95 0 . 95 0 . 93 0 . 94 0 . 97 0 . 96 0 . 93 0 . 96 0 . 95 0 . 97 ( b ) ρ i 1 True 0 . 3 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 Mean 0 . 303 0 . 097 0 . 196 0 . 296 0 . 199 0 . 287 0 . 101 0 . 100 0 . 302 0 . 191 S . D . 0 . 038 0 . 036 0 . 038 0 . 041 0 . 045 0 . 049 0 . 039 0 . 037 0 . 039 0 . 038 C . P . 0 . 94 0 . 96 0 . 95 0 . 93 0 . 95 0 . 97 0 . 95 0 . 94 0 . 96 0 . 94 ρ i 2 True 0 . 2 0 . 3 0 . 1 0 . 1 0 . 3 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 Mean 0 . 197 0 . 296 0 . 097 0 . 102 0 . 295 0 . 191 0 . 297 0 . 195 0 . 098 0 . 098 S . D . 0 . 045 0 . 040 0 . 034 0 . 039 0 . 042 0 . 047 0 . 036 0 . 047 0 . 036 0 . 039 C . P . 0 . 93 0 . 94 0 . 95 0 . 96 0 . 93 0 . 96 0 . 96 0 . 94 0 . 96 0 . 93 ρ i 3 True 0 . 1 0 . 2 0 . 3 0 . 2 0 . 1 0 . 1 0 . 2 0 . 3 0 . 2 0 . 3 Mean 0 . 111 0 . 192 0 . 289 0 . 190 0 . 102 0 . 107 0 . 191 0 . 298 0 . 193 0 . 291 S . D . 0 . 043 0 . 047 0 . 049 0 . 044 0 . 038 0 . 048 0 . 045 0 . 048 0 . 046 0 . 048 C . P . 0 . 92 0 . 93 0 . 96 0 . 96 0 . 93 0 . 97 0 . 95 0 . 94 0 . 94 0 . 95 24 ” − ” . For a ranking with ties , the judge divides items into groups in a way that his / her rank - order preference of the groups is known but the preference of the items within each group is unknown . One frequently observed subset rankings with ties are ratings . Notice that for all aforementioned types of incomplete ranking , it is still true that an item having a smaller rank should have a higher utility , i . e . , for i ̸ = i ′ , π ∗ ij > π ∗ i ′ j if and only if u ij < u i ′ j . The step of sampling u ij stated in the algorithms shown in Tables 3 and 5 can be slightly modified by using an appropriate truncated normal distribution . See Yu ( 2000 ) for this standard trick . After obtaining the posterior samples of the unobserved utilities { U ( t ) : t = 1 , . . . , T } based on the MCMC algorithms , we may tackle various rank prediction problems . For example , consider a general problem of predicting judge j ’s ranking , ξ ( I j ) , of items in the set I j ⊂ { 1 , . . . , k } . Here , ξ can be either complete ranking or incomplete ranking . We can rank the posterior samples { u ( t ) ij : i ∈ I j } ( t = 1 , . . . , T ) , resulting in a set of T rankings of the items in I j , denoted by ξ ( t ) ( I j ) , t = 1 , . . . , T . The Bayes predictor ˆ ξ ( I j ) can then be obtained by minimizing the posterior expected loss : ( 10 ) ˆ ξ ( I j ) = arg min ξ T (cid:88) t = 1 L (cid:0) ξ , ξ ( t ) ( I j ) (cid:1) , where L ( ξ , ˆ ξ ) is the loss function of making a prediction ˆ ξ for the ranking ξ ( I j ) . Squared error loss and L 1 loss are typical loss functions . We apply the SOS model to study the personalized movie recommendation problem with the goal of better prediction on the ratings of unrated movies for possible recommendation . Here we consider three popular movie rating datasets , including FilmTrust 1 dataset , Movie - Lens100K 2 dataset and Movielens1M 3 dataset . FilmTrust dataset is a small dataset crawled from the FilmTrust website , while MovieLens datasets ( MovieLens100K and MovieLens1M ) are published by the GroupLens research group at the University of Minnesota . Although a trust network is recorded in FilmTrust dataset , it is not fully connected with a lot of isolated users . As suggested by DuBois et al . ( 2009 ) , we select all the users in the largest network and removed those with a degree of one in the network , ending up with 368 users . Finally , we extracted and rounded up their ratings to the nearest integer on the 50 most rated movies to create a dataset named FT . By extracting all 425 users with at least 20 ratings on the 100 most frequently rated movies from the MovieLens100K dataset , we created the ML425 dataset . Similarly , we generated the ML1K and ML2K datasets from the original Movie - Lens1M dataset by keeping the 100 most frequently rated movies from the 1 , 000 and 2 , 000 most rated users respectively . Since these two MovieLens datasets do not provide the social networks of users , we create an artificial network based on users’ ratings on another 100 most frequently rated movies not used in our study . Table 12 shows the details of these four datasets . To evaluate the performance of our rank prediction method , we extracted the last few ratings given by each user to form the testing set and the remaining ones as the training set . The number of ratings extracted for each user are 2 , 4 , 6 and 6 for datasets FT , ML425 , Ml1K and ML2K respectively so that the size of each testing set is around 10 % - 12 % . For each training set , we fit our model ( 3 ) to the data and then run MCMC chains to make prediction of ratings in the testing set . Note that our MCMC algorithms can only generate posterior samples of the latent utilities { U ( t ) : t = 1 , . . . , T } and there are more than one tied ranking consistent to each posterior sample of latent utilities for each user . Here , we apply constrained 1 https : / / www . librec . net / datasets . html 2 https : / / grouplens . org / datasets / movielens / 3 https : / / grouplens . org / datasets / movielens / SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 25 T ABLE 12 Description of datasets under study Dataset FT ML425 ML1K ML2K Number of users 368 425 1 , 000 2 , 000 Number of movies 50 100 100 100 Number of ratings 6 , 100 18 , 031 61 , 501 96 , 721 Rating scale { 1 , . . . , 4 } { 1 , . . . , 5 } { 1 , . . . , 5 } { 1 , . . . , 5 } Network type Trust Similarity Similarity Similarity Features types N . A . Users & Movies Users & Movies Users & Movies N . A . : not available T ABLE 13 Testing performance of different predictors on movie ratings Dataset Run times ( in 1000 seconds ) Measure SOS - L 0 SOS - L 1 SOS - L 2 MLR CF - 5 CF - 10 MF FT 13 . 2 Accuracy 0 . 533 0 . 518 0 . 503 0 . 497 0 . 495 0 . 467 0 . 461 MAE 0 . 607 0 . 569 0 . 576 0 . 622 0 . 648 0 . 732 0 . 667 MSE 0 . 944 0 . 776 0 . 712 0 . 908 0 . 982 1 . 191 0 . 956 ML425 20 . 7 Accuracy 0 . 440 0 . 447 0 . 431 0 . 298 0 . 414 0 . 379 0 . 409 MAE 0 . 773 0 . 710 0 . 713 1 . 018 0 . 757 0 . 878 0 . 799 MSE 1 . 333 1 . 088 1 . 049 1 . 823 1 . 181 1 . 558 1 . 320 ML1K 36 . 7 Accuracy 0 . 464 0 . 478 0 . 470 0 . 395 0 . 438 0 . 434 0 . 438 MAE 0 . 726 0 . 655 0 . 670 0 . 809 0 . 688 0 . 703 0 . 717 MSE 1 . 216 1 . 029 0 . 945 1 . 304 0 . 982 1 . 025 1 . 098 ML2K 63 . 0 Accuracy 0 . 465 0 . 477 0 . 472 0 . 404 0 . 434 0 . 425 0 . 430 MAE 0 . 740 0 . 664 0 . 680 0 . 788 0 . 711 0 . 731 0 . 724 MSE 1 . 264 1 . 062 0 . 981 1 . 257 1 . 026 1 . 111 1 . 072 clustering to generate the ratings of unrated movies in each posterior sample and compute the Bayes predictor of ratings under loss L 0 , L 1 and L 2 defined as follows . ( 11 )   L 0 ( A , B ) = (cid:80) ki = 1 I ( a i ̸ = b i ) , L 1 ( A , B ) = (cid:80) ki = 1 | a i − b i | , L 2 ( A , B ) = (cid:80) ki = 1 ( a i − b i ) 2 , where A = { a 1 , . . . , a k } and B = { b 1 , . . . , b k } are two sets of ratings . We compare our rating prediction method with existing ones , including multinomial logit regression ( MLR ) , collaborative filtering based on 5 and 10 latent factors ( CF - 5 and CF - 10 ) introduced by Hu , Koren and Volinsky ( 2008 ) and matrix factorization ( MF ) proposed by Zhu , Shen and Ye ( 2016 ) . Table 13 gives the performances of these predictors on the testing set . It can be seen that our three predictors SOS - L 0 , SOS - L 1 and SOS - L 2 perform better in almost all cases no matter what performance measure is considered . Among them , SOS - L 1 ( posterior median ) performs the best in term of MAE and accuracy while SOS - L 2 ( posterior mean ) performs the best in term of MSE . In term of accuracy , SOS - L 1 is generally the best . To study the impact of social network effects on the performance of movie rating predic - tion based on our model over the existing ones , we use the ML425 dataset for illustration . We first split the 100 movies in the data into four groups ( [ 0 , 0 . 1 ] , ( 0 . 1 , 0 . 2 ] , ( 0 . 2 , 0 . 3 ] and > 0 . 3 ) according to their strengths of peer effect ( as measured by the absolute value of the autore - gressive parameter estimates | ˆ ρ i | ’s ) , and compare the MAE of the rating predictors for each of these four groups of movies as shown in Figure 10 . Note that the peer effects for movies 26 F IG 10 . MAE of various predictors for four groups of movies in the ML425 dataset in group 1 ( 0 ≤ | ˆ ρ i | ≤ 0 . 1 ) are the weakest while movies in group 4 ( | ˆ ρ i | > 0 . 3 ) possess the strongest peer effects . We can see that the MAEs of our predictors ( SOS - L 0 , SOS - L 1 and SOS - L 2 ) decrease as the peer effects increase , and they are much smaller than the MAEs of the existing models in group 4 , the one with the strongest peer effects . This suggests that our model can achieve much improved rating prediction for those movies watched by users with strong peer effects . Similar findings can be seen for ML1K and ML2K datasets . REFERENCES A LVO , M . and Y U , P . L . H . ( 2014 ) . Statistical Methods for Ranking Data . Springer New York . B IERNACKI , C . and J ACQUES , J . ( 2013 ) . A generative model for rank data based on insertion sort algorithm . Computational Statistics and Data Analysis 58 162 - 176 . B RADLEY , R . A . and T ERRY , M . E . ( 1952 ) . Rank analysis of incomplete block designs : I . The method of paired comparisons . Biometrika 39 324 – 345 . C ARON , F . , T EH , Y . W . and M URPHY , T . B . ( 2014 ) . Bayesian nonparametric Plackett - Luce models for the analysis of preferences for college degree programmes . The Annals of Applied Statistics 8 1145 – 1181 . D EBARSY , N . and L E S AGE , J . ( 2018 ) . Flexible dependence modeling using convex combinations of different types of connectivity structures . Regional Science and Urban Economics 69 48 – 68 . D ENG , K . , H AN , S . , L I , K . J . and L IU , J . S . ( 2014 ) . Bayesian Aggregation of Order - Based Rank Data . Journal of the American Statistical Association 109 1023 - 1039 . D IACONIS , P . ( 1989 ) . A generalization of spectral analysis with application to ranked data . Annals of Statistics 17 949 – 979 . D OIGNON , J . - P . , P EKEC , A . and R EGENWETTER , M . ( 2004 ) . The Repeated Insertion Model for Rankings : Missing Link between Two Subset Choice Models . Psychometrika 69 ( 1 ) 33 - 54 . SOCIAL ORDER STATISTICS MODELS FOR RANKING DATA 27 D U B OIS , T . , G OLBECK , J . , K LEINT , J . and S RINIVASAN , A . ( 2009 ) . Improving recommendation accuracy by clustering social networks with trust . In Recommender Systems & the Social Web 1 - 8 . F LIGNER , M . A . and V ERDUCCI , J . S . ( 1988 ) . Multi - stage ranking models . Journal of the American Statistical Association 83 892 – 901 . G ELMAN , A . , R OBERTS , G . O . and G ILKS , W . R . ( 1996 ) . Efficient Metropolis jumping rules . Bayesian Statistics 5 599 – 607 . G EWEKE , J . ( 1992 ) . Evaluating the Accuracy of Sampling - Based Approaches to the Calculation of Posterior Moments . In Bayesian Statistics ( J . M . B ERNARDO , J . O . B ERGER , A . P . D AWID and A . F . M . S MITH , eds . ) 4 169 – 193 . Clarendon Press , Oxford . G ORMLEY , I . C . and M URPHY , T . B . ( 2008 ) . A mixture of experts model for rank data with applications in election studies . The Annals of Applied Statistics 2 1452 – 1477 . G ORMLEY , I . C . and M URPHY , T . B . ( 2009 ) . A grade of membership model for rank data . Bayesian Analysis 4 265 – 295 . G ORMLEY , I . C . and M URPHY , T . B . ( 2010 ) . Clustering Ranked Preference Data Using Sociodemographic Covariates . In Choice Modelling : The State - of - the - art and The State - of - practice 543 – 569 . Emerald Group Publishing Limited . H AARIO , H . , S AKSMAN , E . and T AMMINEN , J . ( 2001 ) . An Adaptive Metropolis Algorithm . Bernoulli 7 223 – 242 . H ALL , P . and M ILLER , H . ( 2010 ) . Modeling the variability of rankings . The Annals of Statistics 38 2652 - 2677 . H AUSMAN , J . and R UUD , P . A . ( 1987 ) . Specifying and testing econometric models for rank - ordered data . Journal of Econometrics 34 83 – 104 . H OLLOWAY , G . , S HANKAR , B . and R AHMANB , S . ( 2002 ) . Bayesian spatial probit estimation : a primer and an application to HYV rice adoption . Agricultural Economics 27 383 – 402 . H U , Y . , K OREN , Y . and V OLINSKY , C . ( 2008 ) . Collaborative Filtering for Implicit Feedback Datasets . In 2008 Eighth IEEE International Conference on Data Mining . IEEE . H UANG , T . - K . , W ENG , R . C . and L IN , C . - J . ( 2006 ) . Generalized Bradley - Terry Models and Multi - Class Prob - ability Estimates . Journal of Machine Learning Research 7 85 – 115 . J ACOBS , R . A . , J ORDAN , M . I . , N OWLAN , S . J . and H INTON , G . E . ( 1991 ) . Adaptive Mixtures of Local Experts . Neural Computation 3 79 – 87 . J ORDAN , M . I . and J ACOBS , R . A . ( 1994 ) . Hierarchical Mixtures of Experts and the EM Algorithm . Neural Computation 6 181 – 214 . L EE , P . H . and Y U , P . L . H . ( 2012 ) . Mixtures of weighted distance - based models for ranking data with applica - tions in political studies . Computational Statistics & Data Analysis 56 2486 – 2500 . L E S AGE , J . P . ( 2008 ) . An Introduction to Spatial Econometrics . Revue d’économie industrielle 123 19 – 44 . L E S AGE , J . and P ACE , R . K . ( 2009 ) . Introduction to Spatial Econometrics . Statistics : A Series of Textbooks and Monographs . CRC Press . L IU , J . S . , W ONG , W . H . and K ONG , A . ( 1994 ) . Covariance structure of the Gibbs sampler with applications to the comparisons of estimators and augmentation schemes . Biometrika 81 27 – 40 . L UCE , R . D . ( 1959 ) . Individual Choice Behavior . New York : Wiley . M ALLOWS , C . L . ( 1957 ) . Non - null ranking models . I . Biometrika 44 114 – 130 . M ARDEN , J . I . ( 1996 ) . Analyzing and Modeling Rank Data . CRC Press . M EIL ˘A , M . and B AO , L . ( 2008 ) . Estimation and Clustering with Infinite Rankings . 393 – 402 . M EIL ˘A , M . and B AO , L . ( 2010 ) . An Exponential Model for Infinite Rankings . J . Mach . Learn . Res . 11 3481 – 3518 . M ITCHELL , T . J . and B EAUCHAMP , J . J . ( 1988 ) . Bayesian Variable Selection in Linear Regression . Journal of the American Statistical Association 83 1023 – 1032 . N EISWANGER , W . , W ANG , C . and X ING , E . P . ( 2014 ) . Asymptotically Exact , Embarrassingly Parallel MCMC . In Proceedings of the Thirtieth Conference on Uncertainty in Artificial Intelligence . UAI’14 623 – 632 . AUAI Press , Arlington , Virginia , United States . N EWMAN , M . E . J . ( 2006 ) . Modularity and community structure in networks . Proceedings of the National Academy of Sciences 103 8577 – 8582 . N G , A . , J ORDAN , M . and W EISS , Y . ( 2002 ) . On Spectral Clustering : Analysis and an algorithm . In Advances in Neural Information Processing Systems ( T . D IETTERICH , S . B ECKER and Z . G HAHRAMANI , eds . ) 14 . MIT Press . P AKMAN , A . and P ANINSKI , L . ( 2014 ) . Exact Hamiltonian Monte Carlo for Truncated Multivariate Gaussians . Journal of Computational and Graphical Statistics 23 518 – 542 . P LACKETT , R . L . ( 1975 ) . The analysis of permutations . Applied Statistics 24 193 – 202 . R AJU , E . , H AMEED , M . A . and S RAVANTHI , K . ( 2015 ) . Detecting communities in social networks using unnor - malized spectral clustering incorporated with Bisecting K - means . In 2015 IEEE International Conference on Electrical , Computer and Communication Technologies ( ICECCT ) . IEEE . 28 R ITTER , C . and T ANNER , M . A . ( 1992 ) . Facilitating the Gibbs Sampler : The Gibbs stopper and the griddy - Gibbs sampler . Journal of the American Statistical Association 87 861 – 868 . S HI , J . and M ALIK , J . ( 2000 ) . Normalized cuts and image segmentation . IEEE Transactions on Pattern Analysis and Machine Intelligence 22 888 – 905 . S NIJDERS , T . A . B . and N OWICKI , K . ( 1997 ) . Estimation and Prediction for Stochastic Blockmodels for Graphs with Latent Block Structure . Journal of Classification 14 75 – 100 . S PIELMAN , D . A . and T ENG , S . - H . ( 2007 ) . Spectral partitioning works : Planar graphs and finite element meshes . Linear Algebra and its Applications 421 284 – 305 . T ERENIN , A . , S IMPSON , D . and D RAPER , D . ( 2020 ) . Asynchronous Gibbs Sampling . ( S . C HIAPPA and R . C A - LANDRA , eds . ) . Proceedings of Machine Learning Research 108 144 – 154 . PMLR , Online . T HURSTONE , L . L . ( 1927 ) . A law of comparative judgment . Psychological Review 34 273 . V ITELLI , V . , S ORENSEN , O . , C RISPINO , M . , F RIGESSI , A . and A RJAS , E . ( 2018 ) . Probabilistic Preference Learning with the Mallows Rank model . Journal of Machine Learning Research 18 1 - 49 . W ANG , H . , I GLESIAS , E . M . and W OOLDRIDGE , J . M . ( 2013 ) . Partial maximum likelihood estimation of spatial probit models . Journal of Econometrics 172 77 – 89 . W ANG , Y . S . , M ATSUEDA , R . L . and E ROSHEVA , E . A . ( 2017 ) . A variational EM method for mixed membership models with multivariate rank data : An analysis of public policy preferences . The Annals of Applied Statistics 11 1452 – 1480 . W HITE , S . and S MYTH , P . ( 2005 ) . A Spectral Clustering Approach To Finding Communities in Graphs . In Proceedings of the 2005 SIAM International Conference on Data Mining . Society for Industrial and Applied Mathematics . X U , Y . , Z HUANG , Z . , L I , W . and Z HOU , X . ( 2018 ) . Effective community division based on improved spectral clustering . Neurocomputing 279 54 – 62 . Y U , P . L . H . ( 2000 ) . Bayesian analysis of order - statistics models for ranking data . Psychometrika 65 281 – 299 . Y U , P . L . H . , G U , J . and X U , H . ( 2019 ) . Analysis of ranking data . Wiley Interdisciplinary Reviews : Computa - tional Statistics 11 e1483 . Y U , P . L . H . , L AM , K . F . and L O , S . M . ( 2005 ) . Factor analysis for ranked data with application to a job selection attitude survey . Journal of the Royal Statistical Society Series A 168 ( 3 ) 583 - 597 . Y U , P . L . H . and X U , H . ( 2019 ) . Rank Aggregation using Latent - Scale Distance - based Models . Statistics and Computing 29 335 - 349 . Z HU , Y . , S HEN , X . and Y E , C . ( 2016 ) . Personalized Prediction and Sparsity Pursuit in Latent Factor Models . Journal of the American Statistical Association 111 241 – 252 .