Discovering the evolutionary patterns in local topology of an e - mail social network Krzysztof Juszczyszyn , Wojciech Frys Institute of computer Science Wrocław University of Technology krzysztof . juszczyszyn @ pwr . wroc . pl , wojciech . frys @ pwr . wroc . pl Abstract — We present a new approach to the quantifying changes in an email social network illustrated by the data from the Enron dataset ) . The Triad Transition Matrix containing the probabilities of transitions between triads is defined , then we show how it can help to discover the dynamic patterns of network evolution . The compatibility of the TTM approach with the existing methods of characterizing the local topology ( network motifs ) is discussed as well . 1 . I NTRODUCTION When investigating the topological properties and structure of complex networks we must face a number of complexity – related problems . In large social networks , tasks like evaluating the centrality measurements , finding cliques , etc . require significant computing overhead . However , the technology - based social networks add a new dimension to the known problems of network analysis [ 11 ] . This family of networks ( web communities , email social networks , user networks and so on ) have two properties which have a significant impact on the analysis . First , the existence of link is a result of a series of discrete events ( like emails , phone calls , blog entries ) which have some distribution in time . As shown in [ 9 ] for various kind of human activities related to communication and information technologies the probability of interevent times ( periods between the events , like sending an email ) may be expressed as : P ( t ) ≈t - α where typical values of α are from ( 1 . 5 , 2 . 5 ) . This distribution inevitably results with series of consecutive events ( “activity bursts” ) divided by longer periods of inactivity . This phenomena have serious consequences when we try to apply the classic structural network analysis ( SNA ) to the dynamic networks . The bursty behavior of the users ( long inactivity periods mixed with the bursts ) causes rapid changes of any measure when we change the time windows . There is a trade - off : short windows lead to chaotic changes of network measures , long windows give litttle chance of the investigation of network dynamics [ 13 ] [ 14 ] . In order to tame the problem , a number of methods which designed to predict the changes in the structure of dynamic networks were proposed [ 12 ] [ 15 ] [ 16 ] . In this work we propose a method of characterizing the dynamic evolutionary patterns of the network by the analysis of the changes in local topology of connections . This approach stems from our previous experience and will be introduced in sec . 2 . Sec 3 presents the results on the basis of the Enron e - mail network . 2 . L OCAL TOPOLOGY OF ONLINE SOCIAL NETWORKS Standard approaches exploiting network analysis by means of listing several common properties , like the degree distribution , clustering , network diameter , average path lengths often fail when applied to complex networks . In many cases it is possible to construct networks with exactly the same ( for example ) degree distribution whose structure and function differ substantially [ 1 ] . During last years we experienced the development of a number of methods investigating complex networks by means of their local structure and frequent patterns of connections between nodes ) . The simplest , and therefore popular , is to check the links between the smallest non - trivial subgraphs , the triads , consisting of three nodes ( Fig . 1 ) . Fig . 1 . All three - node triads in a directed graph [ 19 ] . 2011 IEEE / WIC / ACM International Conferences on Web Intelligence and Intelligent Agent Technology 978 - 0 - 7695 - 4513 - 4 / 11 $ 26 . 00 © 2011 IEEE DOI 10 . 1109 / WI - IAT . 2011 . 21 102 2011 IEEE / WIC / ACM International Conferences on Web Intelligence and Intelligent Agent Technology 978 - 0 - 7695 - 4513 - 4 / 11 $ 26 . 00 © 2011 IEEE DOI 10 . 1109 / WI - IAT . 2011 . 21 102 As we see on the Fig . 1 even in this case there are sixteen different connection patterns ( and even more if we decide to distinguish between the nodes ) . On the Fig . 1 note the triad ID ( first number under the picture of the subgraph ) it will be used further on in this paper . The basic method utilizing such subgraphs is well - knows triad census , which is enumeration of all triads in the network [ 18 ] . Last years have seen the development of more sophisticated approaches , among them motif analysis which aims to characterize the network by the difference between its structures and an ensemble of random networks of the same size and degree distribution . A biased distribution of local network structures ( subgraphs ) , a . k . a . network motifs is widely observed in complex biological or technology – based networks . Motif analysis stems from bioinformatics and theoretical biology [ 1 ] [ 3 ] , where it was applied to the investigation of huge network structures like transcriptional regulatory networks , gene networks or food webs [ 4 ] [ 5 ] . So far several interesting properties of large biological network structures were reinterpreted or discovered with help of motif analysis [ 6 ] [ 7 ] [ 8 ] . Motif analysis offers low computational overhead and opportunity to gain an insight into the local structure of huge networks which otherwise would require prohibitive computations to investigate . Moreover , the discovered motifs and their numbers enable to assess which patterns of communication appear often in the large social networks and which are rather rare . Fig . 2 . TSP changes in the WUT social network during the 20 – month period [ 17 ] . Contains only the Z - scores for fully connected triads ( no . 4 - 16 from Fig . 1 ) In our former research we have investigated the local structure of numerous technology - based networks , among them an e - mail social network of Wroclaw University of Technology ( WUT ) , consisting of more than 5 . 800 nodes and 140 . 000 links [ 2 ] [ 17 ] . Our aim was to check if the known properties of local topology in social networks ( known on the basis of motif analysis conducted for small social networks [ 4 ] ) are also present in large email – based social structures and if there are some distinct features characteristic to the email communication . In our experiments , we checked the network for the presence of the smallest possible motifs : the three – node directed and connected subgraphs . The most important conclusion from these experiments was that the general motif profile of the network ( expressed by so - called triad significance profile – TSP – a vector of the Z - score measures of the motifs ) is stable over long periods of time ( Fig . 2 . - our analysis covered 20 months ) . This was confirmed even for periods like summer holidays when the number of links in the university network dropped by 50 % [ 17 ] . Summing up – the investigated complex network shows statistically stable pattern of connections as a whole , despite the fact that stability of a single link is not impressive : 59 % in our case ( which means that 41 % of the connections will not be present in the next time window . These observations led to the idea of characterizing the evolutionary patterns of the network by means of the changes in elementary subgraphs . The next section introduces a Triad Transition Matrix ( TTM ) as a basic structure used in our experiments . The idea behind the Triad Transition Matrix is to use the data about the history of the network ( recorded during past time windows ) to compute the probabilities of transitions between triads ( patterns of local connections ) . The TTM is a matrix of the size g (cid:2) x g (cid:2) , where g (cid:2) is the numer of considered subgraphs . For directed triads g (cid:2) = 16 ( see Fig . 1 ) . The values of TTM entries are defined by : TTM t ( i , j ) = P ( g i [ t - 1 , t ] (cid:2) g j [ t , t + 1 ] ) . TTM t ( i , j ) is the probability ( estimated on the basis of full subgraph enumeration for networks created from data gathered in [ t - 1 , t ] and [ t , t + 1 ] time windows ) , that a connection pattern g i detected during [ t - 1 , t ] will transit into g j during [ t , t + 1 ] . 3 . E XPERIMENTS ON THE E NRON EMAIL NETWORK For the experiments with the TTM we have chosen the Enron dataset ( http : / / www . cs . cmu . edu / ~ enron / ) , one of the popular reference e - mail logs . First , the data cleansing process was executed . The bad and external email addresses was removed from the analysis and the duplicated ones were unified . The time period of our experiment was divided into 12 time windows and for each of them a network was created . The main nodeset in our experiment consists of 151 nodes and up to 1012 links in a single time window . 103 103 Fig . 3 . E - mail network generated for time window no . 9 . Fig . 3 shows and example of the network derived from email communication for time window no . 9 . T ABLE 1 . N ETWORK SIZE FOR CONSECUTIVE TIME WINDOWS Time : 1 2 3 4 5 6 7 8 9 10 11 12 Edges : 189 207 281 312 334 398 430 462 626 1012 921 480 From the Table . 1 we see that – despite the equal number of nodes in each window – the number of edges differs . It is obvious that in terms of the number of links , node centrality , etc . the network structure is changing . However , there is some pattern behind this change . On the Fig . 4 the TTM for transition from time window 7 to time window 8 is presented . The distribution of transition probabilities is not flat , and there are some distinctive patterns ( the coordinates correspond to the triad numbers from the fig . 1 ) . Fig . 4 . TTM for time windows . 7 - 8 . First of all , the value of TTM ( 0 , 0 ) reflects the fact that the network is sparse ( link density below 1 % ) which means that most of the possible triads contain no edges . Fig 5 . Shows the same phenomena for transition between windows 10 and 11 . The general configuration of the matrix remains almost the same , but the network is significantly bigger in this case ( the number of links is doubled , see Table 1 ) . Due to the sparsity of the network , we should be also aware , that the actual number of triad occurences is not equal ( Table 2 ) . From the other hand , it is clear that triads with higher numbers ( showing bigger connection density ) consist of links which are more stable . Fig . 5 . TTM for time windows . 10 - 11 . T ABLE 2 . T HE AVERAGE TRIAD OCCURRENCE IN TIME WINDOWS Triad : 1 2 3 4 5 6 7 8 Occur . : 259017 32291 16940 1286 284 464 437 900 Triad : 9 10 11 12 13 14 15 16 Occur . : 139 4 358 82 98 41 159 92 On the basis of eleven TTMs , we were able to compute the mean values of the TTM , presented on the Fig . 6 . The averaged TTM may be interpreted as generalized evolutionary pattern of the network . Fig . 6 . Mean values of TTM entries , on the basis of twelve time windows . On the Fig . 6 several important regions of the TTM are outlined . Note that ( Fig . 1 ) first three columns correspond to the transitions which form triads 1 - 3 : loosely connected , with maximum two nodes linked . Triads 1 - 8 are triads with two ( uni - or bi - directional ) links . The transition probabilities grouped in region A tell us that triads 1 - 8 are likely to evolve into triads 1 - 3 , so their link stability is low ( they tend to “blink” in the consecutive time windows ) . From the other hand , triads 9 - 16 are not likely to disappear in this way ( region B ) , however their evolutionary patterns do not A B C 104 104 suggest the prevalence of some distinctive triad ( or triads ) they evolve into . The region C tells us that densely connected triads , especially no . 16 ( the full subgraph ) and no . 15 , are stable configurations . Fig . 7 . Standard deviation of TTM entries , on the basis of twelve time windows . Fig . 7 shows the standard deviation of the matrix entries . Note the row 10 , corresponding to the 10 th triad from Fig . 1 . This is a special case , a triad with a cycle of unidirectional links . From the Table 2 we see that it is extremely rare ; the social networks hardly show this pattern of connectivity . Our approach allows to build simple evolutionary patterns of complex networks , which may form a basis for link and structure ( group stability , network connectivity ) prediction . 4 . C ONCLUSIONS AND FUTURE WORK The concept of TTM will be further developed in the following directions : (cid:3) The application of TTM to the link prediction problem . (cid:3) Integration of link weights ( which correspond to the communication intensity ) in order to exploit their stability in predicting network structure evolution . (cid:3) Developing heuristics for choosing the best subset of possible subgraphs ; in our case we have considered all 16 triads . (cid:3) Reducing the complexity of the method by using effective algorithms for triad enumeration , for example applying the approach presented in [ 19 ] . (cid:3) The adoption of network sampling algorithms used in motif discovery for the speedup of TTM building . In parallel to the above research tasks the behavior of the TTMs will be checked for a number of test social networks created from the data gathered in various information systems in order to check for their distinctive features and tune the method . A CKNOWLEDGMENT This work was supported by the Polish Ministry of Science and Higher Education , grant no . N N516 518339 . R EFERENCES [ 1 ] Itzkovitz S . , Milo R . , Kashtan N . , Ziv G . , Alon U . ( 2003 ) Subgraphs in random networks . Physical Review E . , 68 , 026127 . [ 2 ] Juszczyszyn K . , Musiał K . , Kazienko P . ( 2008 ) , Local Topology of Social Network Based on Motif Analysis , KES 2008 , Croatia , Springer LNAI . [ 3 ] Kashtan N . , S . Itzkovitz S . , Milo R . , Alon U . ( 2004 ) Efficient sampling algorithm for estimating subgraph concentrations and detecting network motifs . Bioinformatics , 20 ( 11 ) , 1746 – 1758 . [ 4 ] Milo R . , Shen - Orr S . , Itzkovitz S . , Kashtan N . , Chklovskii D . , Alon U . ( 2002 ) Network motifs : simple building blocks of complex networks . Science , 298 , 824 – 827 . [ 5 ] Mangan S . Alon U . ( 2003 ) Structure and function of the feedforward loop network motif . Proc . of the National Academy of Science , USA , 100 ( 21 ) , 11980 – 11985 . [ 6 ] Mangan S . , Zaslaver A . Alon U . ( 2003 ) The coherent feedforward loop serves as a sign - sensitive delay element in transcription networks . J . Molecular Biology , 334 , 197 – 204 . [ 7 ] Vazquez , A . , Dobrin , R . , Sergi , D . , Eckmann , J . - P . , Oltvai , Z . N . , Barabasi , A . , 2004 . The topological relationship between the large - scale attributes and local interaction patterns of complex networks . Proc . Natl Acad . Sci . USA 101 , 17 940 . [ 8 ] Young - Ho E . , Soojin L . , Hawoong J . , ( 2006 ) Exploring local structural organization of metabolic networks using subgraph patterns , Journal of Theoretical Biology 241 , 823 – 829 . [ 9 ] A . - L . Barabási , The origin of bursts and heavy tails in humans dynamics , Nature 435 , 207 ( 2005 ) . [ 10 ] T . Gross , H . Sayama ( Eds . ) : Adaptive networks : Theory , models and applications , Springer : Complexity , Springer - Verlag , Berlin - Heidelberg , 2009 . [ 11 ] J . Kleinberg , J . The convergence of social and technological networks . Communic . of the ACM Vol . 51 , No . 11 , 66 - 72 , 2008 . [ 12 ] D . Lieben - Nowell , J . M . Kleinberg : The link - prediction problem for social networks . JASIST ( JASIS ) 58 ( 7 ) , pp . 1019 - 1031 , 2007 . [ 13 ] D . Braha , Y . Bar - Yam , From Centrality to Temporary Fame : Dynamic Centrality in Complex Networks , Complexity , Vol . 12 ( 2 ) , pp . 59 - 63 , 2006 . [ 14 ] D . Kempe , J . Kleinberg , A . Kumar , Connectivity and inference problems for temporal networks . Journal of Computational System Science , 64 ( 4 ) : 820 – 842 , 2002 . [ 15 ] M . Lahiri , Tanya Y . Berger - Wolf : Mining Periodic Behavior in Dynamic Social Networks . ICDM pp . 373 - 382 , 2008 . [ 16 ] Lisa Singh , Lise Getoor : Increasing the Predictive Power of Affiliation Networks . IEEE Data Eng . Bull . ( DEBU ) Vol . 30 No . 2 , pp . 41 - 50 , 2007 . [ 17 ] K . Juszczyszyn , K . Musial , P . Kazienko , B . Gabrys : Temporal Changes in Local Topology of an Email - Based Social Network . Computing and Informatics 28 ( 6 ) : 763 - 779 ( 2009 ) . [ 18 ] S . Wasserman , K . Faust , Social network analysis : Methods and applications , Cambridge University Press , New York , 1994 . [ 19 ] Batagelj , V . , Mrvar , A . , A subquadratic triad census algorithm for large sparse networks with small maximum degree . Social Netw . 23 , 237 - 243 , 2001 . 105 105