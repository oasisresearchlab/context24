Scale - Free Networks from Optimal Design Sergi Valverde Ramon Ferrer Cancho Ricard V . Solé SFI WORKING PAPER : 2002 - 04 - 019 SFI Working Papers contain accounts of scientific work of the author ( s ) and do not necessarily represent the views of the Santa Fe Institute . We accept papers intended for publication in peer - reviewed journals or proceedings volumes , but not papers that have already appeared in print . Except for papers by our external faculty , papers must be based on work done at SFI , inspired by an invited visit to or collaboration at SFI , or funded by an SFI grant . ©NOTICE : This working paper is included by permission of the contributing author ( s ) as a means to ensure timely distribution of the scholarly and technical work on a non - commercial basis . Copyright and all rights therein are maintained by the author ( s ) . It is understood that all persons copying this information will adhere to the terms and constraints invoked by each author ' s copyright . These works may be reposted only with the explicit permission of the copyright holder . www . santafe . edu SANTA FE INSTITUTE Europhysics Letters PREPRINT Scale - free Networks from Optimal Design S . Valverde 1 , R . Ferrer Cancho 1 and R . V . Sol¶e 1 ; 2 1 ICREA - Complex Systems Lab , IMIM - UPF , Dr Aiguader 80 , Barcelona 08003 , SPAIN 2 Santa Fe Institute , 1399 Hyde Park Road , New Mexico 87501 , USA . PACS . 05 . 10 . - a { Computational methods in statistical physics . PACS . 05 . 65 . + b { Self - organizing systems . Abstract . { A large number of complex networks , both natural and artiﬂcial , share the presence of highly heterogeneous , scale - free degree distributions . A few mechanisms for the emergence of such patterns have been suggested , optimization not being one of them . In this letter we present the ﬂrst evidence for the emergence of scaling ( and the presence of small world behavior ) in software architecture graphs from a well - deﬂned local optimization process . Although the rules that deﬂne the strategies involved in software engineering should lead to a tree - like structure , the ﬂnal net is scale - free , perhaps re(cid:176)ecting the presence of con(cid:176)icting constraints unavoidable in a multidimensional optimization process . The consequences for other complex networks are outlined . Two basic features common to many complex networks , from the Internet to metabolic nets , are their scale - free ( SF ) topology [ 1 ] and a small - world ( SW ) structure [ 2 , 3 ] . The ﬂrst states that the proportion of nodes P ( k ) having k links decays as a power law P ( k ) » k ¡ (cid:176) ` ( k = » ) ( with (cid:176) … 2 ¡ 3 ) [ 1 , 4 , 5 ] ( here ` ( k = » ) introduces a cut - oﬁ at some characteristic scale » ) . Examples of SF nets include Internet topology [ 4 , 6 ] , cellular networks [ 7 , 8 ] , scientiﬂc collaborations [ 9 ] and [ 10 ] lexical networks . The second refers to a web exhibiting very small average path lengths between nodes along with a large clustering [ 2 , 3 ] . Although it has been suggested that these nets originate from preferential attachment [ 4 ] , the success of theoretical approximations to branching nets from optimization theory [ 11 , 12 ] would support optimality as an alternative scenario . In this context , it has been shown that minimization of both vertex - vertex distance and link length ( i . e . Euclidean distance between vertices ) [ 13 ] can lead to the SW phenomenon . In a similar context , SF networks have been shown to originate from a simultaneous minimization of link density and path distance [ 14 ] . Optimal wiring has also been proposed within the context of neural maps [ 15 ] : ’save wiring’ is an organizing principle of brain structure . However , although the analysis of functional connectivity in the cerebral cortex has shown evidence for SW [ 16 ] , the degree distribution is clearly non - skewed but single - scaled ( i . e . » is very small ) . The origin of highly heterogeneous nets is particularly important since it has been shown that these networks are extremely resilient under random failure : removal of randomly chosen nodes ( tipically displaying low degree ) seldom alters the ﬂtness of the net [ 17 ] . However , when nodes are removed by sequentially eliminating those with higher degree , the system rapidly experiences network fragmentation [ 17 , 18 ] . c (cid:176) EDP Sciences 2 EUROPHYSICS LETTERS 10 - 0 10 1 10 2 k 10 - 0 10 1 10 2 10 3 10 4 C u m u l a ti v e fr e qu e n c y - 1 . 65 - 1 . 50 b a Fig . 1 { ( a ) One of the largest components of the java net ( › 2 , displays scale - free and small world behavior ( see text ) . In ( b ) the cumulative frequencies P > ( k ) are shown for the two largest components . We have P > ( k ) » k ¡ (cid:176) + 1 , with (cid:176) 1 = 1 : 5 § 0 : 05 and (cid:176) 2 = 1 : 65 § 0 : 08 . Artiﬂcial networks oﬁer an invaluable reference when dealing with the rules that underlie their building process [ 19 ] . Here we show that a very important class of networks derived from software architecture maps , displays the previous patterns as a result of a design optimization process . The importance of software and understanding how to build e – ciently software systems is one of our major concerns . Software is present in the core of scientiﬂc research , economic markets , military equipments and health care systems , to name a few . Expensive costs ( thou - sands of millions of dollars ) are associated with the software development process . In the past 30 years we have assisted to the birth and technological evolution of software engineering , whose objective is to provide methodologies and tools to control and build software e – ciently . Software engineers conceive programs with graphs as architects use plans for buildings . The software architecture is the structure of the program . The building blocks are software com - ponents and links are relationships between software components . The interactions between all the components yields the program functionality . Class diagrams constitute a well - known example of such graphs [ 20 ] . In this case , software components are also known by the technical term class . We have analysed the class diagram of the public Java Development Framework 1 . 2 ( JDK1 . 2 ) [ 21 ] , which is a large set of software components widely used by Java applications , as well as the architecture of a large computer game [ 22 ] . These are examples of highly optimized structures , where design principles call for diagram comprehensibility , grouping components into modules , (cid:176)exibility and reusability ( i . e . avoiding the same task to be performed by diﬁerent components ) [ 23 ] . Although the entire plan is controlled by engineers , no design principle explicitely introduces preferential attachment nor scaling and small - worldness . The resulting graphs , however , turn out to be SW and SF nets . The software graph is deﬂned by a pair › s = ( W s ; E s ) , where W s = f s i g ; ( i = 1 ; : : : ; N ) is the set of N = j › j classes and E s = ff s i ; s j gg is the set of edges / connections between classes . The adjacency matrix » ij indicates that an interaction exists between classes s i ; s j 2 › s S . Valverde , R . Ferrer Cancho and R . V . Sol¶e : Scale - free Networks from Optimal Design 3 ( » ij = 1 ) or that the interaction is absent ( » ij = 0 ) . The average path lenght l is given by the average l = h l min ( i ; j ) i over all pairs s i ; s j 2 › s , where l min ( i ; j ) indicates the length of the shortest path between two nodes . The clustering coe – cient is deﬂned as the probability that two classes that are neighbors of a given class are neighbors of each other . Poissonian graphs with an average degree „ k are such that C … „ k = N and the path length follows [ 3 ] : l … log N log ( „ k ) ( 1 ) C is easily deﬂned from the adjacency matrix , and is given by : C = * 2 k i ( k i ¡ 1 ) N X j = 1 » ij " X k 2 ¡ i » jk # + › s ( 2 ) It provides a measure of the average fraction of pairs of neighbors of a node that are also neighbors of each other . The building process of a software graph is done in parallel ( diﬁerent parts are build and gradually get connected ) and is assumed to follow some standard rules of design [ 20 , 23 ] . None of these rules refer to the overall organization of the ﬂnal graph . Essentially , they deal with optimal communication among modules and low cost ( in terms of wiring ) together with the rule of avoiding hubs ( classes with large number of dependencies , that is , large degree ) . The set of bad design practices , such as making use of large hubs , is known as antipatterns in the software literature : see [ 24 ] . The development time of the application should be as short as possible because the expensive costs involved . It is argued in literature [ 23 ] that there is an optimum number of components so that cost of development is minimized , but it is not possible to make a reliable prediction about this number . Adding new software components involves more cost in terms of interconnections between them ( links ) . Conversely , the cost per single software component decreases as the overall number of components ( nodes ) is increased because the functionality is spread over the entire system . Intuitively , a trade - oﬁ between the number of nodes and the number of links must be chosen . However , we have found that this ( local ) optimization process results in a net that exhibits both scaling and small - world structure . First , we analyzed JDK1 . 2 network has N = 9257 nodes and N c = 3115 connected components , so that the complete graph › s is actually given by › s = [ i › i , where the set is ordered from larger to smaller components ( j › 1 j > j › 2 j > : : : > j › N c j ) . The largest connected component , › 1 , has N 1 = 1376 , with < k > = 3 : 16 and (cid:176) = 2 : 5 , with clustering coe – cient [ 4 ] is C = 0 : 06 (cid:192) C rand = 0 : 002 and the average distance l = 6 : 39 … l rand = 6 : 28 , i . e . it is a small - world . The same basic results are obtained for › 2 ( shown in ﬂg . 1a ) : here we have N 2 = 1364 , < k > = 2 : 83 and (cid:176) = 2 : 65 , C = 0 : 08 (cid:192) C rand = 0 : 002 and l = 6 : 91 … l rand = 6 : 82 . The degree distribution for the two largest components is shown in ﬂgure 1b , where we have represented the cumulative distribution P > ( k ; › i ) = N ( › i ) X k 0 ‚ k p ( k 0 ; › i ) ( 3 ) for i = 1 ; 2 . We can see that the largest components display scaling , with estimated exponents (cid:176) … 2 : 5 ¡ 2 : 65 . Similar results have been obtained from the analysis of a computer game graph [ 22 ] . This is a single , complex piece of software which consists of N = 1989 classes involving diﬁerent 4 EUROPHYSICS LETTERS n0 n1 n9 n17 n3 n4 n6 n8 n15 n16 n5 n11 n13 n22 n7 n12 n2 n10 n18 n19 n20 n14 n21 c n0 n58 n3 n4 n5 n7 n10 n11 n12 n13 n14 n15 n16 n17 n18 n19 n20 n21 n22 n23 n24 n25 n26 n27 n28 n29 n30 n31 n32 n33 n35 n37 n38 n39 n40 n41 n42 n43 n44 n45 n46 n47 n48 n49 n50 n52 n53 n54 n55 n56 n57 n1 n2 n6 n8 n9 n51 n36 n34 b n0 n125 n109 n127 n5 n8 n9 n23 n37 n76 n81 n84 n88 n89 n90 n91 n92 n93 n94 n95 n96 n97 n99 n104 n107 n108 n126 n128 n144 n173 n174 n190 n195 n204 n209 n213 n214 n231 n232 n233 n236 n240 n241 n245 n246 n251 n254 n1 n71 n188 n110 n111 n113 n114 n115 n120 n121 n122 n129 n130 n131 n132 n134 n242 n253 n2 n3 n4 n6 n98 n100 n101 n102 n103 n138 n224 n243 n244 n247 n248 n249 n250 n7 n10 n11 n12 n13 n14 n15 n16 n17 n18 n19 n20 n21 n22 n24 n25 n26 n27 n28 n29 n30 n31 n32 n34 n33 n35 n36 n39 n54 n38 n40 n41 n42 n43 n44 n45 n46 n47 n48 n49 n52 n53 n55 n56 n57 n58 n61 n62 n63 n64 n65 n66 n67 n68 n69 n59 n60 n50 n51 n70 n72 n73 n74 n75 n77 n78 n79 n80 n82 n83 n85 n87 n189 n191 n192 n193 n194 n196 n197 n198 n199 n200 n201 n202 n203 n205 n206 n211 n86 n105 n106 n116 n117 n118 n119 n123 n124 n133 n135 n136 n252 n112 n143 n166 n171 n172 n175 n176 n177 n178 n179 n180 n181 n182 n183 n184 n185 n186 n187 n208 n210 n212 n215 n216 n218 n219 n221 n222 n223 n226 n227 n234 n235 n237 n238 n137 n139 n140 n141 n142 n145 n146 n147 n148 n149 n150 n151 n152 n153 n154 n155 n156 n157 n158 n159 n160 n161 n162 n163 n164 n165 n167 n168 n169 n170 n207 n220 n225 n228 n229 n230 n217 n239 d 10 1 10 2 10 3 10 4 N 0 1 2 3 4 5 l l og < k > a c b d Fig . 2 { ( a ) Using the 32 connected components with more than 10 classes ( nodes ) , the l log ( „ k ) ¡ N plots is shown . As predicted from a SW structure , the components follow a straight line in this linear - log diagram . Three subwebs are shown ( c - d ) , displaying hubs but no clustering ( their location is indicated in ( a ) ) . The black square corresponds to the computer game graph . aspects like : real - time computer graphics , rigid body simulation , sound and music playing , graphical user interface and memory management . The software architecture graph for the game has a large connected component that relates all subsystems . The cumulative degree frequency for the entire system is scale - free , with (cid:176) = 2 : 85 § 0 : 11 . The network also displays SW behaviour : the clustering coe – cient is C = 0 : 08 (cid:192) C rand = 0 : 002 and the average distance is l = 6 : 2 , close to l rand = 4 : 84 . These results reveal a previously unreported global feature of software architecture which can have important consequences in both technology and biology . This is , as far as we know , the ﬂrst example of a scale - free graph resulting from a local optimization process instead of preferential attachment [ 4 ] or duplication - rewiring [ 25 , 26 ] rules . Since the failure of a single module leads to system’s breakdown , no global homeostasis has been at work as an evolutionary principle , as it might have occured in cellular nets . In spite of this , the ﬂnal structure is very similar to those reported from the analysis of cellular networks . Second , our results suggest that optimization processes might be also at work in the latest , as it has been shown to occur in transport nets [ 11 ] . Complex biosystems are often assumed to result from selection processes together with a large amount of tinkering [ 27 ] . By contrast , it is often assumed that engineered , artiﬂcial systems are highly optimized entities , although selection would be also at work [ 28 ] . Such diﬁerences should be observable when comparing both types , but the analysis of both natural and artiﬂcial nets indicates that they are often remarkably similar , perhaps suggesting general organization principles . Our results support an alternative scenario to preferential attachment based on cost minimization together with optimal communication among units [ 14 ] process . The fact that small - sized software graphs are trees ( as one would expect from optimization leading to hierarchical structures , leading to stochastic Cayley trees [ 6 ] ) but that clustering emerges at larger sizes might be the outcome of a combinatorial optimization process : As the number of modules increases , the con(cid:176)icting constraints that arise among diﬁerent parts of S . Valverde , R . Ferrer Cancho and R . V . Sol¶e : Scale - free Networks from Optimal Design 5 the system would prevent reaching an optimal structure [ 29 ] . Concerning cellular networks , although preferential linking might have been at work [ 30 ] , optimization has probably played a key role in shaping metabolic pathways [ 31 { 33 ] . We conjecture that the common origin of SF nets in both cellular and artiﬂcial systems such as software might stem from a process of optimization involving low cost ( sparse graph ) and short paths . For cellular nets ( but not in their artiﬂcial counterparts ) the resulting graph includes , for free , an enormous homeostasis against random failure . ⁄ ⁄ ⁄ The authors thanks Javier Gamarra , Jose Montoya , William Parcher , Charles Herman and Marcee Herman for useful comments . This work was supported by the Santa Fe Institute ( RFC and RVS ) and by grants of the Generalitat de Catalunya ( FI / 2000 - 00393 , RFC ) and the CICYT ( PB97 - 0693 , RVS ) . 1 . Albert , R . and Barab¶asi , A . - L . , cond - mat / 0106096 . 2 . Watts , D . J . & Strogatz , S . H . Nature 393 ( 1998 ) 440 . 3 . Newman , M . E . J . J . Stat . Phys . 101 ( 2000 ) 819 . 4 . Barab¶asi , A . - L . & Albert , R . Science 286 ( 1999 ) 509 . 5 . Amaral , L . A . N . , Scala , A . , Barth¶elemy , M . & Stanley , H . E . Proc . Natl . Acad . Sci . USA 97 ( 2000 ) 11149 . 6 . Caldarelli , G . , Marchetti , R . Pietronero , L . ( 2000 ) Europhys . Lett . 52 , 304 . 7 . Jeong , H . , Mason , S . , Barab¶asi , A . L . and Oltvai , Z . N . Nature 411 ( 2001 ) 41 . 8 . Jeong , H . , Tombor , B . , Albert , R . , Oltvai , Z . N . and Barabasi , A . - L . Nature 407 ( 2000 ) 651 . 9 . Newman , M . E . J . Proc . Natl . Acad . Sci . USA 84 ( 2001 ) 404 . 10 . Ferrer i Cancho , R . and Sol¶e , R . V . Procs . Roy . Soc . London B , 268 ( 2001 ) 2261 . 11 . West , B . and Brown , J . Scaling in Biology , Oxford , New York ( 2000 ) . 12 . Rodriguez - Iturbe , I . and Rinaldo , A . Fractal River Basins , Cambridge U . Press , Cam - bridge ( 1997 ) . 13 . Mathias , N . and Gopal , V . Phys . Rev . E 63 ( 2001 ) 1 . 14 . Ferrer Cancho , R . and Sol¶e , R . V . , SFI Working paper 01 - 11 - 068 . 15 . Cherniak , C . Trends Neurosci . 18 , 522 - 527 ( 1995 ) . 16 . Stephan , K . A . , Hilgetag , C . - C . , Burns , G . A . P . C , O’Neill , M . A . , Young , M . P . and K˜otter , R . Phil . Trans . Roy . Soc . B 355 ( 2000 ) 111 . 17 . Albert , R . A . , Jeong , H . and Barab¶asi A . - L . Nature , 406 ( 2000 ) 378 . 18 . Sol¶e , R . V . and Montoya , J . M . ( 2001 ) Procs . Royal Soc . London B 268 , 2039 . 6 EUROPHYSICS LETTERS 19 . Ferrer Cancho , R . Janssen , C . and Sol¶e , R . V . ( 2001 ) Phys . Rev . E , 63 32767 . 20 . Gamma , E . , Helm R . , Johnson R . , Vlissides J . ( 1994 ) Design Patterns Elements of Reusable Object - Oriented Software ( Addison - Wesley , New York ) 21 . Sun , Java Development Kit 1 . 2 . Web site : http : / / java . sun . com / products / java / 1 . 2 / 22 . UbiSoft ProRally 2002 : http : / / ubisoft . inﬂniteplayers . com / especiales / prorally / 23 . Pressman , R . S . ( 1992 ) Software Engineering : A Practitioner’s Approach , ( McGraw - Hill ) 24 . Brown , W . H . , Malveau , R . , McCormick , H . , Mowbray , T . , and Thomas , S . W . ( 1998 ) Antipatterns : Refactoring Software , Architectures , and Projects in Crisis , ( John Wiley & Sons , New York ) 25 . Sol¶e , R . V . , Pastor - Satorras , R . , Smith , E . D . and Kepler , T . ( 2002 ) . Adv . Complex Syst . ( in press ) 26 . Vazquez , A . , Flammini , A . , Maritan , A . and Vespignani , A . ( 2001 ) cond - mat / 0108043 . 27 . Jacob , F . ( 1976 ) Science 196 , 1161 - 1166 . 28 . Monod , J . ( 1970 ) Le hasard et la n¶ecessit¶e , Editions du Seuil , Paris . 29 . Kauﬁman , S . A . ( 1993 ) Origins of Order , Oxford , New York . 30 . Wagner . A . and Fell , D . A . Proc . Roy . Soc . London B 268 ( 2001 ) 1803 . 31 . Mittenthal , J . E . , A . Yuan , B . Clarke , and A . Scheeline ( 1998 ) Bull . Math . Biol . 60 , 815 - 856 . 32 . Melendez - Hevia , E . Waddell , T . G . and Shelton , E . D . Biochem . J . 295 , 477 . 33 . Melendez - Hevia , E . Waddell , T . G . and Montero , F . J . Theor . Biol . 166 ( 1994 ) 201 .