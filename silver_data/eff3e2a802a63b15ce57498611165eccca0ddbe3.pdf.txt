The average distances in random graphs with given expected degrees Fan Chung * and Linyuan Lu Department of Mathematics , University of California at San Diego , La Jolla , CA 92093 - 0112 Communicated by Ronald L . Graham , University of California at San Diego , La Jolla , CA , October 17 , 2002 ( received for review August 20 , 2002 ) Random graph theory is used to examine the ‘‘small - world phe - nomenon’’ ; any two strangers are connected through a short chain of mutual acquaintances . We will show that for certain families of random graphs with given expected degrees the average distance is almost surely of order log n (cid:1) log d˜ , where d˜ is the weighted average of the sum of squares of the expected degrees . Of particular interest are power law random graphs in which the number of vertices of degree k is proportional to 1 (cid:1) k (cid:1) for some ﬁxed exponent (cid:1) . For the case of (cid:1) > 3 , we prove that the average distance of the power law graphs is almost surely of order log n (cid:1) log d˜ . However , many Internet , social , and citation networks are power law graphs with exponents in the range 2 < (cid:1) < 3 for which the power law random graphs have average distance almost surely of order log log n , but have diameter of order log n ( provided having some mild constraints for the average distance and maxi - mumdegree ) . Inparticular , thesegraphscontainadensesubgraph , whichwecallthecore , having n c (cid:1) loglog n vertices . Almostallvertices are within distance log log n of the core although there are vertices at distance log n from the core . I n 1967 , the psychologist Stanley Milgram ( 1 ) conducted a series of experiments that indicated that any two strangers are connected by a chain of intermediate acquaintances of length at most six . In 1999 , Baraba´si et al . ( 2 ) observed that in certain portions of the Internet any two web pages are at most 19 clicks away from one another . In this article , we will examine average distances in random graph models of large complex graphs . In turn , the study of realistic large graphs provides directions and insights for random graph theory . Most of the research papers in random graph theory concern the Erdo˝s – Re´nyi model G p , in which each edge is independently chosen with probability p for some given p (cid:1) 0 ( see ref . 3 ) . In such random graphs the degrees ( the number of neighbors ) of vertices all have the same expected value . However , many large random - like graphs that arise in various applications have diverse degree distributions ( 2 , 4 – 7 ) . It is therefore natural to consider classes of random graphs with general degree sequences . We consider a general model G ( w ) for random graphs with given expected degree sequence w (cid:2) ( w 1 , w 2 , . . . , w n ) . The edge between v i and v j is chosen independently with probability p ij , where p ij is proportional to the product w i w j . The classical random graph G ( n , p ) can be viewed as a special case of G ( w ) by taking w to be ( pn , pn , . . . , pn ) . Our random graph model G ( w ) is different from the random graph models with an exact degree sequence as considered by Molloy and Reed ( 8 , 9 ) , and Newman , Strogatz , and Watts ( 10 , 11 ) . Deriving rigorous proofs for random graphs with exact degree sequences is rather com - plicated and usually requires additional ‘‘smoothing’’ conditions because of the dependency among the edges ( see ref . 8 ) . Although G ( w ) is well defined for arbitrary degree distribu - tions , it is of particular interest to study power law graphs . Many realistic networks such as the Internet , social , and citation networks have degrees obeying a power law . Namely , the frac - tion of vertices with degree k is proportional to 1 (cid:1) k (cid:1) for some constant (cid:1) (cid:1) 1 . For example , the Internet graphs have powers ranging from 2 . 1 to 2 . 45 ( see refs . 2 and 12 – 14 ) . The collabo - ration graph of mathematical reviews has (cid:1) (cid:2) 2 . 97 ( see www . oakland . edu (cid:1) (cid:3) grossman (cid:1) trivia . html ) . The power law distribu - tion has a long history that can be traced back to Zipf ( 15 ) , Lotka ( 16 ) , and Pareto ( 17 ) . Recently , the impetus for modeling and analyzing large complex networks has led to renewed interest in power law graphs . In this article , we will show that for certain families of random graphs with given expected degrees , the average distance is almost surely ( 1 (cid:4) o ( 1 ) ) log n (cid:1) log d˜ . Here d˜ denotes the second - order average degree defined by d (cid:1) (cid:2) (cid:5) w i 2 (cid:1) (cid:5) w i , where w i denotes the expected degree of the i th vertex . Consequently , the average distance for a power law random graph on n vertices with exponent (cid:1) (cid:1) 3 is almost surely ( 1 (cid:4) o ( 1 ) ) log n (cid:1) log d ˜ . When the exponent (cid:1) satisfies 2 (cid:6) (cid:1) (cid:6) 3 , the power law graphs have a very different behavior . For example , for (cid:1) (cid:1) 3 , d˜ is a function of (cid:1) and is independent of n but for 2 (cid:6) (cid:1) (cid:6) 3 , d˜ can be as large as a fixed power of n . We will prove that for a power law graph with exponent 2 (cid:6) (cid:1) (cid:6) 3 , the average distance is almost surely O ( log log n ) ( and not log n (cid:1) log d˜ ) if the average degree is strictly greater than 1 and the maximum degree is sufficiently large . Also , there is a dense subgraph , that we call the core , of diameter O ( log log n ) in such a power law random graph such that almost all vertices are at distance at most O ( log log n ) from the core , although there are vertices at distance at least c log n from the core . At the phase transition point of (cid:1) (cid:2) 3 , the random power law graph almost surely has average distance of order log n (cid:1) log log n and diameter of order log n . Definitions and Statements of the Main Theorems In a random graph G (cid:2) G ( w ) with a given expected degree sequence w (cid:2) ( w 1 , w 2 , . . . , w n ) , the probability p ij of having an edge between v i and v j is w i w j (cid:2) for (cid:2) (cid:2) ( 1 (cid:1) (cid:5) i w i ) . We assume that max i w i 2 (cid:6) (cid:5) i w i so that the probability p ij (cid:2) w i w j (cid:2) is strictly between 0 and 1 . This assumption also ensures that the degree sequence w i can be realized as the degree sequence of a graph if w i s are integers ( 18 ) . Our goal is to have as few conditions as possible on the w i s while still being able to derive good estimates for the average distance . First , we need some definitions for several quantities associ - ated with G and G ( w ) . In a graph G , the volume of a subset S of vertices in G is defined to be vol ( S ) (cid:2) (cid:5) v (cid:2) S deg ( v ) , the sum of degrees of all vertices in S . For a graph G in G ( w ) , the expected degree of v i is exactly w i and the expected volume of S is Vol ( S ) (cid:2) (cid:5) i (cid:2) S w i . In particular , the expected volume of G is Vol ( G ) (cid:2) (cid:5) i w i . By the Chernoff inequality for large deviations ( 19 ) , we have Prob (cid:7) (cid:2) vol (cid:7) S (cid:8) (cid:3) Vol (cid:7) S (cid:8) (cid:2) (cid:4) (cid:5) (cid:8) (cid:6) e (cid:9) (cid:5) 2 / (cid:7) 2Vol (cid:7) S (cid:8) (cid:4) (cid:5) / 3 (cid:8) . For k (cid:7) 2 , we define the k th moment of the expected volume by Vol k ( S ) (cid:2) (cid:5) v i (cid:2) S w ik and we write Vol k ( G ) (cid:2) (cid:5) i w ik . In a graph G , the distance d ( u , v ) between two vertices u and v is just the length of a shortest path joining u and v ( if it exists ) . In a connected graph G , the average distance of G is the average over all distances d ( u , v ) for u and v in G . We consider very sparse * To whom correspondence should be addressed . E - mail : fan @ ucsd . edu . www . pnas . org (cid:1) cgi (cid:1) doi (cid:1) 10 . 1073 (cid:1) pnas . 252631999 PNAS (cid:2) December 10 , 2002 (cid:2) vol . 99 (cid:2) no . 25 (cid:2) 15879 – 15882 M A T H E M A T I C S graphs that are often not connected . If G is not connected , we define the average distance to be the average among all distances d ( u , v ) for pairs of u and v both belonging to the same connected component . The diameter of G is the maximum distance d ( u , v ) , where u and v are in the same connected component . Clearly , the diameter is at least as large as the average distance . All of our graphs typically have a unique large connected component , called the giant component , which contains a positive fraction of edges . The expected degree sequence w for a graph G on n vertices in G ( w ) is said to be strongly sparse if we have the following : ( i ) The second order average degree d˜ satisfies 0 (cid:6) log d˜ (cid:6)(cid:6) log n . ( ii ) For some constant c (cid:1) 0 , all but o ( n ) vertices have expected degree w i satisfying w i (cid:7) c . The average expected degree d (cid:2) (cid:5) i w i (cid:1) n is strictly greater than 1 , i . e . , d (cid:1) 1 (cid:4) (cid:8) for some positive value (cid:8) independent of n . The expected degree sequence w for a graph G on n vertices in G ( w ) is said to be admissible if the following condition holds , in addition to the assumption that w is strongly sparse . ( iii ) There is a subset U satisfying : Vol 2 ( U ) (cid:2) ( 1 (cid:4) o ( 1 ) ) Vol 2 ( G ) (cid:1)(cid:1) ( Vol 3 ( U ) log d˜ log log n (cid:1) d˜ log n ) . The expected degree sequence w for a graph G on n vertices is said to be specially admissible if i is replaced by i (cid:10) and iii is replaced by iii (cid:10) : ( i (cid:10) ) log d˜ (cid:2) O ( log d ) . ( iii (cid:10) ) There is a subset U satisfying Vol 3 ( U ) (cid:2) O ( Vol 2 ( G ) ) ( d˜ (cid:1) log d˜ ) , and Vol 2 ( U ) (cid:1) d Vol 2 ( G ) (cid:1) d˜ . In this article , we will prove the following : Theorem 1 . For a random graph G with admissible expected degree sequence ( w 1 , . . . , w n ) , the average distance is almost surely ( 1 (cid:4) o ( 1 ) ) ( log n (cid:1) log d˜ ) . Corollary 1 . If np (cid:7) c (cid:1) 1 for some constant c , then almost surely the average distance of G ( n , p ) is ( 1 (cid:4) o ( 1 ) ) ( log n (cid:1) log np ) , provided ( log n (cid:1) log np ) goes to infinity as n 3 (cid:11) . The proof of the above corollary follows by taking w i (cid:2) np and U to be the set of all vertices . It is easy to verify in this case that w is admissible , so Theorem 1 applies . Theorem 2 . For a random graph G with a specially admissible degree sequence ( w 1 , . . . , w n ) , the diameter is almost surely (cid:12) ( log n (cid:1) log d˜ ) . Corollary 2 . If np (cid:2) c (cid:1) 1 for some constant c , then almost surely the diameter of G ( n , p ) is (cid:12) ( log n ) . Theorem 3 . For a power law random graph with exponent (cid:1) (cid:1) 3 and average degree d strictly greater than 1 , almost surely the average distance is ( 1 (cid:4) o ( 1 ) ) ( log n (cid:1) log d˜ ) and the diameter is (cid:12) ( log n ) . Theorem 4 . Suppose a power law random graph with exponent (cid:1) has average degree d strictly greater than 1 and maximum degree m satisfying log m (cid:1)(cid:1) log n (cid:1) log log n . If 2 (cid:6) (cid:1) (cid:6) 3 , almost surely the diameter is (cid:12) ( log n ) and the average distance is at most ( 2 (cid:4) o ( 1 ) ) ( log log n (cid:1) log ( 1 (cid:1) ( (cid:1) (cid:9) 2 ) ) ) . For the case of (cid:1) (cid:2) 3 , the power law random graph has diameter almost surely (cid:12) ( log n ) and has average distance (cid:12) ( log n (cid:1) log log n ) . Neighborhood Expansion and Connected Components Here we state several useful facts concerning the distances and neighborhood expansions in G ( w ) . These facts are not only useful for the proofs of the main theorems but also are of interest on their own right . The proofs can be found in ref . 20 . Lemma 1 . In a random graph G in G ( w ) with a given expected degree sequence w (cid:2) ( w 1 , . . . , w n ) , for any fixed pairs of vertices ( u , v ) , the distance d ( u , v ) between u and v is greater than  ( log Vol ( G ) (cid:9) c ) (cid:1) log d˜  with probability at least 1 (cid:9) ( w u w v (cid:1) d˜ ( d˜ (cid:9) 1 ) ) e (cid:9) c . Lemma 2 . In a random graph G (cid:2) G ( w ) , for any two subsets S and T of vertices , we have Vol (cid:7)(cid:13)(cid:7) S (cid:8) (cid:3) T (cid:8) (cid:7) (cid:7) 1 (cid:3) 2 (cid:8) (cid:8) Vol (cid:7) S (cid:8) Vol 2 (cid:7) T (cid:8) Vol (cid:7) G (cid:8) with probability at least 1 (cid:9) e (cid:9) c where (cid:13) ( S ) (cid:2) { v : v (cid:3) u (cid:2) S and v (cid:2) S } , provided Vol ( S ) satisfies 2 c Vol 3 (cid:7) T (cid:8) Vol (cid:7) G (cid:8) (cid:8) 2 Vol 22 (cid:7) T (cid:8) (cid:9) Vol (cid:7) S (cid:8) (cid:9) (cid:8) Vol 2 (cid:7) T (cid:8) Vol (cid:7) G (cid:8) Vol 3 (cid:7) T (cid:8) . [ 1 ] Lemma 3 . For any two disjoint subsets S and T with Vol ( S ) Vol ( T ) (cid:1) c Vol ( G ) , we have Pr (cid:7) d (cid:7) S , T (cid:8) (cid:4) 1 (cid:8) (cid:6) e (cid:9) c , where d ( S , T ) denotes the distance between S and T . Lemma 4 . Suppose that G is a random graph on n vertices so that for a fixed value c , G has o ( n ) vertices of degree less than c and has average degree d strictly greater than 1 . Then for any fixed vertex v in the giant component , if (cid:10) (cid:2) o ( (cid:14) n ) , then there is an index i 0 (cid:9) c 0 (cid:10) so that with probability at least 1 (cid:9) ( c 1 (cid:10) 3 / 2 (cid:1) e c 2 (cid:10) ) , we have Vol (cid:7)(cid:13) i 0 (cid:7) v (cid:8)(cid:8) (cid:7) (cid:10) , where c i s are constants depending only on c and d , while (cid:13) i ( S ) (cid:2) (cid:13) ( (cid:13) i (cid:9) 1 ( S ) ) for i (cid:1) 1 and (cid:13) 1 ( S ) (cid:2) (cid:13) ( S ) . We remark that in the proofs of Theorem 1 and Theorem 2 , we will take (cid:10) to be of order ( log n (cid:1) log d˜ ) . The statement of the above lemma is in fact stronger than what we will actually need . Another useful tool is the following result on the expected sizes of connected components in random graphs with given expected degree sequences ( 21 ) . Lemma 5 . Suppose that G is a random graph in G ( w ) with given expected degree sequence w . If the expected average degree d is strictly greater than 1 , then the following holds : ( i ) Almost surely G has a unique giant component . Furthermore , the volume of the giant component is at least ( 1 (cid:9) ( 2 (cid:1) (cid:14) de ) (cid:4) o ( 1 ) ) Vol ( G ) if d (cid:7) ( 4 (cid:1) e ) (cid:2) 1 . 4715 . . . , and is at least ( 1 (cid:9) ( 1 (cid:4) log d ) (cid:1) d (cid:4) o ( 1 ) ) Vol ( G ) if d (cid:6) 2 . ( ii ) The second largest component almost surely has size O ( log n (cid:1) log d ) . Proof of Theorem 1 Suppose G is a random graph with an admissible expected degree sequence . From Lemma 5 , we know that with high probability the giant component has volume at least (cid:12) ( Vol ( G ) ) . From Lemma 5 , the sizes of all small components are O ( log n ) . Thus , the average distance is primarily determined by pairs of vertices in the giant component . From the admissibility condition i , d ˜ (cid:9) n (cid:8) implies that only o ( n ) vertices can have expected degrees greater than n (cid:8) . Hence we can apply Lemma 1 ( by choosing c (cid:2) 3 (cid:8) log n , for any fixed (cid:8) (cid:1) 0 ) so that with probability 1 (cid:9) o ( 1 ) , the distance d ( u , v ) between u and v satisfies d ( u , v ) (cid:7) ( 1 (cid:9) 3 (cid:8) (cid:9) o ( 1 ) ) log n (cid:1) log d˜ . Here we use the fact that log Vol ( G ) (cid:2) log d (cid:4) log n (cid:2) ( 1 (cid:4) o ( 1 ) ) log n . Because the choice of (cid:8) is arbitrary , we 15880 (cid:2) www . pnas . org (cid:1) cgi (cid:1) doi (cid:1) 10 . 1073 (cid:1) pnas . 252631999 Chung and Lu conclude the average distance of G is almost surely at least ( 1 (cid:4) o ( 1 ) ) log n (cid:1) log d˜ . Next , we want to establish the upper bound ( 1 (cid:4) o ( 1 ) ) (cid:1) ( log Vol ( G ) (cid:1) log d˜ ) for the average distance between two ver - tices u and v in the giant component . For any vertex u in the giant component , we use Lemma 4 to see that for i 0 (cid:9) C (cid:8) ( log n (cid:1) log d˜ ) , the i 0 boundary (cid:13) i 0 ( v ) of v satisfies Vol (cid:7)(cid:13) i 0 (cid:7) v (cid:8)(cid:8) (cid:7) (cid:8) log n log d˜ with probability 1 (cid:9) o ( 1 ) . Next , we use Lemma 2 to deduce that Vol ( (cid:13) i ( u ) ) will grow roughly by a factor of ( 1 (cid:9) 2 (cid:8) ) d˜ as long as Vol ( (cid:13) i ( u ) ) is no more than (cid:14) c Vol ( G ) ( by choosing c (cid:2) 2 log log n ) . The failure probability is at most e (cid:9) c at each step . Hence , for i 1 (cid:9) log ( c Vol ( G ) ) (cid:1) ( 2 log ( 1 (cid:9) 2 (cid:8) ) d˜ ) more steps , we have Vol ( (cid:13) i 0 (cid:4) i 1 ( v ) ) (cid:7) (cid:14) c Vol ( G ) with probability at least 1 (cid:9) i 1 e (cid:9) c (cid:2) 1 (cid:9) o ( 1 ) . Here i 0 (cid:4) i 1 (cid:2) ( 1 (cid:4) o ( 1 ) ) ( log n (cid:1) 2 log d˜ ) . Similarly , for the vertex v , there are integers i (cid:10) 0 and i (cid:10) 1 satisfying i (cid:10) 0 (cid:4) i (cid:10) 1 (cid:2) ( 1 (cid:4) o ( 1 ) ) ( log n (cid:1) ( 2 log d ˜ ) ) so that Vol ( (cid:13) i (cid:10) 0 (cid:4) i (cid:10) 1 ( v ) ) (cid:7) (cid:14) c Vol ( G ) holds with probability at least 1 (cid:9) o ( 1 ) . By Lemma 3 , with probability 1 (cid:9) o ( 1 ) there is a path connecting u and v with length i 0 (cid:4) i 1 (cid:4) 1 (cid:4) i (cid:10) 0 (cid:4) i (cid:10) 1 (cid:2) ( 1 (cid:4) o ( 1 ) ) ( log n (cid:1) log d (cid:1) ) . Hence , almost surely the average distance of a random graph with an admissible degree sequence is ( 1 (cid:4) o ( 1 ) ) ( log n (cid:1) log d (cid:1) ) . The proof of Theorem 2 is similar to that of Theorem 1 except that the special admissibility condition allows us to deduce the desired bounds with probability 1 (cid:9) o ( n (cid:9) 2 ) . Thus , almost surely every pair of vertices in the giant components have mutual distance O ( log n (cid:1) log d˜ ) . We remark that it would be desirable to establish an upper bound ( 1 (cid:4) o ( 1 ) ) log n (cid:1) log d˜ for the diameter . However , we can only deduce the weaker upper bound because of the traveoff for the required probability 1 (cid:9) o ( n (cid:9) 2 ) by using Lemma 4 . Random Power Law Graphs For random graphs with given expected degree sequences satisfying a power law distribution with exponent (cid:1) , we may assume that the expected degrees are w i (cid:2) ci (cid:9) 1 (cid:1) ( (cid:1) (cid:9) 1 ) for i satisfying i 0 (cid:9) i (cid:6) n (cid:4) i 0 . Here c depends on the average degree and i 0 depends on the maximum degree m , namely , c (cid:2) (cid:1) (cid:9) 2 (cid:1) ( (cid:1) (cid:9) 1 ) dn ( 1 (cid:1) (cid:1) (cid:9) 1 ) , i 0 (cid:2) n ( d ( (cid:1) (cid:9) 2 ) (cid:1) m ( (cid:1) (cid:9) 1 ) ) (cid:1) (cid:9) 1 . The power law graphs with exponent (cid:1) (cid:1) 3 are quite different from those with exponent (cid:1) (cid:6) 3 as evidenced by the value of d˜ ( assuming m (cid:1)(cid:1) d ) . d˜ (cid:11) (cid:3) (cid:7) 1 (cid:12) o (cid:7) 1 (cid:8)(cid:8) d (cid:7) (cid:1)(cid:3) 2 (cid:8) 2 (cid:7) (cid:1)(cid:3) 1 (cid:8)(cid:7) (cid:1)(cid:3) 3 (cid:8) if (cid:1)(cid:4) 3 . (cid:7) 1 (cid:12) o (cid:7) 1 (cid:8)(cid:8) 1 2 d ln 2 m d if (cid:1)(cid:11) 3 . (cid:7) 1 (cid:12) o (cid:7) 1 (cid:8)(cid:8) d (cid:1)(cid:3) 2 (cid:7) (cid:1)(cid:3) 2 (cid:8) (cid:1)(cid:3) 1 m 3 (cid:3)(cid:1) (cid:7) (cid:1)(cid:3) 1 (cid:8) (cid:1)(cid:3) 2 (cid:7) 3 (cid:3) (cid:1) (cid:8) if 2 (cid:6) (cid:1)(cid:6) 3 . For the range of (cid:1) (cid:1) 3 , it can be shown that the power law graphs are both admissible and especially admissible . [ One of the key ideas is to choose U in condition iii or iii (cid:10) to be a set U y (cid:2) { v : deg ( v ) (cid:9) y } for an appropriate y independent of the maximum degree m . For example , choose y to be n 1 / 4 for (cid:1) (cid:1) 4 , to be 4 for (cid:1) (cid:2) 4 and to be log n (cid:1) ( log d log log n ) for 3 (cid:6) (cid:1) (cid:6) 4 . ] Theorem 3 then follows from Theorems 1 and 2 . The Range 2 < (cid:1) < 3 Power law graphs with exponent 2 (cid:6) (cid:1) (cid:6) 3 have very interesting structures that can be roughly described as an ‘‘octopus’’ with a dense subgraph having small diameter as the core . We define S k to be the set of vertices with expected degree at least k . ( We note that the set S k can be well approximated by the set of vertices with degree at least k . ) We note that the power law distribution is not especially admis - sible for 2 (cid:6) (cid:1) (cid:6) 3 . Thus Theorem 2 can not be directly used . Here we outline the main ideas for the proof of Theorem 4 . Sketch of Proof for Theorem4 We define the core of a power law graph with exponent (cid:1) to be the set S t of vertices of degree at least t (cid:2) n 1 / log log n . Claim 1 : The diameter of the core is almost surely O ( log log n ) . This follows from the fact that the core contains an Erdo˝s – Renyi graph G ( n (cid:10) , p ) with n (cid:10) (cid:2) cnt 1 (cid:9) (cid:1) and p (cid:2) t 2 (cid:1) Vol ( G ) . From ref . 3 , this subgraph is almost surely connected . Using a result in ( 22 ) , the diameter of this subgraph is at most ( log n (cid:10) (cid:1) log pn (cid:10) ) (cid:2) ( 1 (cid:4) o ( 1 ) ) ( log n (cid:1) ( ( 3 (cid:9) (cid:1) ) log t ) ) (cid:2) O ( log log n ) . Claim 2 : Almost all vertices with degree at least log n are almost surely within distance O ( log log n ) from the core . To see this , we start with a vertex u 0 with degree k 0 (cid:7) log C n for some constant Fig . 1 . The power law degree distribution of the collaboration graph G 1 . Fig . 2 . An induced subgraph of the collaboration graph G 1 . Chung and Lu PNAS (cid:2) December 10 , 2002 (cid:2) vol . 99 (cid:2) no . 25 (cid:2) 15881 M A T H E M A T I C S C (cid:2) ( 1 . 1 (cid:1) ( ( (cid:1) (cid:9) 2 ) ( 3 (cid:9) (cid:1) ) ) ) . By applying Lemma 3 , with probability at least 1 (cid:9) n (cid:9) 3 , u 0 is a neighbor of some u 1 with degree k 1 (cid:7) ( k 0 (cid:1) log C n ) 1 / ( (cid:1) (cid:9) 2 ) s . We then repeat this process to find a path with vertices u 0 , u 1 , . . . , u s , and the degree k s of u s satisfies k s (cid:9) ( k 0 (cid:1) log C n ) 1 / ( (cid:1) (cid:9) 2 ) s with probability 1 (cid:9) n (cid:9) 2 . By choosing s to satisfy log k s (cid:7) log n (cid:1) log log n , we are done . Claim 3 : For each vertex v in the giant component , with probability 1 (cid:9) o ( 1 ) , v is within distance O ( log log n ) from a vertex of degree at least log C n . This follows from Lemma 4 ( choosing (cid:10) (cid:2) c log log log n and the neighborhood expansion factor c (cid:10) log log log n ) . Claim 4 : For each vertex v in the giant component , with probability 1 (cid:9) o ( n (cid:9) 2 ) , v is within distance O ( log n ) from a vertex of degree at least O ( log n ) . Thus with probability 1 (cid:9) o ( 1 ) , the diameter is O ( log n ) . Combining Claims 1 – 3 , we have derived an upper bound O ( log log n ) for the average distance . [ By a similar but more careful analysis ( 20 ) , this upper bound can be further improved to c log log n for c (cid:2) ( 2 (cid:1) log ( 1 (cid:1) ( (cid:1) (cid:9) 2 ) ) ) . ] From Claim 4 , we have an upper bound O ( log n ) for the diameter . Next , we will establish a lower bound of order log n . We note that the minimal expected degree in a power law random graph with exponent 2 (cid:6) (cid:1) (cid:6) 3 is ( 1 (cid:4) o ( 1 ) ) ( d ( (cid:1) (cid:9) 2 ) (cid:1) ( (cid:1) (cid:9) 1 ) ) . We consider all vertices with expected degree less than the average degree d . By a straight - forward computation , there are about ( (cid:1) (cid:9) 2 ) (cid:1) ( (cid:1) (cid:9) 1 ) (cid:1) (cid:9) 1 n such vertices . For a vertex u and a subset T of vertices , the probability that u has only one neighbor that has expected degree less than d and is not adjacent to any vertex in T is at least (cid:4) w v (cid:6) d w u w v (cid:2) (cid:5) j (cid:15) v (cid:7) 1 (cid:3) w u w j (cid:2) (cid:8) (cid:6) w u vol (cid:7) S d (cid:8) (cid:2) e (cid:9) w u (cid:6) (cid:7) 1 (cid:3) (cid:7) (cid:1)(cid:3) 2 (cid:1)(cid:3) 1 (cid:8) (cid:1)(cid:3) 2 (cid:8) w u e (cid:9) w u . Note that this probability is bounded away from 0 , ( say , it is greater than c for some constant c ) . Then , with prob - ability at least n (cid:9) 1 / 100 , we have an induced path of length at least log n (cid:1) ( 100 log c ) in G . Starting from any vertex u , we search for a path as an induced subgraph of length at least log n (cid:1) ( 100 log c ) in G . If we fail to find such a path , we simply repeat the process by choosing another vertex as the starting point . Since S d has at least ( ( (cid:1) (cid:9) 2 ) (cid:1) ( (cid:1) (cid:9) 1 ) ) (cid:1) (cid:9) 1 n vertices , then with high probability , we can find such a path . Hence the diameter is almost surely (cid:12) ( log n ) . For the case of (cid:1) (cid:2) 3 , similar arguments show that the power law random graph almost surely has diameter of order log n but the average distance is (cid:12) ( log n (cid:1) log d˜ ) (cid:2) (cid:12) ( log n (cid:1) log log n ) . Summary When random graphs are used to model large complex graphs , the small - world phenomenon of having short characteristic paths is well captured in the sense that with high probability , power law random graphs with exponent (cid:1) have average distance of order log n if (cid:1) (cid:1) 3 , and of order log log n if 2 (cid:6) (cid:1) (cid:6) 3 . Thus , a phase transition occurs at (cid:1) (cid:2) 3 and , in fact , the average distance of power law random graphs with exponent 3 is of order log n (cid:1) log log n . More specifically , for the range of 2 (cid:6) (cid:1) (cid:6) 3 , there is a distinct core of diameter log log n so that almost all vertices are within distance log log n from the core , while almost surely there are vertices of distance log n away from the core . Another aspect of the small - world phenomenon concerns the so - called clustering effect , which asserts that two people who share a common friend are more likely to know each other . However , the clustering effect does not appear in random graphs and some explanation is in order . A typical large network can be regarded as a union of two major parts : a global network and a local network . Power law random graphs are suitable for mod - eling the global network while the clustering effect is part of the distinct characteristics of the local network . Based on the data graciously provided by Jerry Grossman ( Oakland University , Rochester , MI ) , we consider two types of collaboration graphs with roughly 337 , 000 authors as vertices . The first collaboration graph G 1 has about 496 , 000 edges with each edge joining two coauthors . It can be modeled by a random power law graph with exponent (cid:1) 1 (cid:2) 2 . 97 and d (cid:2) 2 . 94 ( see Fig . 1 and 2 ) . The second collaboration graph G 2 has about 226 , 000 edges , each representing a joint paper with exactly two authors . The collaboration graph G 2 corresponds to a power law graph with exponent (cid:1) 2 (cid:2) 3 . 26 and d (cid:2) 1 . 34 . Theorem 3 predicts that the value for the average distance in this case should be 9 . 89 ( with a lower order error term ) . In fact , the actual average distance in this graph is 9 . 56 ( www . oakland . edu (cid:1) (cid:3) grossman (cid:1) trivia . html ) . This research was supported in part by National Science Foundation Grant DMS 0100472 . 1 . Milgram , S . ( 1967 ) Psychol . Today 2 , 60 – 67 . 2 . Albert , R . , Jeong , H . & Baraba´si , A . ( 1999 ) Nature 401 , 130 – 131 . 3 . Erdo˝s , P . & Re´nyi , A . ( 1959 ) Publ . Math . Debrecen 6 , 290 – 291 . 4 . Aiello , W . , Chung , F . & Lu , L . ( 2001 ) Exp . Math . 10 , 53 – 66 . 5 . Aiello , W . , Chung , F . & Lu , L . ( 2002 ) in Handbook of Massive Data Sets , eds . Abello , J . , Pardalos , P . M . & Resende , M . G . C . ( Kluwer , Dordrecht , The Netherlands ) , pp . 97 - 122 . 6 . Baraba´si , A . - L . & Albert , R . ( 1999 ) Science 286 , 509 – 512 . 7 . Jeong , H . , Tomber , B . , Albert , R . , Oltvai , Z . & Baba´rasi , A . - L . ( 2000 ) Nature 407 , 378 – 382 . 8 . Molloy , M . & Reed , B . ( 1995 ) Random Struct . 6 , 161 – 179 . 9 . Molloy , M . & Reed , B . ( 1998 ) Combin . Probab . Comput . 7 , 295 – 305 . 10 . Newman , M . E . J . , Strogatz , S . H . & Watts , D . J . ( 2000 ) e - Print Archive , http : (cid:1)(cid:1) xxx . lanl . gov (cid:1) abs (cid:1) condmat (cid:1) 0007235 . 11 . Newman , M . E . J . , Watts , D . J . & Strogatz , S . H . ( 2002 ) Proc . Natl . Acad . Sci . USA , 99 , Suppl . 1 , 2566 – 2572 . 12 . Faloutsos , M . , Faloutsos , P . & Faloutsos , C . ( 1999 ) SIG - COMM’99 29 , 251 – 262 . 13 . Broder , A . , Kumar , R . , Maghoul , F . , Raghavan , P . , Rajagopalan , S . , Stata , R . , Tompkins , A . & Wiener , J . ( 2000 ) WWW9 (cid:1) Computer Networks 33 , 309 – 320 . 14 . Yook , S . H . , Jeong , H . & Baraba´si , A . L . ( 2002 ) Proc . Natl . Acad . Sci . USA 99 , 13382 – 13386 . 15 . Zipf , G . K . ( 1949 ) Human Behavior and the Principle of Least Effort ( Hafner , New York ) . 16 . Lotka , A . J . ( 1926 ) J . Wash . Acad . Sci . 16 , 317 . 17 . Pareto , V . ( 1897 ) Cours d’Economie Politique ( Rouge , Lausanne et Paris ) . 18 . Erdo˝s , P . & Gallai , T . ( 1961 ) Mat . Lapok 11 , 264 – 274 . 19 . Alon , N . & Spencer , J . H . ( 1992 ) The Probabilistic Method ( Wiley , New York ) . 20 . Lu , L . ( 2002 ) Ph . D . thesis ( University of California , San Diego ) . 21 . Chung , F . & Lu , L . ( 2002 ) Ann . Combinatorics , in press . 22 . Chung , F . & Lu , L . ( 2001 ) Applied Math . 26 , 257 – 279 . 15882 (cid:2) www . pnas . org (cid:1) cgi (cid:1) doi (cid:1) 10 . 1073 (cid:1) pnas . 252631999 Chung and Lu