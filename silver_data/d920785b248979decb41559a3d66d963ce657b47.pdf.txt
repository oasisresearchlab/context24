TripRec : Trip Plan Recommendation System that Enhances Hotel Services Abstract This paper presents a recommendation system for tourists who do not have a trip plan in a city they visit . Chiang Mai , Thailand is used as a case study . Thailand Department of Tourism ’ s database and Foursquare API are used in our recommender system to create a one - day trip for the user . The recommendation is made based on the user ’ s preferred tourist destination type images , current location , appropriate distance , time period , and place ’ s popularity . The system also recommends restaurants and coffee shops that are nearby each recommended attraction , and it also displays the suggested route with street views so that the user can get an idea of how the journey is going to look like . Moreover , the user can print out the recommended result so that they can take it with them on their trip . The system is developed to be used as a desktop application installed at the hotel to enhance hotel services . Author Keywords Tourism ; trip recommender ; urban application ; hotel service ACM Classification Keywords H . 5 . m . Information interfaces and presentation ( e . g . , HCI ) : Miscellaneous Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page . Copyrights for components of this work owned by others than ACM must be honored . Abstracting with credit is permitted . To copy otherwise , or republish , to post on servers or to redistribute to lists , requires prior specific permission and / or a fee . Request permissions from Permissions @ acm . org . UbiComp / ISWC ' 17 Adjunct , September 11 – 15 , 2017 , Maui , HI , USA © 2017 Association for Computing Machinery . ACM ISBN 978 - 1 - 4503 - 5190 - 4 / 17 / 09 $ 15 . 00 https : / / doi . org / 10 . 1145 / 3123024 . 3124414 Nonnadda Silamai Department of Computer Engineering Chiang Mai University , Chiang Mai , Thailand tontong1412 @ gmail . com Narongchai Khamchuen Department of Computer Engineering Chiang Mai University , Chiang Mai , Thailand narongchai _ khamchuen @ hotmail . com Santi Phithakkitnukoon * Excellence Center in Infrastructure Technology and Transportation Engineering ( ExCITE ) and Department of Computer Engineering Chiang Mai University , Chiang Mai , Thailand santi @ eng . cmu . ac . th * Corresponding author 412 UBICOMP / ISWC ’17 ADJUNCT , SEPTEMBER 11 - 15 , 2017 , MAUI , HAWAII , USA Introduction Nowadays , people all around the world are interested in travelling and technology has taken an active part in the tourism industry , which make travelling a lot easier than before . We are one of those who like travelling and while travelling abroad , we have observed that there are a number of tourists who do not plan for their trips or have trouble deciding where to go and what to do . They ask hotel service staff for trip information but sometimes the answer does not always meet their interests . Other than looking for places to go , most of tourists , especially foreigners , have trouble finding places to eat while travelling . Food is one of the most important factors that lift tourist ’ s enjoyment while travelling so we think that restaurants nearby attractions should also be added into the trip plan so the tourists do not have to go out of their way to eat . The recommendation system presented here is thus motivated to address the above issue . It is called TripRec which is an interactive application that can be used to help plan the trip agenda based on the user ’ s preference , whereas the available tourism websites only provide generic information but not a precise trip plan for the user . Moreover , route ’ s street view is provided for the user to get an idea of how the journey is going to look like . In the end , the system creates easy graphics including trip schedule , attraction ’ s information , and restaurants / coffee shops for the user to print out and take it with them as well as keep it as a souvenir . Related work Nguyen [ 1 ] presents a smartphone application that allows the user to search places of interest and mark them on the map , and create their own trip plan . The app can provide a trip map on - the - go , yet it does not recommend places to go or eat . Yin et al [ 2 ] introduce an interactive trip planning system that is based on existing travel clues recovered from geo - tagged photos . This application can show things to do on the user ’ s selected location based on travel duration , visiting time and travel style . The drawback is that the app does not take into account the use ’ s preference but rather recommends places based on the popularity . Sivir et al . [ 3 ] present a framework called TripBuilder for touristic tour planning based on mining of Flckr and Wikipedia data . The focus was more on the unsupervised data mining framework but not the actual interactive application . The app does not provide trip schedule as our TripRec . TripRec Our recommender system , TripRec uses a combination of the knowledge - based and community - based approaches to plan a trip that suits the user ’ s interest . The system starts with getting input from the user as how they react to a group of pictures that represent different types of tourist destinations they prefer , and the time budget they have for travelling . Then the system calculates using user ’ s input , hotel location , and number of checkins on Foursquare ( social media ) to create a one day trip for the user . The system was developed using Processing Development Environment ( PDE ) 1 . 1 https : / / processing . org 413 UBICOMP / ISWC ’17 ADJUNCT , SEPTEMBER 11 - 15 , 2017 , MAUI , HAWAII , USA Data Sources Our system uses a database of tourist destinations in Thailand provided to us by the Thailand Department of Tourism 2 . Each data item includes place name , latitude , longitude , hours , fees , place description , and type of place . Along with the place information , TripRec uses Foursquare API 3 to obtain an up - to - date data in terms of popularity of places . MySQL is used to connect the system to database and manage the data , while HTTP request is utilized to access Foursquare checkins data ( the response returns the data in JSON format ) . User ’ s Preference On TripRec ’ s main page ( Fig . 1 ) , a collection of images that represent different types of places , including natural , manmade , art and culture , and historical , is presented . Each image may represent more than one type , for example , natural + historical or manmade + historical . The user can select up to five images and then the user is asked to rank them based on their preference by tagging a gold , silver , or bronze medal icons , as shown in Fig 2 . These ranking is later used the weight for place recommendation and trip scheduling . Time Budget Tourists sometime do not have the whole day for a trip . Therefore , the system provides a time management that allows the user to specify time to depart from the hotel as well as time to come back , on the main page of the system as shown in Fig . 3 . The system also provides “ Anytime ” option for the user who do not have limited time budget . If the user chooses this Anytime option for 2 http : / / www . tourism . go . th 3 https : / / developer . foursquare . com departure time , the system will consider an hour after current time as a departure time ( to allow the user to get ready ) . If the user chooses Anytime option for the comeback time , the system will automatically set 8pm as the comeback time . Figure 1 : TripRec ’ s main page shows a collection of random tourist destination images that represent the place types for the user to choose from . Figure 2 : The user can rank the selected images based on their preference by tagging it with ( gold , silver , bronze ) metal icons . Figure 3 : Time selector on the first page of the program to determine how much time the user have . 414 SESSION : PURBA Constrains To meet user satisfaction , some constrains should be made , otherwise the user could be too exhausted due to a busy trip . So , the system sets the following constrains : § The distance between the hotel and the farthest destination must not to exceed 100km . § Each destination must be less than 20km from the main route . § Total time of travel must not be more than 10 hours . Map of Recommended Trip Plan After the system obtains and processes all inputs it needs , the system generates a map with a route to places in order . It uses the Google Directions API 4 to get route directions and time used for travelling , and the system optimizes the route by using Dijkstra shortest path algorithm then presents to the user a map ( as shown in Fig . 4 ) so the user can have an idea ( geographically ) of where they are headed . In Fig . 4 , there are three main indicators : ( 1 ) Location of the hotel . ( 2 ) Current position , heighted in blue . This is important for seeing the current position of the street views mode ( described later ) . ( 3 ) Destinations that have been scheduled in order . On the map ( Fig . 4 ) , the user can click on each marker to see the information of the place that includes place name , picture , and brief description as an example shown in Fig . 5 . 4 https : / / developers . google . com / maps / documentation / directions Figure 4 : An example of the result displayed on a map with a route and places each marked with a visit sequence number . Figure 5 : Information of destination when click marker . 415 UBICOMP / ISWC ’17 ADJUNCT , SEPTEMBER 11 - 15 , 2017 , MAUI , HAWAII , USA Food suggestions Finding something to eat is one of the main problems for tourists . The system recommends a few of coffee shops and restaurants that are nearby the recommended places by using rating scores gathered via Foursquare API . When the user clicks on destination marker , the top three coffee shops and restaurants within 500m around each destination will be presented to the user as the choice in case that they want to find something to eat ( as shown in Fig . 6 ) . The user can also click on the restaurant marker to see restaurant ’ s name , rating , and previous customer ’ s comments . An example is shown in Fig . 7 . Figure 7 : Coffee shop ’ s and restaurant ' s information is shown in the screen when the user clicks on the eatery marker . Street views Another feature that helps the user to visualize the route . The system shows route ’ s street views by getting images from the Google Street View Images API 5 . To get desired images , the location ( in latitude and 5 https : / / developers . google . com / maps / documentation / streetview longitude format ) , and angle of view are required . Since we can only get waypoints from the Google Directions API , we needed to connect those points by forming linear equation derived from two coordinate positions . 𝑦 − 𝑦 # = 𝑚 𝑥 − 𝑥 # ( 1 ) 𝑚 = ( ) * ( + , ) * , + ( 2 ) 𝜃 = arctan 𝑚 ( 3 ) Equation ( 1 ) is a linear equation derived with from two points ( x and y , where each has coordinate ( x1 , y1 ) and ( x2 , y2 ) , respectively ) , while Eq . 2 is the slope of the equation , and Eq . 3 is the angle used to identify direction of the street view . After obtaining the equation , we increase the x ( latitude ) value by 0 . 0001 to get the next position on the map for each street view . The y ( longitude ) value consequently changes according to the x value . Finally , the images are displayed for each frame to show the route ’ s street view to the user ( as shown in Fig . 8 ) . Pamphlet The purpose of the pamphlet is to make it easy for the user to get the information of the recommended trip plan . Therefore , we present trip ’ s information including destination ’ s name , operating hours , and fees ( in any ) , sequence of places to visit , departure / arrival times for each place to guarantee that the user will get back to the hotel in preferred time , and a list of nearby restaurants and coffee shops . An example of the resulting pamphlet ( trip plan ) ready to be printed out and taken away by the user is shown in Fig . 9 . Figure 6 : Example of suggested cafe and restaurants nearby each attraction . 416 SESSION : PURBA Figure 8 : The user can choose to see the route ’ s street view to have an idea of how the trip route looks like . Figure 9 : An example of a resulting trip plan in forms of pamphlet that can be printed out and taken away with the user on the recommended tip . Demo For demonstration purposes , a video clip showing how TripRec works is available at : https : / / www . youtube . com / watch ? v = cUdXbC5KPy8 . User Experience Study To get the feedbacks from the actual users , a user experience study was conducted with the users who were foreign tourists staying in a hotel in Chiang Mai . The hotel is situated in the city center ( near the city canal ) . We designed our survey questionnaire based on the theory of four elements of user experience [ 6 ] . There was a total of 40 people who tested our TripRec including 23 males and 17 females . They were students , engineers , officers , teachers , and others . Each person was asked to use the system then fill out the questionnaire form by giving a rating ( 1 - to - 5 Disagree - Agree ) on four statements : 1 . It is useful . 2 . It is easy to use . 3 . It is easy to start using . 4 . It is fun and engaging . The average ratings from all users are shown in Fig . 10 . This overall result suggests that the system is not so easy to use with the average rating of 4 . 43 , which is the lowest among others . On the other hand , the system ’ s usefulness and “ being easy to start using ” are highly perceived . So , the system needs to improve on the “ easy to use ” element , as reflected in one of the comments from a male student , “ Program instructions are not clear , so I need to try around here and there ” . Clearer instructions are thus part of our future development of TripRec . 417 UBICOMP / ISWC ’17 ADJUNCT , SEPTEMBER 11 - 15 , 2017 , MAUI , HAWAII , USA Figure 10 : Average ratings from all 40 users who are foreign tourists visiting Chiang Mai . By separating the users by gender , we observed quite similar response compared with the overall result where “ easy to use ” is still ranked the lowest for both genders ( Fig . 11 ) . Female users rated the usefulness relatively high ( 4 . 82 average ) . One of the female users who is a student commented that “ Very very nice ! We would use it ! ” . Male users found the system to be “ easy to start using ” as they rated this the highest among themselves ( 4 . 61 average ) . A male student gave us a comment “ Great app . Very helpful for travelers who are limited on time . Quick and easy to use . ” Another male student commented that “ Great app ! Well done ! ” . Figure 11 : Result grouped by gender . By grouping the users by age , the result shows that the older users gave gradually higher rates for the system being useful , easy to start using , and fun and engaging , except for the 50 - 59 age range . Users from the age of 30 to 49 found the system useful the most . Users who are less than 20 years old and between 30 - 39 found the system easy to use the most among other ages . Being easy to start using and fund and engaging are rated highest by the group of 30 - 49 . A male officer whose age is between 40 - 49 commented that “ Everything is great , very useful , but the system is quite slow ” . This is due to the waiting time for the Google Maps Directions API requests . We will need to improve on the processing speed in our future development . Figure 12 : Result grouped by age range . We further grouped the users by occupation ( Fig . 13 ) and found that teachers and others found the system useful easy to start using the most . The system is rated the highest for being fun by engineers and easy by officers . On the other hand , students rated the lowest for the system being easy to use . This is probably due to the lack of more information and clear instructions . In the 4 . 65 4 . 43 4 . 65 4 . 58 4 . 2 4 . 4 4 . 6 4 . 8 Useful Easy to Use Easy to Start Fun 4 . 52 4 . 35 4 . 61 4 . 52 4 . 82 4 . 53 4 . 71 4 . 65 4 4 . 2 4 . 4 4 . 6 4 . 8 5 Useful Easy to Use Easy to Start Fun Male Female 0 1 2 3 4 5 6 Useful Easy to Use Easy to Start Fun < 20 20 - 29 30 - 39 40 - 49 50 - 59 418 SESSION : PURBA future , we will add an instruction tab to the main page . Fig . 14 shows a moment in this user experience study . Figure 13 : Result grouped by occupation . Figure 14 : User experience study from foreign tourists at the @ Box Hostel Chiang Mai . Conclusion Motivated by our actual experience of traveling to another country and had no trip plan , here we present a trip recommendation system called TripRec that suggests trip plan based on the user ’ s preference , time period , hotel location , and place ’ s popularity . The system bases its recommendation on the tourist destination information provided by the Thailand Department of Tourism , Foursquare checkins for popularity , and Google Maps Directions API for route choice . The system also provides the route ’ s street view feature to allow the user to visualize the route in which they are travel to . The trip plan can be printed out in forms of pamphlet with all needed information along with nearby restaurants , so that the user can bring it along on their trip . The system was evaluated through a user experience study conducted at a hotel in Chiang Mai , Thailand with 40 participants who are foreign tourists in Chiang Mai . The system was well received . However , there are elements to be improved in the future development such as the element of being easy to use and the processing time that is uncomfortably slower that we hoped , especially for a day - long trip that includes several destinations on the trip . Nonetheless , we believe that our TripRec is a useful system that can add value to hotel services . It can potentially help take lots of workload from the front desk staff and even create a hangout area where travelers chat around the TripRec and compare and discuss their trips with other travelers . Acknowledgements We would like to thank the Thailand Department of Tourism for providing us with the valuable database of tourist destinations in Thailand . 3 . 8 4 4 . 2 4 . 4 4 . 6 4 . 8 5 5 . 2 Useful Easy to Use Easy to Start Fun Students Engineers Officers Teachers Others 419 UBICOMP / ISWC ’17 ADJUNCT , SEPTEMBER 11 - 15 , 2017 , MAUI , HAWAII , USA References [ 1 ] Thu Nguyen . MyMapTrip App for Android Smart Phone . In Proc . 3rd ACM International Conference on Computing for Geospatial Research and Applications , 2012 . [ 2 ] Yin et al . Photo2Trip : An Interactive Trip Planning System Based on Geo - Tagged Photos . In Proc . 18th ACM international conference on Multimedia , 2010 . [ 3 ] Brilhante et al . Where Shall We Go Today ? Planning Touristic Tours with TripBuilder . In Proc . 22nd ACM international conference on Information & Knowledge Management , 2013 . [ 4 ] Tara Aungsakul . ( 2014 ) . The system introduces individual attractions using grouping techniques and sequential analytical processes . [ 5 ] E . W . Dijkstra . ) 1959 ( . A Note on Two Problems in Connexion with Graphs . [ 6 ] F . Guo . 2012 . More Than Usability : The Four Elements of User Experience . Retrieved April 19 , 2017 from http : / / www . uxmatters . com / mt / archives / 2012 / 04 / more - than - usability - the - four - elements - of - user - experience - part - i . php 420 SESSION : PURBA